# 693. Time To Practice: A Second Action

> Duração: `5min`

## Recursos
- 08-practice-second-action.zip
- 08-practice-second-action-standalone.zip

WEBVTT

1
00:00:02.430 --> 00:00:04.454
<v Maximilian>So now that we had a look</v>

2
00:00:04.454 --> 00:00:06.870
at this alternative Actions syntax here,

3
00:00:06.870 --> 00:00:09.420
which is worth knowing, I wanna make sure

4
00:00:09.420 --> 00:00:13.770
that we can come to an end for this basic introduction here.

5
00:00:13.770 --> 00:00:15.180
And for that I wanna start

6
00:00:15.180 --> 00:00:17.520
by making this alternative button here work.

7
00:00:17.520 --> 00:00:20.280
The button which decrements the counter,

8
00:00:20.280 --> 00:00:23.850
before I then will also dive into selectors.

9
00:00:23.850 --> 00:00:27.330
And of course, that's now also a great practice for you.

10
00:00:27.330 --> 00:00:30.660
Add a new Action for decrementing the counter

11
00:00:30.660 --> 00:00:33.960
and make sure that this Action gets dispatched

12
00:00:33.960 --> 00:00:36.720
and also handled in the Reducer.

13
00:00:36.720 --> 00:00:38.400
Here is a short pause for a you,

14
00:00:38.400 --> 00:00:40.320
which you can use to pause the video.

15
00:00:40.320 --> 00:00:44.010
And after this pause, we'll implement this next Action,

16
00:00:44.010 --> 00:00:46.713
this decrement Action together.

17
00:00:50.730 --> 00:00:53.100
So were you successful?

18
00:00:53.100 --> 00:00:56.220
Let's implement this Action together.

19
00:00:56.220 --> 00:00:58.620
And for that, in the counter Actions ts file

20
00:00:58.620 --> 00:01:02.640
I'll start by exporting a new constant called decrement,

21
00:01:02.640 --> 00:01:05.790
which I will set equal to the value produced

22
00:01:05.790 --> 00:01:08.520
by calling create Action, which as you learned,

23
00:01:08.520 --> 00:01:09.723
yields as a function,

24
00:01:10.680 --> 00:01:15.450
where I will assign my own unique identifier for this Action

25
00:01:15.450 --> 00:01:17.610
using a similar convention

26
00:01:17.610 --> 00:01:20.760
and style as I did for the increment Action.

27
00:01:20.760 --> 00:01:23.710
This time using decrement as an identifier

28
00:01:24.780 --> 00:01:28.320
and where we then can also set the shape

29
00:01:28.320 --> 00:01:31.830
of data that might be attached to this Action

30
00:01:31.830 --> 00:01:35.820
so that here we maybe also accept a number value.

31
00:01:35.820 --> 00:01:37.710
Of course, this is optional though.

32
00:01:37.710 --> 00:01:39.930
We could also define this app such

33
00:01:39.930 --> 00:01:42.240
that this detriment Action always leads

34
00:01:42.240 --> 00:01:45.930
to a value of one being deducted from the counter.

35
00:01:45.930 --> 00:01:49.890
As you learned before, Actions can carry extra data

36
00:01:49.890 --> 00:01:51.573
but they don't have to.

37
00:01:52.560 --> 00:01:55.477
But here to practice the attachment of data again,

38
00:01:55.477 --> 00:01:58.200
I will set this second parameter,

39
00:01:58.200 --> 00:02:01.170
which defines the shape of data that can be attached

40
00:02:01.170 --> 00:02:02.250
to the Action.

41
00:02:02.250 --> 00:02:05.160
And with that in the counter controls component

42
00:02:05.160 --> 00:02:07.560
in this decrement method here,

43
00:02:07.560 --> 00:02:11.850
we can of course dispatch this newly added Action

44
00:02:11.850 --> 00:02:16.850
by importing decrement from this Store CounterActions file

45
00:02:21.333 --> 00:02:22.950
and by then executing it as a function to

46
00:02:22.950 --> 00:02:26.070
which we pass an object that has a value property.

47
00:02:26.070 --> 00:02:27.450
And then here we could set the value

48
00:02:27.450 --> 00:02:30.813
to two, three, one, whatever we want.

49
00:02:32.610 --> 00:02:34.500
Now with that, I'm getting an error here

50
00:02:34.500 --> 00:02:38.100
because actually when defining the Action props

51
00:02:38.100 --> 00:02:40.740
this second parameter here is actually

52
00:02:40.740 --> 00:02:42.540
a function that must be executed.

53
00:02:42.540 --> 00:02:45.240
So these two opening and closing parentheses

54
00:02:45.240 --> 00:02:47.073
at the end must be added.

55
00:02:48.630 --> 00:02:50.460
With that we're defining the Action

56
00:02:50.460 --> 00:02:53.790
and we're dispatching it with some data attached to it,

57
00:02:53.790 --> 00:02:57.753
which again is optional but required for this Action now.

58
00:02:58.860 --> 00:03:02.130
And we also want to handle this Action in the Reducer.

59
00:03:02.130 --> 00:03:05.160
And for that, of course, when using create Reducer,

60
00:03:05.160 --> 00:03:08.610
we can simply again, call on and add this

61
00:03:08.610 --> 00:03:12.990
as an additional argument past two, create Reducer.

62
00:03:12.990 --> 00:03:14.190
And that, of course is something

63
00:03:14.190 --> 00:03:15.930
that maybe was tricky for you.

64
00:03:15.930 --> 00:03:19.470
You can simply add more and more on arguments

65
00:03:19.470 --> 00:03:22.650
to this Reducer here to create Reducer to

66
00:03:22.650 --> 00:03:25.173
define the different cases you want to handle.

67
00:03:26.130 --> 00:03:30.900
And then here we can use decrement by importing that

68
00:03:30.900 --> 00:03:33.210
from counter Actions and set that

69
00:03:33.210 --> 00:03:35.730
as a first argument for on.

70
00:03:35.730 --> 00:03:38.070
And then the second argument is that state

71
00:03:38.070 --> 00:03:41.280
changing function, which gets the state,

72
00:03:41.280 --> 00:03:42.300
which we currently have

73
00:03:42.300 --> 00:03:45.450
and the Action that was dispatched as an input.

74
00:03:45.450 --> 00:03:48.060
And then here I wanna set my new state equal to

75
00:03:48.060 --> 00:03:50.763
state minus Action dot value.

76
00:03:52.440 --> 00:03:54.900
So pretty much the same as we had it before.

77
00:03:54.900 --> 00:03:57.090
Now just deducting the value,

78
00:03:57.090 --> 00:03:59.490
though of course you could do whatever you wanted do,

79
00:03:59.490 --> 00:04:01.833
here in this state changing function.

80
00:04:03.120 --> 00:04:04.680
But with that, that's it.

81
00:04:04.680 --> 00:04:06.870
If you now save this

82
00:04:06.870 --> 00:04:09.933
and you run ng serve, you will see that

83
00:04:13.140 --> 00:04:17.390
now if you press decrement, this counter is reduced,

84
00:04:17.390 --> 00:04:19.977
and if we increment it, it rises again.

85
00:04:21.540 --> 00:04:23.700
So that's all working as it should.

86
00:04:23.700 --> 00:04:26.610
And of course, the code is again the same

87
00:04:26.610 --> 00:04:29.040
no matter how you're building your application.

88
00:04:29.040 --> 00:04:33.090
Therefore, I'll copy this counter Reducer code here

89
00:04:33.090 --> 00:04:34.650
into the counter Reducer file

90
00:04:34.650 --> 00:04:37.740
of my Standalone Component application.

91
00:04:37.740 --> 00:04:40.950
And I'll do the same for my Actions code.

92
00:04:40.950 --> 00:04:43.920
Copy that from the module based application

93
00:04:43.920 --> 00:04:48.360
into the Actions file of the Standalone application.

94
00:04:48.360 --> 00:04:52.140
And for the counter controls component,

95
00:04:52.140 --> 00:04:55.780
I will copy these two methods here

96
00:04:56.760 --> 00:04:59.610
into my counter controls component

97
00:04:59.610 --> 00:05:01.440
in the Standalone Component application

98
00:05:01.440 --> 00:05:03.090
and replace the methods here.

99
00:05:03.090 --> 00:05:05.730
And then just also add this import

100
00:05:05.730 --> 00:05:08.250
of decrement here to the imports.

101
00:05:08.250 --> 00:05:10.740
So that in a Standalone Component application

102
00:05:10.740 --> 00:05:12.573
we now also have some working code.

103
00:05:13.800 --> 00:05:16.950
Therefore, if I run NG server here just to prove

104
00:05:16.950 --> 00:05:18.210
that everything works.

105
00:05:18.210 --> 00:05:20.307
If I reload this app incrementing

106
00:05:20.307 --> 00:05:22.950
and decrementing the counter, which now

107
00:05:22.950 --> 00:05:26.403
is this Standalone application here works just fine.

