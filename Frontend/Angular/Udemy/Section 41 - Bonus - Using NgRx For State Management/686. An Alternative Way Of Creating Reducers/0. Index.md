# 686. An Alternative Way Of Creating Reducers

> Duração: `4min`

## Recursos
- 04-alternative-reducer-syntax.zip
- 04-alternative-reducer-syntax-standalone.zip

WEBVTT

1
00:00:02.070 --> 00:00:04.110
<v Maximilian>Now, as you saw in the previous lecture,</v>

2
00:00:04.110 --> 00:00:07.110
creating a Reducer is quite simple.

3
00:00:07.110 --> 00:00:10.440
You just have to execute the createReducer function,

4
00:00:10.440 --> 00:00:13.443
which is provided by NgRx Store.

5
00:00:14.430 --> 00:00:15.900
Now, it can be interesting

6
00:00:15.900 --> 00:00:18.570
to take a look under the hood here.

7
00:00:18.570 --> 00:00:21.810
Also, because later in this section,

8
00:00:21.810 --> 00:00:24.720
I will be using a slightly different way

9
00:00:24.720 --> 00:00:27.180
of creating these Reducers

10
00:00:27.180 --> 00:00:30.630
also to help you understand what's going on under the hood

11
00:00:30.630 --> 00:00:33.930
and also because this createReducer function

12
00:00:33.930 --> 00:00:36.750
has been around for quite some time now,

13
00:00:36.750 --> 00:00:40.710
but is not supported in older versions of NgRx.

14
00:00:40.710 --> 00:00:42.840
And, if you're therefore working on projects

15
00:00:42.840 --> 00:00:45.930
that do use older versions of NgRx

16
00:00:45.930 --> 00:00:49.260
because they might be using older versions of Angular,

17
00:00:49.260 --> 00:00:50.910
which is not uncommon,

18
00:00:50.910 --> 00:00:53.370
you should know the alternative way

19
00:00:53.370 --> 00:00:55.500
of creating such Reducers,

20
00:00:55.500 --> 00:00:58.770
which, in the end, is used under the hood by createReducer

21
00:00:58.770 --> 00:01:00.540
and which will always work

22
00:01:00.540 --> 00:01:03.603
no matter which NgRx version you're using.

23
00:01:04.830 --> 00:01:06.660
And, when using this older

24
00:01:06.660 --> 00:01:09.600
or simply alternative approach here,

25
00:01:09.600 --> 00:01:13.530
you would create the Reducer function yourself.

26
00:01:13.530 --> 00:01:15.930
counterReducer could still be the name.

27
00:01:15.930 --> 00:01:19.140
And you would still export it like this.

28
00:01:19.140 --> 00:01:21.720
Now, this counterReducer function,

29
00:01:21.720 --> 00:01:22.950
which we're creating here,

30
00:01:22.950 --> 00:01:26.160
should always accept at least one value.

31
00:01:26.160 --> 00:01:29.220
And that one argument that should be accepted, at least,

32
00:01:29.220 --> 00:01:34.110
should be the current State that's being managed by NgRx.

33
00:01:34.110 --> 00:01:37.650
Because counterReducer, this Reducer function here,

34
00:01:37.650 --> 00:01:41.250
will later be executed by NgRx,

35
00:01:41.250 --> 00:01:46.250
and NgRx will, for example, execute this Reducer function

36
00:01:46.350 --> 00:01:49.050
whenever an Action occurs

37
00:01:49.050 --> 00:01:53.010
or also when it initially sets up the Store.

38
00:01:53.010 --> 00:01:56.340
And that's, by the way, exactly the same for the Reducer

39
00:01:56.340 --> 00:01:58.980
that was created with createReducer.

40
00:01:58.980 --> 00:02:00.210
This Reducer,

41
00:02:00.210 --> 00:02:03.600
which also is simply such a function under the hood,

42
00:02:03.600 --> 00:02:07.470
will be executed by NgRx when an Action occurs

43
00:02:07.470 --> 00:02:10.500
or when the Store is being set up.

44
00:02:10.500 --> 00:02:13.830
Now, when this function is then executed by NgRx,

45
00:02:13.830 --> 00:02:18.510
it expects that you then return the updated new State.

46
00:02:18.510 --> 00:02:21.420
And, therefore, here, for this very basic use case,

47
00:02:21.420 --> 00:02:25.290
we might wanna return the initialState here.

48
00:02:25.290 --> 00:02:27.660
So we could set up our Reducer like this.

49
00:02:27.660 --> 00:02:30.240
Though it's actually recommended that you, instead,

50
00:02:30.240 --> 00:02:34.050
set your initialState as a default value for this argument

51
00:02:34.050 --> 00:02:37.380
so that, if this Reducer function should be executed

52
00:02:37.380 --> 00:02:40.110
without a State being passed into it,

53
00:02:40.110 --> 00:02:42.180
which is exactly what will be the case

54
00:02:42.180 --> 00:02:45.300
when the Store is created for the first time

55
00:02:45.300 --> 00:02:47.430
because, at that point of time,

56
00:02:47.430 --> 00:02:50.430
no State values will exist yet.

57
00:02:50.430 --> 00:02:53.040
So, when that's the case, the initialState

58
00:02:53.040 --> 00:02:56.250
will be passed in as a argument by NgRx instead,

59
00:02:56.250 --> 00:02:59.250
and you can then simply return the current state

60
00:02:59.250 --> 00:03:02.130
as a default value in this function.

61
00:03:02.130 --> 00:03:04.350
So, with that, counterReducer here

62
00:03:04.350 --> 00:03:06.480
will always return the current State.

63
00:03:06.480 --> 00:03:09.600
And, initially, when it's being executed the first time

64
00:03:09.600 --> 00:03:11.190
and there is no State yet,

65
00:03:11.190 --> 00:03:14.403
the State will simply be set to this initialState here.

66
00:03:15.480 --> 00:03:18.210
So, when you could also create your Reducer like this

67
00:03:18.210 --> 00:03:20.340
and that's, in the end, what's happening here

68
00:03:20.340 --> 00:03:23.130
when using createReducer.

69
00:03:23.130 --> 00:03:25.740
And, of course, for this very simple Reducer,

70
00:03:25.740 --> 00:03:28.650
which doesn't contain any extra logic yet,

71
00:03:28.650 --> 00:03:31.410
both approaches look quite similar,

72
00:03:31.410 --> 00:03:34.320
you will see more differences a little bit later

73
00:03:34.320 --> 00:03:38.490
once we start adding some logic to the Reducer.

74
00:03:38.490 --> 00:03:40.260
But, for the moment, that's it.

75
00:03:40.260 --> 00:03:41.670
And you can, of course, therefore use

76
00:03:41.670 --> 00:03:44.730
exactly the same approach in this application

77
00:03:44.730 --> 00:03:46.920
that uses Standalone Components.

78
00:03:46.920 --> 00:03:50.070
You could also create your Reducer like this,

79
00:03:50.070 --> 00:03:52.590
and it would then still be mapped

80
00:03:52.590 --> 00:03:55.080
to that key of your choice

81
00:03:55.080 --> 00:03:58.530
in the place where the Store is being created.

82
00:03:58.530 --> 00:04:01.350
So, therefore, over here in this NgModule

83
00:04:01.350 --> 00:04:03.930
to register this Reducer.

84
00:04:03.930 --> 00:04:05.460
And then, as mentioned,

85
00:04:05.460 --> 00:04:09.240
this Reducer function will be executed by NgRx

86
00:04:09.240 --> 00:04:11.880
when it first creates that Store.

87
00:04:11.880 --> 00:04:14.790
But that's, of course, not the only point of time

88
00:04:14.790 --> 00:04:17.433
where this Reducer will be executed.

