# 41. Outputting List Content

> Duração: `6min`

Sem Recursos

WEBVTT

1
00:00:00.000 --> 00:00:01.920
<v ->[Maximilian Schwarzmüller] Now I wanna come back</v>

2
00:00:01.920 --> 00:00:04.680
to this list of users here.

3
00:00:04.680 --> 00:00:06.150
We got a list of users.

4
00:00:06.150 --> 00:00:06.990
That's nice,

5
00:00:06.990 --> 00:00:10.710
but it's not really a dynamically rendered list.

6
00:00:10.710 --> 00:00:14.640
Instead, we're manually outputting for users here,

7
00:00:14.640 --> 00:00:16.890
and we're manually controlling

8
00:00:16.890 --> 00:00:19.590
which user we're accessing here.

9
00:00:19.590 --> 00:00:22.860
And of course the problem with that is that in reality,

10
00:00:22.860 --> 00:00:25.470
we have more than four users.

11
00:00:25.470 --> 00:00:27.333
We have six in this case.

12
00:00:28.350 --> 00:00:32.670
Now of course, we could simply add two more list items here,

13
00:00:32.670 --> 00:00:35.580
but that would only help in this situation.

14
00:00:35.580 --> 00:00:37.800
What if you're building an application

15
00:00:37.800 --> 00:00:41.790
where you have a list of data that dynamically changes

16
00:00:41.790 --> 00:00:46.230
where new items might be added or items might be removed.

17
00:00:46.230 --> 00:00:49.590
In that case, and also in a case like here

18
00:00:49.590 --> 00:00:52.170
where I don't wanna copy and paste

19
00:00:52.170 --> 00:00:54.660
and set up all that code manually,

20
00:00:54.660 --> 00:00:58.800
it would be nice to have some Angular feature

21
00:00:58.800 --> 00:01:02.205
that allows us to dynamically render that list,

22
00:01:02.205 --> 00:01:06.930
and that allows us to output as many list items as we need

23
00:01:06.930 --> 00:01:09.510
for the data we have in a list.

24
00:01:09.510 --> 00:01:12.360
And it turns out that such a feature,

25
00:01:12.360 --> 00:01:15.303
of course, exists in Angular.

26
00:01:16.740 --> 00:01:18.570
Here, in this unordered list,

27
00:01:18.570 --> 00:01:21.690
instead of outputting all those list items like this,

28
00:01:21.690 --> 00:01:24.480
we can use a special Angular syntax

29
00:01:24.480 --> 00:01:27.120
to dynamically render that list.

30
00:01:27.120 --> 00:01:29.825
And that syntax looks like this.

31
00:01:29.825 --> 00:01:34.825
@for, so almost like the for loop you know from JavaScript

32
00:01:36.240 --> 00:01:39.270
just with an extra @ in front of it

33
00:01:39.270 --> 00:01:43.233
so that Angular can easily detect it in your templates.

34
00:01:44.370 --> 00:01:48.450
Then parentheses, and then user of users,

35
00:01:48.450 --> 00:01:52.710
though this word here, user, is up to you.

36
00:01:52.710 --> 00:01:54.633
You can use any name you want here.

37
00:01:56.160 --> 00:01:59.460
This word on the other hand, is not up to you.

38
00:01:59.460 --> 00:02:04.460
This must refer to some property of your component class,

39
00:02:04.620 --> 00:02:08.730
which holds the list data through which you wanna loop.

40
00:02:08.730 --> 00:02:11.310
So which holds an array.

41
00:02:11.310 --> 00:02:15.120
Then you add curly braces, opening and closing,

42
00:02:15.120 --> 00:02:19.110
and then you put the code that should be repeated

43
00:02:19.110 --> 00:02:23.433
for every user, in this case between those curly braces.

44
00:02:25.530 --> 00:02:28.380
Now we can get rid of all these other list items

45
00:02:28.380 --> 00:02:31.290
because now they will be output dynamically,

46
00:02:31.290 --> 00:02:34.560
at least soon because as you can see at the moment,

47
00:02:34.560 --> 00:02:36.750
we still got an error here.

48
00:02:36.750 --> 00:02:39.210
And the error I am getting here

49
00:02:39.210 --> 00:02:43.683
is that such a for loop must have a track expression.

50
00:02:45.360 --> 00:02:47.656
This is solved by adding a semicolon

51
00:02:47.656 --> 00:02:52.656
after this first part of this for loop statement,

52
00:02:52.740 --> 00:02:57.740
and by then adding the track keyword and then user.ID here.

53
00:02:59.070 --> 00:03:01.140
And with that, the error goes away.

54
00:03:01.140 --> 00:03:03.417
And I'll explain what this track thing does

55
00:03:03.417 --> 00:03:04.893
in just a second.

56
00:03:06.000 --> 00:03:08.820
But with that, we're now replicating this list item

57
00:03:08.820 --> 00:03:12.363
once per user in our user's array.

58
00:03:13.770 --> 00:03:15.780
And the individual user

59
00:03:15.780 --> 00:03:18.510
for which this item is being replicated

60
00:03:18.510 --> 00:03:22.140
is made available through that user variable here,

61
00:03:22.140 --> 00:03:24.513
which is available inside of this for block.

62
00:03:25.440 --> 00:03:28.140
And we can use this user variable

63
00:03:28.140 --> 00:03:31.050
to then easily pass a specific user

64
00:03:31.050 --> 00:03:34.590
to every app user component instance

65
00:03:34.590 --> 00:03:37.650
so that different instances of this component

66
00:03:37.650 --> 00:03:39.603
receive different users.

67
00:03:41.370 --> 00:03:43.770
With that, if we save that,

68
00:03:43.770 --> 00:03:47.880
you will see that we now have the full list of users,

69
00:03:47.880 --> 00:03:52.880
and of course we got that result with way simpler code.

70
00:03:54.480 --> 00:03:56.910
Now, what's the idea behind this track thing,

71
00:03:56.910 --> 00:03:58.500
which we had to add?

72
00:03:58.500 --> 00:03:59.670
Well, the thing is that,

73
00:03:59.670 --> 00:04:02.880
of course we're dynamically outputting list data here,

74
00:04:02.880 --> 00:04:07.260
and Angular internally wants to keep track

75
00:04:07.260 --> 00:04:09.840
of every item that is being rendered

76
00:04:09.840 --> 00:04:13.620
so that if the list input data would change,

77
00:04:13.620 --> 00:04:16.410
if we would shuffle the list items around

78
00:04:16.410 --> 00:04:18.840
or remove some items,

79
00:04:18.840 --> 00:04:23.840
Angular could easily reuse already rendered list items

80
00:04:24.030 --> 00:04:27.270
and doesn't have to recreate the entire list

81
00:04:27.270 --> 00:04:30.150
every time the list data changes.

82
00:04:30.150 --> 00:04:34.530
With this track expression here, we're telling Angular

83
00:04:34.530 --> 00:04:38.580
which unique identification criteria

84
00:04:38.580 --> 00:04:43.580
can be assigned by Angular automatically behind the scenes

85
00:04:43.800 --> 00:04:46.680
to every list item, in this case,

86
00:04:46.680 --> 00:04:50.220
to every element it's rendering per user.

87
00:04:50.220 --> 00:04:54.270
And here it's that user ID, which will be unique per user.

88
00:04:54.270 --> 00:04:57.060
And Angular will basically connect that ID

89
00:04:57.060 --> 00:04:59.100
to every list item it outputs

90
00:04:59.100 --> 00:05:01.800
so that every list item has a different ID,

91
00:05:01.800 --> 00:05:05.610
and that then helps Angular update the list

92
00:05:05.610 --> 00:05:08.070
if the list data would change.

93
00:05:08.070 --> 00:05:12.123
Ut helps Angular update that list in a highly efficient way.

94
00:05:13.050 --> 00:05:14.520
Here it doesn't really matter

95
00:05:14.520 --> 00:05:16.830
because users will never change.

96
00:05:16.830 --> 00:05:21.540
Nonetheless, you always must add such a track expression.

97
00:05:21.540 --> 00:05:25.050
But with that, we can now output list content.

98
00:05:25.050 --> 00:05:27.240
And as you will see throughout the course,

99
00:05:27.240 --> 00:05:31.623
this is a crucial feature which you will be using a lot.

