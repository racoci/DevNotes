# 37. Exercise: Create a Configurable Component

> Duração: `9min`

Sem Recursos

WEBVTT

1
00:00:00.360 --> 00:00:01.830
<v Maximilian>Now that you learned a lot</v>

2
00:00:01.830 --> 00:00:03.900
about inputs and outputs

3
00:00:03.900 --> 00:00:06.120
and how to build and use components,

4
00:00:06.120 --> 00:00:09.120
it's time for a little exercise.

5
00:00:09.120 --> 00:00:11.310
And my exercise for you

6
00:00:11.310 --> 00:00:14.700
is that you should replace this texture

7
00:00:14.700 --> 00:00:18.603
with a separate component, a TasksComponent,

8
00:00:20.250 --> 00:00:22.920
which receives and outputs

9
00:00:22.920 --> 00:00:26.133
the name of the user that is selected.

10
00:00:28.230 --> 00:00:31.140
Now keep in mind that we are getting the information,

11
00:00:31.140 --> 00:00:34.560
which user is selected here in the AppComponent,

12
00:00:34.560 --> 00:00:36.750
and it's also here in the AppComponent

13
00:00:36.750 --> 00:00:40.200
where you should then add this TasksComponent,

14
00:00:40.200 --> 00:00:43.980
which you should build for this exercise here,

15
00:00:43.980 --> 00:00:47.433
so that you then output your TasksComponent here.

16
00:00:48.420 --> 00:00:51.150
Of course, it doesn't exist yet at this point,

17
00:00:51.150 --> 00:00:53.550
but you should build and output it

18
00:00:53.550 --> 00:00:58.550
and you should then pass the username to this component.

19
00:00:58.860 --> 00:01:00.750
You don't have to worry about styling

20
00:01:00.750 --> 00:01:02.340
or about any other features,

21
00:01:02.340 --> 00:01:04.860
but that's now an exercise for you.

22
00:01:04.860 --> 00:01:07.890
I'll give you a couple of seconds to pause the video

23
00:01:07.890 --> 00:01:09.300
and try this on your own,

24
00:01:09.300 --> 00:01:12.603
and thereafter we'll implement this together.

25
00:01:15.630 --> 00:01:20.100
So did you succeed? Let's try this together.

26
00:01:20.100 --> 00:01:24.300
And for that I'll start by creating a new component

27
00:01:24.300 --> 00:01:26.250
and I will do that with help

28
00:01:26.250 --> 00:01:28.170
of the Angular CLI,

29
00:01:28.170 --> 00:01:31.320
though you could of course also do it manually,

30
00:01:31.320 --> 00:01:35.190
but I'll generate a new component with ng g c,

31
00:01:35.190 --> 00:01:37.263
and I'll then name it tasks.

32
00:01:38.520 --> 00:01:40.260
Now, here's also a little trick.

33
00:01:40.260 --> 00:01:44.700
You can add --skip-tests to make sure

34
00:01:44.700 --> 00:01:48.240
that this testing file is not being generated

35
00:01:48.240 --> 00:01:50.310
because we don't need it here.

36
00:01:50.310 --> 00:01:54.180
Alternatively, we could of course also simply delete it,

37
00:01:54.180 --> 00:01:56.640
but this will not create it in the first place.

38
00:01:56.640 --> 00:02:00.000
And with that, therefore, I now got this tasks folder

39
00:02:00.000 --> 00:02:02.643
with those TasksComponent files,

40
00:02:04.020 --> 00:02:08.400
and now it's in this tasks.component.html file,

41
00:02:08.400 --> 00:02:11.820
where I wanna output the username, for example,

42
00:02:11.820 --> 00:02:13.080
in an htwo element.

43
00:02:13.080 --> 00:02:16.200
But it's totally up to you how you structure this

44
00:02:16.200 --> 00:02:17.670
and how you output this.

45
00:02:17.670 --> 00:02:19.953
That's not what this exercise is about.

46
00:02:21.390 --> 00:02:24.120
Now, for that, of course, we need to get the name

47
00:02:24.120 --> 00:02:26.220
of the user that should be output.

48
00:02:26.220 --> 00:02:29.190
And since we have that information,

49
00:02:29.190 --> 00:02:32.460
which user is selected in the AppComponent,

50
00:02:32.460 --> 00:02:35.040
that means that in the TasksComponent

51
00:02:35.040 --> 00:02:37.440
where we need that information,

52
00:02:37.440 --> 00:02:40.380
we have to accept an input.

53
00:02:40.380 --> 00:02:43.830
So we should import this input decorator

54
00:02:43.830 --> 00:02:46.773
and add a new input property.

55
00:02:48.060 --> 00:02:50.940
And that could now be the entire user.

56
00:02:50.940 --> 00:02:53.520
It could be the userId,

57
00:02:53.520 --> 00:02:55.290
and of course the name is up to you.

58
00:02:55.290 --> 00:02:58.590
And we could then use that ID to select the user

59
00:02:58.590 --> 00:03:01.170
from that DAMI users array.

60
00:03:01.170 --> 00:03:04.620
But of course it could also just be the name of the user

61
00:03:04.620 --> 00:03:06.543
and that's what I'll accept here.

62
00:03:07.470 --> 00:03:11.280
Now, that should be a string and I know that I will get it,

63
00:03:11.280 --> 00:03:13.410
but to ensure that I will get it,

64
00:03:13.410 --> 00:03:15.630
I will add this configuration object

65
00:03:15.630 --> 00:03:19.170
and set this to a required input.

66
00:03:19.170 --> 00:03:23.550
Now, with that, we can go to this tasks.component.html file,

67
00:03:23.550 --> 00:03:28.550
and then there use string interpolation to output that name.

68
00:03:29.670 --> 00:03:33.720
And that's all we have to do in this component.

69
00:03:33.720 --> 00:03:37.920
Now in the app.component.html file,

70
00:03:37.920 --> 00:03:42.195
I am already trying to use the TasksComponent,

71
00:03:42.195 --> 00:03:43.770
but of course here I'm getting an error

72
00:03:43.770 --> 00:03:46.053
that this is not a known element.

73
00:03:47.370 --> 00:03:50.880
Now I can use this quick fix to automatically add it

74
00:03:50.880 --> 00:03:52.230
to the imports array,

75
00:03:52.230 --> 00:03:54.930
or you can do this manually.

76
00:03:54.930 --> 00:03:56.640
Either way, you have to make sure

77
00:03:56.640 --> 00:03:59.610
that in the AppComponents imports array here

78
00:03:59.610 --> 00:04:03.723
in the component decorator, this TasksComponent is added.

79
00:04:04.920 --> 00:04:07.200
And to be able to add it here,

80
00:04:07.200 --> 00:04:10.503
it also must be imported here at the top of the file.

81
00:04:11.580 --> 00:04:14.700
Now in the AppComponent template,

82
00:04:14.700 --> 00:04:18.660
we of course want to set this name property

83
00:04:18.660 --> 00:04:22.470
and I wanna set it to a dynamic value because it will change

84
00:04:22.470 --> 00:04:25.440
whenever we select a different user.

85
00:04:25.440 --> 00:04:27.360
Now for that, of course, as a first step

86
00:04:27.360 --> 00:04:30.210
in the AppComponent class here,

87
00:04:30.210 --> 00:04:32.220
we have to make sure that we store

88
00:04:32.220 --> 00:04:35.403
that information, which user is selected.

89
00:04:36.450 --> 00:04:39.060
So we could add a selectedUser

90
00:04:39.060 --> 00:04:43.803
or maybe a selectedUserId property, whatever you want.

91
00:04:45.000 --> 00:04:49.830
And initially set this to u1, for example,

92
00:04:49.830 --> 00:04:51.360
if we're storing that ID

93
00:04:51.360 --> 00:04:54.330
to initially store the first user.

94
00:04:54.330 --> 00:04:56.580
Now here in onSelectUser,

95
00:04:56.580 --> 00:05:00.570
instead of console logging which user was selected,

96
00:05:00.570 --> 00:05:04.260
we can set this selectedUserId equal to

97
00:05:04.260 --> 00:05:07.680
that ID we're receiving as a parameter.

98
00:05:07.680 --> 00:05:11.100
Now, of course, in the template, we don't need the ID,

99
00:05:11.100 --> 00:05:13.837
but instead the name of the selectedUser,

100
00:05:15.060 --> 00:05:20.040
but we can now compute this by adding another property here,

101
00:05:20.040 --> 00:05:23.490
a getter property with the get keyword,

102
00:05:23.490 --> 00:05:25.533
which could be the selectedUser,

103
00:05:26.370 --> 00:05:30.393
so that we also practice the usage of computed values.

104
00:05:31.470 --> 00:05:34.590
And here I wanna return this.users,

105
00:05:34.590 --> 00:05:37.440
which is my list of all the users.

106
00:05:37.440 --> 00:05:42.440
And then I wanna find the user with this ID.

107
00:05:42.780 --> 00:05:45.030
And find, of course, is a method

108
00:05:45.030 --> 00:05:47.040
that's built into JavaScript.

109
00:05:47.040 --> 00:05:50.310
It's not Angular or TypeScript specific.

110
00:05:50.310 --> 00:05:51.900
Instead find allows us

111
00:05:51.900 --> 00:05:56.900
to, well, find a specific element in an array of elements.

112
00:05:57.870 --> 00:06:01.170
For that, find takes a function as an input.

113
00:06:01.170 --> 00:06:05.340
And that function then itself receives an input,

114
00:06:05.340 --> 00:06:08.010
which is the user it's currently looking at,

115
00:06:08.010 --> 00:06:10.590
because this function here will be executed

116
00:06:10.590 --> 00:06:13.320
for all the elements in that array,

117
00:06:13.320 --> 00:06:16.050
and it will then receive the individual element

118
00:06:16.050 --> 00:06:18.693
it's currently evaluating as an input.

119
00:06:19.770 --> 00:06:21.450
And we then have to return true

120
00:06:21.450 --> 00:06:23.940
if that's the element we were looking for

121
00:06:23.940 --> 00:06:26.460
or false otherwise.

122
00:06:26.460 --> 00:06:29.070
And therefore I wanna return true

123
00:06:29.070 --> 00:06:32.250
if the ID of the user I'm currently looking at

124
00:06:32.250 --> 00:06:33.930
in that array of users,

125
00:06:33.930 --> 00:06:38.183
if that's equal to the selectedUserId.

126
00:06:40.200 --> 00:06:42.447
And that's how we could dynamically compute

127
00:06:42.447 --> 00:06:46.837
the selectedUser and find that selectedUser.

128
00:06:48.090 --> 00:06:49.440
And therefore, now of course

129
00:06:49.440 --> 00:06:51.930
back in the AppComponent template,

130
00:06:51.930 --> 00:06:55.050
we can use property binding here on name

131
00:06:55.050 --> 00:06:58.440
to set this equal to the selectedUser.

132
00:06:58.440 --> 00:07:00.093
And then there the name.

133
00:07:01.800 --> 00:07:05.370
Now you see I now actually get an error here

134
00:07:05.370 --> 00:07:09.840
and TypeScript added this question mark here automatically.

135
00:07:09.840 --> 00:07:12.060
Now I'll get back to that in the next lectures.

136
00:07:12.060 --> 00:07:14.460
For the moment, I'll actually remove it

137
00:07:14.460 --> 00:07:18.270
and change the code in the AppComponent here a little bit.

138
00:07:18.270 --> 00:07:20.850
And I'll add an exclamation mark here

139
00:07:20.850 --> 00:07:23.763
after this find operation.

140
00:07:24.780 --> 00:07:27.780
Because the problem TypeScript had with this code here

141
00:07:27.780 --> 00:07:31.140
before was that it's of course possible

142
00:07:31.140 --> 00:07:33.960
that we don't find a user at all,

143
00:07:33.960 --> 00:07:38.643
and that find therefore returns undefined as a value.

144
00:07:39.480 --> 00:07:44.040
And the TasksComponent does not want some undefined value.

145
00:07:44.040 --> 00:07:46.350
And that would've been a problem.

146
00:07:46.350 --> 00:07:48.300
By adding this exclamation mark here,

147
00:07:48.300 --> 00:07:50.100
I'm again convincing TypeScript

148
00:07:50.100 --> 00:07:52.230
that this will never be the case,

149
00:07:52.230 --> 00:07:56.040
that we'll always find a user for the selectedUserId

150
00:07:56.040 --> 00:07:57.993
and that everything will be fine.

151
00:07:59.070 --> 00:08:00.660
Again, I'll get back to this

152
00:08:00.660 --> 00:08:03.630
and how we could improve this code in the next lectures.

153
00:08:03.630 --> 00:08:05.550
For the moment, we can leave it like this.

154
00:08:05.550 --> 00:08:07.710
And if you now save everything,

155
00:08:07.710 --> 00:08:11.130
you should have an application where you can switch

156
00:08:11.130 --> 00:08:12.660
between those users

157
00:08:12.660 --> 00:08:16.203
and the respective username is being output here.

158
00:08:17.250 --> 00:08:21.030
And that's therefore this exercise solved.

159
00:08:21.030 --> 00:08:24.270
Now, if you were not able to solve this on your own

160
00:08:24.270 --> 00:08:28.410
or if you got a different solution, which is very likely,

161
00:08:28.410 --> 00:08:29.910
that is absolutely fine.

162
00:08:29.910 --> 00:08:32.310
It's just about practicing what we learned

163
00:08:32.310 --> 00:08:35.010
and we're still pretty early in this course.

164
00:08:35.010 --> 00:08:38.760
You'll receive plenty of other practice opportunities

165
00:08:38.760 --> 00:08:42.270
and we'll dive into many more demo projects

166
00:08:42.270 --> 00:08:45.060
and exercises later in this course.

167
00:08:45.060 --> 00:08:45.903
No worries.

