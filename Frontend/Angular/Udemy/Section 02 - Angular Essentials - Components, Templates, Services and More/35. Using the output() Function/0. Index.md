# 35. Using the output() Function

> Duração: `6min`

Sem Recursos

WEBVTT

1
00:00:00.450 --> 00:00:03.930
<v Presenter>So you did now learn how to add outputs</v>

2
00:00:03.930 --> 00:00:07.533
to your component's custom events, so to say.

3
00:00:08.520 --> 00:00:11.820
Now using this @Output decorator

4
00:00:11.820 --> 00:00:16.820
is how you would create outputs in most Angular projects

5
00:00:16.830 --> 00:00:20.250
and is the approach you'll see in most Angular projects,

6
00:00:20.250 --> 00:00:24.603
since this is how you've always created outputs in Angular.

7
00:00:25.470 --> 00:00:28.980
But there actually is a more modern alternative,

8
00:00:28.980 --> 00:00:32.790
which you might not encounter in that many projects

9
00:00:32.790 --> 00:00:36.210
but which might become more important in the future,

10
00:00:36.210 --> 00:00:39.840
which is why I also want to introduce you to that.

11
00:00:39.840 --> 00:00:44.010
And that alternative does not use this output decorator

12
00:00:44.010 --> 00:00:47.220
but instead an output function,

13
00:00:47.220 --> 00:00:50.613
which you must import from @angular/core.

14
00:00:52.110 --> 00:00:55.950
Now this output function might look familiar to you,

15
00:00:55.950 --> 00:00:58.770
if you recall that input function

16
00:00:58.770 --> 00:01:01.680
which we imported and used earlier

17
00:01:01.680 --> 00:01:04.620
to set up Signal-based inputs,

18
00:01:04.620 --> 00:01:07.953
so to replace that @Input decorator.

19
00:01:09.330 --> 00:01:13.170
Now we're doing something similar with this output function.

20
00:01:13.170 --> 00:01:17.490
And the idea is that instead of defining a custom event,

21
00:01:17.490 --> 00:01:19.830
a custom output like this,

22
00:01:19.830 --> 00:01:24.780
you still add your property, select in this case,

23
00:01:24.780 --> 00:01:27.660
but instead of adding @Output in front of it

24
00:01:27.660 --> 00:01:32.660
you assign the result of calling the output function to it.

25
00:01:34.020 --> 00:01:36.540
This syntax will tell Angular

26
00:01:36.540 --> 00:01:39.000
that select should be an output,

27
00:01:39.000 --> 00:01:42.210
just as the @Output decorator does,

28
00:01:42.210 --> 00:01:45.090
and that it should under the hood in the end,

29
00:01:45.090 --> 00:01:46.770
store such an event emitter.

30
00:01:46.770 --> 00:01:50.130
So you don't need to explicitly create that event emitter

31
00:01:50.130 --> 00:01:52.920
on your own anymore when using output,

32
00:01:52.920 --> 00:01:54.783
but it's instead done for you.

33
00:01:55.740 --> 00:01:58.020
Which means that you're still able

34
00:01:58.020 --> 00:02:02.520
and that you still should call emit on this output property,

35
00:02:02.520 --> 00:02:04.773
so on this select property.

36
00:02:05.790 --> 00:02:08.310
This still works because under the hood

37
00:02:08.310 --> 00:02:12.570
it still stores such an event emitter inside of it,

38
00:02:12.570 --> 00:02:16.590
just one that's automatically created by calling output.

39
00:02:16.590 --> 00:02:19.050
Now one error I do get here

40
00:02:19.050 --> 00:02:21.390
is that the argument of type string,

41
00:02:21.390 --> 00:02:23.280
so the type of this ID

42
00:02:23.280 --> 00:02:26.460
is not assignable to a parameter of type void,

43
00:02:26.460 --> 00:02:28.443
which might look a bit weird.

44
00:02:29.370 --> 00:02:31.140
Now this is in the end TypeScript

45
00:02:31.140 --> 00:02:34.413
complaining about the type of data we're emitting here.

46
00:02:35.370 --> 00:02:39.030
We did not get this error when using the other approach

47
00:02:39.030 --> 00:02:42.150
where we created the event emitter ourselves,

48
00:02:42.150 --> 00:02:44.400
but when using this output function

49
00:02:44.400 --> 00:02:47.913
Angular and TypeScript are a bit more strict.

50
00:02:49.260 --> 00:02:51.300
In the end what we have to do here

51
00:02:51.300 --> 00:02:54.900
is let TypeScript know about the kind of data

52
00:02:54.900 --> 00:02:57.030
that will eventually be emitted.

53
00:02:57.030 --> 00:02:59.160
And we do that by, again, using this

54
00:02:59.160 --> 00:03:02.490
strange angle bracket syntax here,

55
00:03:02.490 --> 00:03:04.260
and between those angle brackets

56
00:03:04.260 --> 00:03:07.980
we then set the type of value that will be emitted,

57
00:03:07.980 --> 00:03:12.480
in this case string, and with that the error goes away.

58
00:03:12.480 --> 00:03:15.900
So by using this generic type feature here

59
00:03:15.900 --> 00:03:19.680
by letting TypeScript know about the type of value

60
00:03:19.680 --> 00:03:22.500
this output function will operate on,

61
00:03:22.500 --> 00:03:25.800
so the type of value that will be emitted in this case,

62
00:03:25.800 --> 00:03:28.110
TypeScript is happy again.

63
00:03:28.110 --> 00:03:30.960
And you can therefore then use this code,

64
00:03:30.960 --> 00:03:32.610
this approach here,

65
00:03:32.610 --> 00:03:35.520
instead of setting up the output like this.

66
00:03:35.520 --> 00:03:38.130
Now what's really important to understand is

67
00:03:38.130 --> 00:03:43.130
that output is really just a replacement for this code,

68
00:03:43.530 --> 00:03:45.960
it does exactly the same in the end,

69
00:03:45.960 --> 00:03:49.890
and therefore you listen to custom events

70
00:03:49.890 --> 00:03:51.900
created with this output function

71
00:03:51.900 --> 00:03:56.703
in exactly the same way as if you were using that decorator.

72
00:03:57.570 --> 00:03:59.640
So in that app component template

73
00:03:59.640 --> 00:04:02.430
we still use event binding like this

74
00:04:02.430 --> 00:04:05.040
to trigger the onSelectUser method

75
00:04:05.040 --> 00:04:07.140
whenever that select event occurs.

76
00:04:07.140 --> 00:04:09.570
That works in the same way.

77
00:04:09.570 --> 00:04:14.070
It's all important to understand that this output function

78
00:04:14.070 --> 00:04:19.070
does not create any kind of signal or anything like that,

79
00:04:19.290 --> 00:04:23.430
select is in the end still an event emitter thing here,

80
00:04:23.430 --> 00:04:24.990
it's not a signal.

81
00:04:24.990 --> 00:04:29.700
Unlike the input function which did create an input signal,

82
00:04:29.700 --> 00:04:33.210
output doesn't, it still just gives us

83
00:04:33.210 --> 00:04:36.120
a custom event we can emit.

84
00:04:36.120 --> 00:04:39.210
Now why does this function exist then

85
00:04:39.210 --> 00:04:42.753
if it does the same as this code essentially?

86
00:04:43.680 --> 00:04:48.180
Well, mostly so that if you were using the input function

87
00:04:48.180 --> 00:04:52.800
for registering the inputs instead of that input decorator,

88
00:04:52.800 --> 00:04:54.150
that if you were doing that

89
00:04:54.150 --> 00:04:55.980
you could use the output function

90
00:04:55.980 --> 00:04:59.190
so that you don't need any decorators at all,

91
00:04:59.190 --> 00:05:04.190
neither for inputs nor for outputs inside of that component,

92
00:05:04.650 --> 00:05:08.130
besides the component decorator, you still need that,

93
00:05:08.130 --> 00:05:10.140
but no decorators would be needed

94
00:05:10.140 --> 00:05:12.240
inside of that component then.

95
00:05:12.240 --> 00:05:15.783
That's one reason for the existence of this function.

96
00:05:16.650 --> 00:05:20.550
In addition, this code of course is shorter than this code

97
00:05:20.550 --> 00:05:23.820
and that's also a good reason to use this code,

98
00:05:23.820 --> 00:05:25.233
this syntax here.

99
00:05:26.370 --> 00:05:31.370
Nonetheless, just as with inputs earlier in this section,

100
00:05:32.250 --> 00:05:36.840
in most Angular projects you will see the @Output decorator

101
00:05:36.840 --> 00:05:40.680
and this manually created event emitter instead,

102
00:05:40.680 --> 00:05:44.910
simply because this approach has been around forever,

103
00:05:44.910 --> 00:05:47.160
since Angular was released,

104
00:05:47.160 --> 00:05:51.030
whereas this output function is relatively new

105
00:05:51.030 --> 00:05:53.370
and, hence, you won't encounter it

106
00:05:53.370 --> 00:05:55.920
in that many projects out there.

107
00:05:55.920 --> 00:05:59.640
And that's also why I will not use it here,

108
00:05:59.640 --> 00:06:03.030
why I instead will go back to the @Output decorator.

109
00:06:03.030 --> 00:06:06.690
But of course you should know about this output function,

110
00:06:06.690 --> 00:06:10.383
and you'll also see it again throughout this course.

