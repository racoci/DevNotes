# 43. Legacy Angular: Using ngFor & ngIf

> Duração: `5min`

Sem Recursos

WEBVTT

1
00:00:00.480 --> 00:00:02.040
<v Maximilian>In the previous lectures,</v>

2
00:00:02.040 --> 00:00:05.400
you learned about @for and @if.

3
00:00:05.400 --> 00:00:09.720
Now, this syntax is relatively new though.

4
00:00:09.720 --> 00:00:13.470
It was only added with Angular version 17.

5
00:00:13.470 --> 00:00:18.300
Earlier versions of Angular don't support this syntax.

6
00:00:18.300 --> 00:00:19.980
And, of course, it's possible

7
00:00:19.980 --> 00:00:22.260
that you are working on a project

8
00:00:22.260 --> 00:00:25.770
that's using such an older Angular version.

9
00:00:25.770 --> 00:00:30.030
In that case, there is an alternative syntax, which used

10
00:00:30.030 --> 00:00:34.710
to be the standard before the introduction of @for and @if.

11
00:00:34.710 --> 00:00:37.680
And that syntax would look like this.

12
00:00:37.680 --> 00:00:42.680
You would add *ngFor on the element that should be repeated

13
00:00:44.970 --> 00:00:46.500
and then add an equal sign

14
00:00:46.500 --> 00:00:50.370
and between the quotes have this code here

15
00:00:50.370 --> 00:00:52.500
for repeating the element.

16
00:00:52.500 --> 00:00:53.730
Though you would have

17
00:00:53.730 --> 00:00:58.730
to add the keyword let in front of this user variable.

18
00:00:59.760 --> 00:01:02.460
Now this *ngFor thing here

19
00:01:02.460 --> 00:01:05.790
is a so-called structural directive.

20
00:01:05.790 --> 00:01:10.200
Now, structural directives are, in the end, enhancements,

21
00:01:10.200 --> 00:01:12.540
you could say, that you can add to elements

22
00:01:12.540 --> 00:01:15.120
that will change those elements

23
00:01:15.120 --> 00:01:19.500
or change the DOM where those elements are used

24
00:01:19.500 --> 00:01:22.710
and we'll dive deeper into directives

25
00:01:22.710 --> 00:01:25.470
and how you can build your own directives later

26
00:01:25.470 --> 00:01:27.243
in a dedicated course section.

27
00:01:28.320 --> 00:01:32.550
In order to use this *ngFor structural directive here,

28
00:01:32.550 --> 00:01:36.780
you have to go to the component class of the component

29
00:01:36.780 --> 00:01:39.130
where you want to use it in the template

30
00:01:39.990 --> 00:01:42.870
and add it here to the imports array.

31
00:01:42.870 --> 00:01:46.113
For that, you first of all have to import it.

32
00:01:46.950 --> 00:01:51.000
You have to import NgFor,r written like this,

33
00:01:51.000 --> 00:01:54.300
from @angular/common,

34
00:01:54.300 --> 00:01:57.030
so not from core but from common.

35
00:01:57.030 --> 00:02:01.080
And then add it here to this imports array.

36
00:02:01.080 --> 00:02:04.710
This is how you unlock this structural directive

37
00:02:04.710 --> 00:02:06.603
for use in the template.

38
00:02:08.160 --> 00:02:10.680
And it's similar for if.

39
00:02:10.680 --> 00:02:15.680
Instead of using @if, so I'll comment this out,

40
00:02:16.140 --> 00:02:20.610
you would add *ngIf on the element

41
00:02:20.610 --> 00:02:22.360
that should be shown conditionally,

42
00:02:23.580 --> 00:02:26.070
and then put your condition between those quotes.

43
00:02:26.070 --> 00:02:29.430
So for example, selectedUser, like this.

44
00:02:29.430 --> 00:02:33.300
Now, in this case, TypeScript actually doesn't understand

45
00:02:33.300 --> 00:02:37.200
that here selectedUser will be set

46
00:02:37.200 --> 00:02:39.600
and hence, I would need to add an exclamation mark here

47
00:02:39.600 --> 00:02:42.480
to convince it that this is the case.

48
00:02:42.480 --> 00:02:45.300
For showing the else case, you would have to go

49
00:02:45.300 --> 00:02:50.010
for a more complex syntax where you add a special element,

50
00:02:50.010 --> 00:02:54.300
the ng-template element, which is an element provided

51
00:02:54.300 --> 00:02:56.250
out of the box by Angular,

52
00:02:56.250 --> 00:03:00.330
and you would wrap that around your else content

53
00:03:00.330 --> 00:03:03.480
and then go back to *ngIf, add a semicolon,

54
00:03:03.480 --> 00:03:05.530
and then add the else keyword

55
00:03:06.390 --> 00:03:10.590
and then give this ng-template here an identifier

56
00:03:10.590 --> 00:03:15.480
by adding #fallback or anything like this.

57
00:03:15.480 --> 00:03:18.720
The name after the hashtag is up to you,

58
00:03:18.720 --> 00:03:23.220
and then you refer to that name hereafter else.

59
00:03:23.220 --> 00:03:27.933
So that's how this else content here is displayed.

60
00:03:28.800 --> 00:03:32.640
Now, just like *ngFor, *ngIf must be unlocked first

61
00:03:32.640 --> 00:03:33.840
before you can use it.

62
00:03:33.840 --> 00:03:36.160
So you also have to import *ngIf

63
00:03:37.260 --> 00:03:40.353
and then add it here to this imports array.

64
00:03:41.280 --> 00:03:43.830
And with that done, if you now reload,

65
00:03:43.830 --> 00:03:46.680
you got the same behavior as before,

66
00:03:46.680 --> 00:03:50.700
but now in a way that also works in older Angular versions

67
00:03:50.700 --> 00:03:52.703
with *ngFor and *ngIf.

68
00:03:54.300 --> 00:03:56.280
Now, of course, this course here

69
00:03:56.280 --> 00:04:00.210
is about teaching you the recent Angular versions

70
00:04:00.210 --> 00:04:03.930
and hence, I'll not use *ngFor and *ngIf,

71
00:04:03.930 --> 00:04:08.930
also because as you can tell, this approach is more verbose,

72
00:04:08.970 --> 00:04:12.390
especially here with *ngIf and this else block,

73
00:04:12.390 --> 00:04:15.813
but also with all those extra imports that are needed.

74
00:04:16.830 --> 00:04:19.290
Therefore, I'll get rid of those imports here

75
00:04:19.290 --> 00:04:22.083
and also of these imports at the top,

76
00:04:24.390 --> 00:04:29.070
and I'll get rid of the *ngIf directive

77
00:04:29.070 --> 00:04:32.760
and this #fallback wrapper ng-template here,

78
00:04:32.760 --> 00:04:35.790
and I'll bring back @if instead

79
00:04:35.790 --> 00:04:38.103
and this else block like this,

80
00:04:39.720 --> 00:04:41.700
and do the same for *ngFor.

81
00:04:41.700 --> 00:04:44.310
Delete it here on the element

82
00:04:44.310 --> 00:04:47.250
and instead bring back @for.

83
00:04:47.250 --> 00:04:48.480
And now also get rid

84
00:04:48.480 --> 00:04:50.640
of this exclamation mark down here again

85
00:04:50.640 --> 00:04:53.340
because now we don't need it anymore

86
00:04:53.340 --> 00:04:56.400
because this is the recommended way of outputting list

87
00:04:56.400 --> 00:04:58.080
or conditional content.

88
00:04:58.080 --> 00:05:01.560
But since you might be working on an Angular project

89
00:05:01.560 --> 00:05:04.140
that uses an older version of Angular,

90
00:05:04.140 --> 00:05:07.290
or you simply might stumble across *ngFor

91
00:05:07.290 --> 00:05:11.400
or *ngIf on existing projects, it is, of course, important

92
00:05:11.400 --> 00:05:14.880
to also understand how those directives work

93
00:05:14.880 --> 00:05:17.610
and how you could use them for outputting list

94
00:05:17.610 --> 00:05:19.323
or conditional content.

