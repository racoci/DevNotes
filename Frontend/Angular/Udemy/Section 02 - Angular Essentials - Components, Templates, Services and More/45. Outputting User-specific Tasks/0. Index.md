# 45. Outputting User-specific Tasks

> Duração: `7min`

## Recursos
- [Dummy Tasks](https://github.com/mschwarzmueller/angular-complete-guide-course-resources/blob/main/attachments/02-essentials/dummy-tasks.ts)
```ts
const dummyTasks = [
  {
    id: 't1',
    userId: 'u1',
    title: 'Master Angular',
    summary:
      'Learn all the basic and advanced features of Angular & how to apply them.',
    dueDate: '2025-12-31',
  },
  {
    id: 't2',
    userId: 'u3',
    title: 'Build first prototype',
    summary: 'Build a first prototype of the online shop website',
    dueDate: '2024-05-31',
  },
  {
    id: 't3',
    userId: 'u3',
    title: 'Prepare issue template',
    summary:
      'Prepare and describe an issue template which will help with project management',
    dueDate: '2024-06-15',
  },
]
```

WEBVTT

1
00:00:00.330 --> 00:00:03.150
<v Maximilian>So in order to now replace</v>

2
00:00:03.150 --> 00:00:05.430
this dummy fallback data

3
00:00:05.430 --> 00:00:08.070
with some more realistic data,

4
00:00:08.070 --> 00:00:10.770
we can go to this tasks component,

5
00:00:10.770 --> 00:00:12.750
which is responsible for outputting

6
00:00:12.750 --> 00:00:15.300
all those individual tasks,

7
00:00:15.300 --> 00:00:18.933
and simply add and manage a tasks array here.

8
00:00:20.190 --> 00:00:22.590
So in the TasksComponent class,

9
00:00:22.590 --> 00:00:26.580
we can add a new tasks property, for example.

10
00:00:26.580 --> 00:00:29.100
Of course the name is up to you though.

11
00:00:29.100 --> 00:00:32.130
And then set this equal to an array

12
00:00:32.130 --> 00:00:36.720
where we could already add some dummy tasks if we wanted to,

13
00:00:36.720 --> 00:00:39.760
for example, a task with an id of t1

14
00:00:40.710 --> 00:00:45.390
with a title of Master Angular.

15
00:00:45.390 --> 00:00:49.950
And then maybe a summary of "Learn all the basic

16
00:00:49.950 --> 00:00:54.403
and advanced features of Angular

17
00:00:54.403 --> 00:00:57.180
&amp; how to apply them."

18
00:00:57.180 --> 00:00:58.323
Anything like that.

19
00:01:00.270 --> 00:01:03.510
I also want to add a dueDate property here

20
00:01:03.510 --> 00:01:06.990
to this task object so that we can output such a date

21
00:01:06.990 --> 00:01:08.700
for every task.

22
00:01:08.700 --> 00:01:11.370
And that could be 2025

23
00:01:11.370 --> 00:01:14.793
and then maybe December 31st,

24
00:01:15.840 --> 00:01:18.030
whatever, something like this.

25
00:01:18.030 --> 00:01:22.200
Now every task should also be assigned to a user.

26
00:01:22.200 --> 00:01:24.240
Therefore, every task object

27
00:01:24.240 --> 00:01:26.853
should also have a userId property,

28
00:01:27.840 --> 00:01:31.470
which could be u1 for the first task

29
00:01:31.470 --> 00:01:35.700
so that it's assigned to the user with the id u1,

30
00:01:35.700 --> 00:01:37.920
because we need to store this relation

31
00:01:37.920 --> 00:01:41.913
to make sure that different users have different tasks.

32
00:01:43.140 --> 00:01:47.070
And of course we can now simply copy and paste that though

33
00:01:47.070 --> 00:01:48.480
to save you some time.

34
00:01:48.480 --> 00:01:51.960
I prepared two additional dummy tasks,

35
00:01:51.960 --> 00:01:53.523
which you find attached.

36
00:01:54.360 --> 00:01:55.560
So that in the end,

37
00:01:55.560 --> 00:01:57.900
your tasks array should look like this

38
00:01:57.900 --> 00:02:00.453
with these three dummy tasks.

39
00:02:02.550 --> 00:02:06.660
Well, and now that we do have those dummy tasks here,

40
00:02:06.660 --> 00:02:08.070
we can and should of course

41
00:02:08.070 --> 00:02:10.893
go to the tasks component template.

42
00:02:11.760 --> 00:02:16.710
And instead of outputting those task components like this,

43
00:02:16.710 --> 00:02:21.363
we can now again output a dynamic list with @for,

44
00:02:22.230 --> 00:02:25.210
because now we can go through all those tasks

45
00:02:26.160 --> 00:02:30.850
and track the task ids to have some unique identifier

46
00:02:31.890 --> 00:02:35.670
and then output a list item with the app task inside of it

47
00:02:35.670 --> 00:02:38.130
for every task.

48
00:02:38.130 --> 00:02:41.790
Now with that, not much will change though.

49
00:02:41.790 --> 00:02:45.420
We'll still output three tasks for every user,

50
00:02:45.420 --> 00:02:47.790
no matter which user we select,

51
00:02:47.790 --> 00:02:50.340
because we're always outputting all the tasks

52
00:02:50.340 --> 00:02:51.690
for all the users.

53
00:02:51.690 --> 00:02:53.820
And we have three tasks here.

54
00:02:53.820 --> 00:02:57.330
So it's three tasks we're outputting for every user.

55
00:02:57.330 --> 00:03:01.230
Now, of course, what we typically would want to do instead

56
00:03:01.230 --> 00:03:04.290
is that we don't output all the tasks

57
00:03:04.290 --> 00:03:07.590
for all users, but instead only the tasks

58
00:03:07.590 --> 00:03:09.903
that belong to a certain user.

59
00:03:11.610 --> 00:03:16.143
And we can achieve this by accepting another input here,

60
00:03:17.970 --> 00:03:21.360
and that input would be the id

61
00:03:21.360 --> 00:03:23.103
of the selected user.

62
00:03:24.570 --> 00:03:28.110
And indeed, now we can actually also make this both required

63
00:03:28.110 --> 00:03:30.330
again, since we now,

64
00:03:30.330 --> 00:03:33.150
due to the way the application works at this time,

65
00:03:33.150 --> 00:03:34.110
always know

66
00:03:34.110 --> 00:03:38.250
that we definitely should have an id and a name

67
00:03:38.250 --> 00:03:41.463
whenever this tasks component is being rendered.

68
00:03:43.410 --> 00:03:46.950
But now that we also got this id of the user

69
00:03:46.950 --> 00:03:51.360
for whom we're displaying this tasks component in the end,

70
00:03:51.360 --> 00:03:54.813
we can also add another computed property,

71
00:03:55.710 --> 00:03:57.060
another getter,

72
00:03:57.060 --> 00:03:59.733
which could be called selectedUserTasks,

73
00:04:02.460 --> 00:04:06.310
where we return this.tasks

74
00:04:07.350 --> 00:04:10.410
and then we filter them for the tasks

75
00:04:10.410 --> 00:04:12.210
that belong to the user.

76
00:04:12.210 --> 00:04:15.450
And filter is another built in method,

77
00:04:15.450 --> 00:04:17.493
built into JavaScript.

78
00:04:18.510 --> 00:04:23.100
Like find, filter takes a function as an argument.

79
00:04:23.100 --> 00:04:26.100
And like the function you pass to find,

80
00:04:26.100 --> 00:04:30.510
this function you pass to filter will be executed once

81
00:04:30.510 --> 00:04:32.430
for every item in this array

82
00:04:32.430 --> 00:04:34.650
and will then receive that item.

83
00:04:34.650 --> 00:04:37.080
So that task in this case here

84
00:04:37.080 --> 00:04:39.273
for which it is being executed.

85
00:04:40.620 --> 00:04:42.210
And we then have to return true

86
00:04:42.210 --> 00:04:45.390
if we want to keep the item in this filtered array

87
00:04:45.390 --> 00:04:47.493
or if we want to not have it there.

88
00:04:49.140 --> 00:04:50.940
And here, my condition, therefore,

89
00:04:50.940 --> 00:04:55.940
is to check whether the userId is equal to this.id.

90
00:04:57.240 --> 00:05:02.133
So to the userId we receive as an input here.

91
00:05:04.230 --> 00:05:07.170
And of course we could name this userId here

92
00:05:07.170 --> 00:05:08.340
instead of just id

93
00:05:08.340 --> 00:05:12.783
to make it really clear that this will be the id of a user.

94
00:05:15.390 --> 00:05:18.570
With that change made, we have to go back

95
00:05:18.570 --> 00:05:20.910
to the app component template

96
00:05:20.910 --> 00:05:23.613
where we're using our tasks here,

97
00:05:24.510 --> 00:05:25.650
and we now also have

98
00:05:25.650 --> 00:05:29.020
to bind the userId property we just added

99
00:05:30.240 --> 00:05:35.240
and bind that to selectedUser.id in this case.

100
00:05:37.740 --> 00:05:42.120
Now with that, we are able to filter out the tasks

101
00:05:42.120 --> 00:05:44.010
that belong to a user,

102
00:05:44.010 --> 00:05:48.810
and we can now use this selectedUserTasks property here

103
00:05:48.810 --> 00:05:49.920
in the template

104
00:05:49.920 --> 00:05:54.243
of this tasks component, in this loop here specifically.

105
00:05:55.140 --> 00:05:59.490
So instead of going through all the tasks we possibly know,

106
00:05:59.490 --> 00:06:02.490
we now want to go only through the tasks

107
00:06:02.490 --> 00:06:03.993
of the selected user.

108
00:06:06.210 --> 00:06:10.080
And with those changes made, if you save all files,

109
00:06:10.080 --> 00:06:13.080
you will see that different users now have

110
00:06:13.080 --> 00:06:15.810
different amounts of tasks.

111
00:06:15.810 --> 00:06:18.600
We still don't output the task data here,

112
00:06:18.600 --> 00:06:21.450
we still just got the dummy text here,

113
00:06:21.450 --> 00:06:22.980
but that will change soon.

114
00:06:22.980 --> 00:06:27.450
But at least we are now outputting the tasks that do belong

115
00:06:27.450 --> 00:06:28.863
to the different users.

