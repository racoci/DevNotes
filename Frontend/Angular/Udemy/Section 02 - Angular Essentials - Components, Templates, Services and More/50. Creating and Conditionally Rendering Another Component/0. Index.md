# 50. Creating & Conditionally Rendering Another Component

> Duração: `5min`

Sem Recursos

WEBVTT

1
00:00:00.600 --> 00:00:01.680
<v Maximilian>Now that we're able</v>

2
00:00:01.680 --> 00:00:05.310
to mark tasks as completed,

3
00:00:05.310 --> 00:00:09.330
we, of course, also wanna make sure that we can add tasks.

4
00:00:09.330 --> 00:00:12.990
And here, I got another exercise for you.

5
00:00:12.990 --> 00:00:16.770
I want you to create a first basic version

6
00:00:16.770 --> 00:00:20.040
of such a component which doesn't need any styling at all,

7
00:00:20.040 --> 00:00:23.100
doesn't matter where it appears, doesn't need a form,

8
00:00:23.100 --> 00:00:26.400
just some shell which output some text.

9
00:00:26.400 --> 00:00:28.980
And I want you to build that component,

10
00:00:28.980 --> 00:00:30.600
add it to the application,

11
00:00:30.600 --> 00:00:34.500
and make sure that it shows up anywhere on the screen,

12
00:00:34.500 --> 00:00:38.493
doesn't matter where, when that Add Task button is clicked.

13
00:00:39.540 --> 00:00:42.690
So that you add the code that listens for a click,

14
00:00:42.690 --> 00:00:45.480
and that then conditionally renders

15
00:00:45.480 --> 00:00:48.960
this newly added new-task.component.

16
00:00:48.960 --> 00:00:51.090
That's your task right now.

17
00:00:51.090 --> 00:00:54.240
After a short pause, which you can use to pause the video

18
00:00:54.240 --> 00:00:57.843
and try this on your own, we'll implement this together.

19
00:01:00.870 --> 00:01:04.380
So let's add this new component together now.

20
00:01:04.380 --> 00:01:07.260
For this, I'm back in the project, of course,

21
00:01:07.260 --> 00:01:11.190
and I'll again use the CLI to generate a new component,

22
00:01:11.190 --> 00:01:14.520
and I wanna have that component in the tasks folder.

23
00:01:14.520 --> 00:01:16.141
And then they are,

24
00:01:16.141 --> 00:01:19.863
it's the new-task.component I want to add.

25
00:01:20.940 --> 00:01:22.440
And if you have component names

26
00:01:22.440 --> 00:01:24.180
that consist of multiple names,

27
00:01:24.180 --> 00:01:26.733
you should separate them with a dash like this.

28
00:01:27.720 --> 00:01:29.250
I don't need the tests,

29
00:01:29.250 --> 00:01:33.090
so again, I will add --skip-tests.

30
00:01:33.090 --> 00:01:37.683
And with that, this new, new-task folder here is added.

31
00:01:39.690 --> 00:01:41.130
Now as mentioned at the moment,

32
00:01:41.130 --> 00:01:43.800
I don't care how it looks and where it appears,

33
00:01:43.800 --> 00:01:47.220
so I'll just keep that default starting content,

34
00:01:47.220 --> 00:01:51.720
this dummy text here in the new-task.component.html file.

35
00:01:51.720 --> 00:01:54.420
And I just wanna make sure that it shows up

36
00:01:54.420 --> 00:01:59.130
if this button in the task component here is clicked,

37
00:01:59.130 --> 00:02:02.193
if this Add-Task button is clicked.

38
00:02:03.600 --> 00:02:06.210
Therefore I'll start by adding a click listener

39
00:02:06.210 --> 00:02:08.163
to this Add Task button,

40
00:02:09.300 --> 00:02:11.610
and I'll then add a new method

41
00:02:11.610 --> 00:02:14.313
to this tasks.component.ts file.

42
00:02:15.270 --> 00:02:20.270
And I'll name this method onStartAddTask,

43
00:02:20.490 --> 00:02:22.800
because this kind of describes

44
00:02:22.800 --> 00:02:26.010
what's happening when the button is clicked.

45
00:02:26.010 --> 00:02:30.330
We start the process of adding a new task

46
00:02:30.330 --> 00:02:33.090
by conditionally showing a component

47
00:02:33.090 --> 00:02:36.783
that will allow us to enter the task details.

48
00:02:38.190 --> 00:02:43.190
I also need an extra property which controls

49
00:02:43.230 --> 00:02:48.030
whether this new-task.component is visible or not.

50
00:02:48.030 --> 00:02:52.560
Therefore, here at the top, maybe above the tasks,

51
00:02:52.560 --> 00:02:55.140
the exact position doesn't matter.

52
00:02:55.140 --> 00:02:59.287
I'll add a new property called isAddingTask.

53
00:03:02.280 --> 00:03:03.510
The name is up to you,

54
00:03:03.510 --> 00:03:06.090
but it should be a name that describes

55
00:03:06.090 --> 00:03:09.153
the value that's stored in the property.

56
00:03:10.110 --> 00:03:12.573
And here, I'll set this to false initially.

57
00:03:13.710 --> 00:03:16.800
And since I'm assigning that initial value,

58
00:03:16.800 --> 00:03:20.700
types script is able to infer the type of value

59
00:03:20.700 --> 00:03:24.003
I plan on storing on this property in general.

60
00:03:24.930 --> 00:03:28.830
It correctly infers that it'll be a Boolean,

61
00:03:28.830 --> 00:03:31.023
which I'll store in this property.

62
00:03:32.340 --> 00:03:33.210
As a side note,

63
00:03:33.210 --> 00:03:37.080
you could explicitly add this type annotation nonetheless,

64
00:03:37.080 --> 00:03:40.620
but this is not required and also not recommended

65
00:03:40.620 --> 00:03:43.113
if the inferred type is the correct type.

66
00:03:44.730 --> 00:03:47.940
So isAddingTask is false initially,

67
00:03:47.940 --> 00:03:51.180
but it should be changed to true

68
00:03:51.180 --> 00:03:54.093
if we trigger onStartAddTask.

69
00:03:56.040 --> 00:04:00.273
So in here, I want to set isAddingTask to true.

70
00:04:02.220 --> 00:04:06.330
And now, in the tasks.component.html file,

71
00:04:06.330 --> 00:04:11.070
I want to use this newly added, isAddingTask property

72
00:04:11.070 --> 00:04:15.213
to conditionally show this new-task.component.

73
00:04:16.260 --> 00:04:20.550
So we can use @if here, and check if isAddingTask is true.

74
00:04:23.340 --> 00:04:28.053
And if it is, I wanna output app-new-task,

75
00:04:28.920 --> 00:04:33.210
that is the selector of this new-task.component

76
00:04:33.210 --> 00:04:34.983
that was added by the CLI.

77
00:04:36.930 --> 00:04:40.080
Now as always, this must be added to the imports

78
00:04:40.080 --> 00:04:43.980
in order to be available in the tasks component.

79
00:04:43.980 --> 00:04:46.200
So that is something that must be done.

80
00:04:46.200 --> 00:04:48.840
The NewTaskComponent must be imported

81
00:04:48.840 --> 00:04:51.090
and added to the imports here,

82
00:04:51.090 --> 00:04:53.763
but with that done, it can be rendered.

83
00:04:54.930 --> 00:04:59.100
And then here, with this event binding on this button,

84
00:04:59.100 --> 00:05:00.930
we can and should execute

85
00:05:00.930 --> 00:05:04.473
this newly added onStartAddTask method.

86
00:05:05.730 --> 00:05:09.630
With that, if you save that and you click Add Task,

87
00:05:09.630 --> 00:05:12.960
you will see that this new-task.component appears

88
00:05:12.960 --> 00:05:15.660
and that's therefore working as it should.

89
00:05:15.660 --> 00:05:18.420
Now we can start working on that component

90
00:05:18.420 --> 00:05:21.600
so that we do actually open it as a dialogue

91
00:05:21.600 --> 00:05:23.013
and show some form.

