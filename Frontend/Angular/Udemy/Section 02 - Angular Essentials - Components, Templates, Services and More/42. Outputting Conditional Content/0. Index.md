# 42. Outputting Conditional Content

> Duração: `4min`

Sem Recursos

WEBVTT

1
00:00:00.300 --> 00:00:02.280
<v Maximilian>So outputting list data</v>

2
00:00:02.280 --> 00:00:05.160
is an important Angular feature.

3
00:00:05.160 --> 00:00:07.890
But another important Angular feature,

4
00:00:07.890 --> 00:00:11.340
which you'll also use in templates a lot,

5
00:00:11.340 --> 00:00:15.330
is being able to output conditional content,

6
00:00:15.330 --> 00:00:18.060
so content that should only be rendered

7
00:00:18.060 --> 00:00:20.283
under certain circumstances.

8
00:00:21.270 --> 00:00:24.750
For example, here, this tasks component,

9
00:00:24.750 --> 00:00:29.220
because we might not always have a selectedUser.

10
00:00:29.220 --> 00:00:32.400
Now at the moment in our app, we indeed do,

11
00:00:32.400 --> 00:00:34.200
but we can easily change this

12
00:00:34.200 --> 00:00:37.860
by going to the app component TypeScript file,

13
00:00:37.860 --> 00:00:41.460
and there, instead of setting the selectedUserId

14
00:00:41.460 --> 00:00:46.440
to an initial value of u1, we could set it up like this

15
00:00:46.440 --> 00:00:49.143
and not give it an initial value.

16
00:00:50.070 --> 00:00:52.800
In that case, we have to define the type of value

17
00:00:52.800 --> 00:00:56.490
it will eventually hold, which would be a string,

18
00:00:56.490 --> 00:01:00.120
and we have to add a question mark here to tell TypeScript

19
00:01:00.120 --> 00:01:03.243
that it's fine that this might not be set.

20
00:01:04.290 --> 00:01:06.390
But with that change made,

21
00:01:06.390 --> 00:01:09.543
we now indeed not always have a selected user,

22
00:01:11.190 --> 00:01:12.720
and we then might not want

23
00:01:12.720 --> 00:01:15.570
to render this tasks component at all

24
00:01:15.570 --> 00:01:17.580
because at the moment, we would render it

25
00:01:17.580 --> 00:01:20.940
and essentially show nothing for the user's name.

26
00:01:20.940 --> 00:01:23.970
But if you would inspect the DOM,

27
00:01:23.970 --> 00:01:27.810
you would see that the h2 element is actually rendered.

28
00:01:27.810 --> 00:01:30.363
It just doesn't contain any content.

29
00:01:31.560 --> 00:01:34.590
But rendering an element that has no text,

30
00:01:34.590 --> 00:01:36.150
that's not really great

31
00:01:36.150 --> 00:01:39.210
and typically not something we wanna do.

32
00:01:39.210 --> 00:01:41.100
It should not be rendered at all

33
00:01:41.100 --> 00:01:43.143
if we have no selected user.

34
00:01:44.370 --> 00:01:46.500
And that's where another useful

35
00:01:46.500 --> 00:01:50.130
Angular template feature comes into play.

36
00:01:50.130 --> 00:01:53.430
Just as we have @for for outputting lists,

37
00:01:53.430 --> 00:01:56.913
we have @if for outputting conditional content.

38
00:01:58.350 --> 00:02:02.070
Now @if takes a pair of parentheses,

39
00:02:02.070 --> 00:02:04.020
and then between those parentheses,

40
00:02:04.020 --> 00:02:07.680
we define the condition we wanna check,

41
00:02:07.680 --> 00:02:10.290
just as we do it with if statements

42
00:02:10.290 --> 00:02:12.513
in JavaScript or TypeScript code.

43
00:02:13.620 --> 00:02:16.573
So here, we could simply check if selectedUser

44
00:02:18.003 --> 00:02:22.289
is defined or if selectedUserId is defined,

45
00:02:22.289 --> 00:02:26.331
but here we can check for the overall selectedUser

46
00:02:26.331 --> 00:02:28.726
because that will be undefined

47
00:02:28.726 --> 00:02:31.468
if the selectedUserId is undefined

48
00:02:31.468 --> 00:02:32.521
because in that case,

49
00:02:32.521 --> 00:02:36.254
find here would yield an undefined value.

50
00:02:36.254 --> 00:02:38.277
So the selectedUser will be undefined

51
00:02:38.277 --> 00:02:40.652
if we don't have an id.

52
00:02:40.652 --> 00:02:44.598
And hence here we can check if we do have a selectedUser,

53
00:02:44.598 --> 00:02:46.888
so if this is truth.

54
00:02:46.888 --> 00:02:50.033
And then we add curly braces and then the markup

55
00:02:50.033 --> 00:02:54.277
that should be rendered if this condition is met.

56
00:02:54.277 --> 00:02:58.121
Now, of course, we know that inside of these curly braces,

57
00:02:58.121 --> 00:03:00.420
the selected user will be defined

58
00:03:00.420 --> 00:03:04.860
because we only make it in there if we have a selectedUser.

59
00:03:04.860 --> 00:03:08.160
Otherwise, this here will not be rendered.

60
00:03:08.160 --> 00:03:10.650
And therefore, we can simplify this code here again

61
00:03:10.650 --> 00:03:12.183
and get rid of this check.

62
00:03:13.380 --> 00:03:15.240
And instead just write it like this

63
00:03:15.240 --> 00:03:20.010
and TypeScript with help of Angular does indeed understand

64
00:03:20.010 --> 00:03:24.060
that selectedUser will never be undefined in here.

65
00:03:24.060 --> 00:03:27.150
And hence, we don't have to add any question marks

66
00:03:27.150 --> 00:03:28.830
or exclamation marks here.

67
00:03:28.830 --> 00:03:30.873
It just works like this.

68
00:03:33.090 --> 00:03:36.780
Now of course, we might want to show some fallback text

69
00:03:36.780 --> 00:03:39.210
if no user was selected yet,

70
00:03:39.210 --> 00:03:41.790
and that's why Angular also allows you

71
00:03:41.790 --> 00:03:45.270
to add a else block with @else.

72
00:03:45.270 --> 00:03:48.393
So not just else, but @else.

73
00:03:49.620 --> 00:03:52.230
And here, we could then output a paragraph

74
00:03:52.230 --> 00:03:57.230
with an id of fallback maybe for styling purposes.

75
00:03:58.170 --> 00:04:03.170
And then here's say select a user to see their tasks.

76
00:04:06.210 --> 00:04:08.310
With that, if you save this,

77
00:04:08.310 --> 00:04:12.240
you will see that initially, you'll see that fallback text,

78
00:04:12.240 --> 00:04:15.960
but if you now click on a user, you instead see their name.

79
00:04:15.960 --> 00:04:18.540
And that, of course, is an improvement

80
00:04:18.540 --> 00:04:22.500
and shows you how you can use if and else

81
00:04:22.500 --> 00:04:24.573
to render conditional content.

