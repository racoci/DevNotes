# 11. Understanding Components & How Content Ends Up On The Screen

> Duração: `6min`

Sem Recursos

WEBVTT

1
00:00:00.360 --> 00:00:01.800
<v Maximilian>So how does this content</v>

2
00:00:01.800 --> 00:00:03.393
end up on our screen?

3
00:00:04.290 --> 00:00:07.320
Well, I mentioned in the previous lecture

4
00:00:07.320 --> 00:00:11.880
that it would be that index HTML file in the src folder

5
00:00:11.880 --> 00:00:14.850
that would in the end be loaded by the browser

6
00:00:14.850 --> 00:00:18.180
when visitors visit our website.

7
00:00:18.180 --> 00:00:19.950
But if you take a closer look at that file,

8
00:00:19.950 --> 00:00:22.620
you will see that it's almost empty.

9
00:00:22.620 --> 00:00:27.620
The body element there only contains one HTML element,

10
00:00:28.020 --> 00:00:30.570
this strange app-root element here,

11
00:00:30.570 --> 00:00:33.780
which is not a standard HTML element.

12
00:00:33.780 --> 00:00:35.400
The browser on its own indeed

13
00:00:35.400 --> 00:00:38.010
would not understand this element.

14
00:00:38.010 --> 00:00:40.770
And that's now where Angular comes in.

15
00:00:40.770 --> 00:00:42.030
Because as I mentioned,

16
00:00:42.030 --> 00:00:44.700
it's actually the code in this main.ts file

17
00:00:44.700 --> 00:00:48.600
that will be executed when your website loads up.

18
00:00:48.600 --> 00:00:50.100
Now in the index HTML file,

19
00:00:50.100 --> 00:00:54.240
you don't find any imports of that main.ts file.

20
00:00:54.240 --> 00:00:57.330
Indeed, there are no script tags at all in there.

21
00:00:57.330 --> 00:01:00.150
But if you visit the loaded website

22
00:01:00.150 --> 00:01:02.310
and you view its page source,

23
00:01:02.310 --> 00:01:07.310
you will actually see that in there there are script imports

24
00:01:07.380 --> 00:01:10.890
and those are injected into this file automatically

25
00:01:10.890 --> 00:01:15.890
by the Angular CLI when you build and run your application.

26
00:01:15.930 --> 00:01:17.970
So for example, by running ng serve,

27
00:01:17.970 --> 00:01:20.700
which we did by running npm start.

28
00:01:20.700 --> 00:01:23.100
So that's how the scripts end up in there

29
00:01:23.100 --> 00:01:26.880
and that's how this code in main.ts gets executed,

30
00:01:26.880 --> 00:01:29.280
after being compiled to JavaScript code,

31
00:01:29.280 --> 00:01:31.053
which is also done by the CLI.

32
00:01:32.280 --> 00:01:34.050
That's why in that source code,

33
00:01:34.050 --> 00:01:37.830
we actually find .js files being imported here

34
00:01:37.830 --> 00:01:41.340
because TypeScript wouldn't run in the browser.

35
00:01:41.340 --> 00:01:44.400
So it's this compiled code that's being executed,

36
00:01:44.400 --> 00:01:47.010
and this code does one important thing.

37
00:01:47.010 --> 00:01:50.550
It executes a function provided by the Angular package,

38
00:01:50.550 --> 00:01:52.830
the bootstrapApplication function,

39
00:01:52.830 --> 00:01:56.820
and this function, in the end, wants an Angular Component.

40
00:01:56.820 --> 00:01:58.980
And as I mentioned in the first section,

41
00:01:58.980 --> 00:02:01.470
one of the core concepts of Angular

42
00:02:01.470 --> 00:02:04.080
is that you will be building Components.

43
00:02:04.080 --> 00:02:06.990
So this function wants such a Component

44
00:02:06.990 --> 00:02:09.840
and it in the end then takes this Component

45
00:02:09.840 --> 00:02:14.220
and looks for this Component in that index HTML file

46
00:02:14.220 --> 00:02:16.770
and tries to replace the tag,

47
00:02:16.770 --> 00:02:20.070
the element tag of your custom Component,

48
00:02:20.070 --> 00:02:24.060
with the markup you defined for your custom Component.

49
00:02:24.060 --> 00:02:26.940
Now here in this case, it's actually this AppComponent

50
00:02:26.940 --> 00:02:29.430
imported from this path here

51
00:02:29.430 --> 00:02:33.330
that's being passed to bootstrapApplication.

52
00:02:33.330 --> 00:02:37.320
And if we follow that path, we end up in this app folder

53
00:02:37.320 --> 00:02:40.383
and there the app.component.ts file.

54
00:02:41.370 --> 00:02:44.040
Now the file extension is actually missing here

55
00:02:44.040 --> 00:02:47.400
because for .ts files, you should omit them.

56
00:02:47.400 --> 00:02:50.550
So instead of importing something from a .ts file,

57
00:02:50.550 --> 00:02:54.180
you import it from just the file name without the extension.

58
00:02:54.180 --> 00:02:57.420
But it is this app.component.ts file

59
00:02:57.420 --> 00:02:59.730
from which we're importing something

60
00:02:59.730 --> 00:03:03.900
and we are importing something called AppComponent.

61
00:03:03.900 --> 00:03:06.690
And if we take a look at this app.component.ts file,

62
00:03:06.690 --> 00:03:09.480
we see that this is this class.

63
00:03:09.480 --> 00:03:12.720
This class is called AppComponent.

64
00:03:12.720 --> 00:03:15.210
So it's that thing we're importing and passing

65
00:03:15.210 --> 00:03:18.570
to this bootstrapApplication function here.

66
00:03:18.570 --> 00:03:22.560
And this class in Angular creates such a Component,

67
00:03:22.560 --> 00:03:25.293
such a custom HTML element.

68
00:03:26.130 --> 00:03:30.120
Now it does that because it's not just a class here.

69
00:03:30.120 --> 00:03:35.120
Instead, we also have this strange @Component thing above it

70
00:03:35.820 --> 00:03:37.980
and that's a so-called decorator,

71
00:03:37.980 --> 00:03:40.560
which is a TypeScript feature,

72
00:03:40.560 --> 00:03:43.470
that in the end adds some metadata

73
00:03:43.470 --> 00:03:45.780
to that thing it's attached to,

74
00:03:45.780 --> 00:03:47.910
so to this class here.

75
00:03:47.910 --> 00:03:51.960
And Angular uses decorators, like this Component decorator,

76
00:03:51.960 --> 00:03:55.200
to add extra metadata to certain things,

77
00:03:55.200 --> 00:03:57.060
like to this class here.

78
00:03:57.060 --> 00:03:59.910
And as you can see, this Component decorator

79
00:03:59.910 --> 00:04:03.270
is actually coming from the Angular framework.

80
00:04:03.270 --> 00:04:05.610
We're importing it from the core package

81
00:04:05.610 --> 00:04:08.580
that's part of the Angular framework.

82
00:04:08.580 --> 00:04:10.050
And it's then this decorator

83
00:04:10.050 --> 00:04:12.270
that converts this standard class

84
00:04:12.270 --> 00:04:16.230
into such a Angular Component that's treated as a Component.

85
00:04:16.230 --> 00:04:20.760
So as a custom HTML element by Angular, you could say.

86
00:04:20.760 --> 00:04:22.590
Now this Component thing here,

87
00:04:22.590 --> 00:04:26.130
this Component decorator, then receives an object

88
00:04:26.130 --> 00:04:28.710
with some configuration for this Component.

89
00:04:28.710 --> 00:04:31.080
And I'll get back to some of these options later.

90
00:04:31.080 --> 00:04:33.540
But one crucial setting you can see here

91
00:04:33.540 --> 00:04:36.270
is this selector property.

92
00:04:36.270 --> 00:04:38.610
Because this in the end tells Angular

93
00:04:38.610 --> 00:04:42.570
for which elements it should look in the HTML code

94
00:04:42.570 --> 00:04:45.600
so that those elements can be replaced

95
00:04:45.600 --> 00:04:49.200
by this Component and its markup.

96
00:04:49.200 --> 00:04:51.480
And the markup of this Component

97
00:04:51.480 --> 00:04:55.680
is stored in the so-called template of that Component.

98
00:04:55.680 --> 00:04:59.460
And every Angular Component has such a template,

99
00:04:59.460 --> 00:05:02.550
which typically is stored in an external file

100
00:05:02.550 --> 00:05:04.410
to which the path is provided

101
00:05:04.410 --> 00:05:07.293
with help of this templateUrl property.

102
00:05:08.400 --> 00:05:10.980
So here it's this app.component.html file

103
00:05:10.980 --> 00:05:14.040
that contains the markup for this Component,

104
00:05:14.040 --> 00:05:17.160
for this custom HTML element.

105
00:05:17.160 --> 00:05:19.770
So now because of this selector, we know that we're looking

106
00:05:19.770 --> 00:05:22.200
for an element called app-root,

107
00:05:22.200 --> 00:05:24.930
so with a tag of app-root,

108
00:05:24.930 --> 00:05:26.700
and that it's this markup

109
00:05:26.700 --> 00:05:28.743
that should be rendered in its place.

110
00:05:29.580 --> 00:05:31.740
We also have some styles set up,

111
00:05:31.740 --> 00:05:34.650
also stored in an external file.

112
00:05:34.650 --> 00:05:37.140
And these will be styles that only apply

113
00:05:37.140 --> 00:05:39.000
to the markup of this Component.

114
00:05:39.000 --> 00:05:41.610
So they can't clash with any other styles

115
00:05:41.610 --> 00:05:44.610
of other Components, which is pretty convenient.

116
00:05:44.610 --> 00:05:48.150
And we got some other settings which we can ignore for now.

117
00:05:48.150 --> 00:05:49.740
But it's because of this setup

118
00:05:49.740 --> 00:05:52.500
and because of this selector here most importantly

119
00:05:52.500 --> 00:05:56.400
that this app-root element in the index HTML file

120
00:05:56.400 --> 00:05:59.040
is replaced by the markup stored

121
00:05:59.040 --> 00:06:02.100
in this app.component.html file.

122
00:06:02.100 --> 00:06:06.930
And that is this title, this sub-title, and this image here.

123
00:06:06.930 --> 00:06:10.140
And that indeed is what we're seeing on the screen.

124
00:06:10.140 --> 00:06:12.960
And that's how Angular is taking over

125
00:06:12.960 --> 00:06:16.773
and how such a Angular Component ends up on the screen.

