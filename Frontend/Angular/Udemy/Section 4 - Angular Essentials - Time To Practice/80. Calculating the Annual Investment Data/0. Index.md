# 80. Calculating the Annual Investment Data

> Duração: `5min`

Sem Recursos

WEBVTT

1
00:00:00.540 --> 00:00:03.420
<v Maximilian>So now that we are collecting</v>

2
00:00:03.420 --> 00:00:05.820
that data entered by the user,

3
00:00:05.820 --> 00:00:10.590
the next step is to derive those results.

4
00:00:10.590 --> 00:00:11.910
And of course for that,

5
00:00:11.910 --> 00:00:16.620
I provided you with this investment results TypeScript file,

6
00:00:16.620 --> 00:00:18.510
which contains some code

7
00:00:18.510 --> 00:00:21.900
where you can use those captured input values

8
00:00:21.900 --> 00:00:23.940
to derive the annual data,

9
00:00:23.940 --> 00:00:25.953
which should be output in the table.

10
00:00:27.180 --> 00:00:30.810
Now the question is where we want to use that code though.

11
00:00:30.810 --> 00:00:32.940
And here we got two main options

12
00:00:32.940 --> 00:00:34.410
and I'll show you both,

13
00:00:34.410 --> 00:00:37.470
because it's always good to know about alternatives

14
00:00:37.470 --> 00:00:40.440
and there is no clear right or wrong path,

15
00:00:40.440 --> 00:00:43.890
though I will also tell you what my personal preferences.

16
00:00:43.890 --> 00:00:46.320
But the two options are essentially

17
00:00:46.320 --> 00:00:47.796
that we put this code

18
00:00:47.796 --> 00:00:52.796
into the to be added investment results component,

19
00:00:53.010 --> 00:00:56.850
for example or into the app component for example

20
00:00:56.850 --> 00:01:01.850
and that we make sure that we pass this gathered input data

21
00:01:02.040 --> 00:01:05.460
to the component that performs these calculations

22
00:01:05.460 --> 00:01:08.950
and that we then pass the result of these calculations

23
00:01:08.950 --> 00:01:12.210
to the component that outputs them.

24
00:01:12.210 --> 00:01:16.233
Or the alternative approach would be to use a service.

25
00:01:17.070 --> 00:01:19.830
Now, using the service has certain advantages

26
00:01:19.830 --> 00:01:21.630
and would be my preference

27
00:01:21.630 --> 00:01:24.300
and you'll see the advantages soon.

28
00:01:24.300 --> 00:01:27.870
But since you should know about both approaches

29
00:01:27.870 --> 00:01:30.420
and the different Angular features you'll need

30
00:01:30.420 --> 00:01:33.720
to use to implement these two different approaches,

31
00:01:33.720 --> 00:01:36.480
I'll show you both approaches.

32
00:01:36.480 --> 00:01:40.980
And I'll start with the in component calculation,

33
00:01:40.980 --> 00:01:44.220
before we then thereafter implement the service.

34
00:01:44.220 --> 00:01:48.420
And here I want to derive my annual results,

35
00:01:48.420 --> 00:01:50.391
which should be output in that table,

36
00:01:50.391 --> 00:01:53.250
in this app component here.

37
00:01:53.250 --> 00:01:54.083
So in the end,

38
00:01:54.083 --> 00:01:56.703
I wanna put this code here into the app component,

39
00:01:57.900 --> 00:02:02.070
so we can copy it as a method without the function keyword.

40
00:02:02.070 --> 00:02:03.153
for example.

41
00:02:04.500 --> 00:02:07.710
Though, I also need to bring the return statement along,

42
00:02:07.710 --> 00:02:10.831
but we can copy this without the function keyword

43
00:02:10.831 --> 00:02:13.623
into this app component TypeScript file.

44
00:02:15.390 --> 00:02:17.490
Now, we'll still get these errors here,

45
00:02:17.490 --> 00:02:21.030
because these are all non-existent variables,

46
00:02:21.030 --> 00:02:22.893
but we'll fix this soon.

47
00:02:24.180 --> 00:02:27.725
Or actually we can fix this immediately

48
00:02:27.725 --> 00:02:31.380
by simply accepting these missing variables

49
00:02:31.380 --> 00:02:32.700
as parameters here.

50
00:02:32.700 --> 00:02:35.550
That would be one way of solving this.

51
00:02:35.550 --> 00:02:38.130
So, we could expect this method

52
00:02:38.130 --> 00:02:41.553
to receive the initial investment,

53
00:02:42.510 --> 00:02:44.403
which should be a number,

54
00:02:45.900 --> 00:02:48.150
the duration, which should be a number.

55
00:02:48.150 --> 00:02:49.437
And I want numbers here,

56
00:02:49.437 --> 00:02:52.440
even though we get strings from the inputs,

57
00:02:52.440 --> 00:02:55.410
but I expect the converted values here

58
00:02:55.410 --> 00:02:56.580
and we'll have to make sure

59
00:02:56.580 --> 00:02:59.890
that we do convert them in some other place in our code

60
00:03:01.650 --> 00:03:06.650
and I also expect to get the expected return here,

61
00:03:07.890 --> 00:03:11.370
which should be a number and the annual investment,

62
00:03:11.370 --> 00:03:12.840
which should be a number.

63
00:03:12.840 --> 00:03:16.773
And of course, the order of these parameters is up to you,

64
00:03:18.150 --> 00:03:20.550
but the order is also the problem here,

65
00:03:20.550 --> 00:03:22.560
since I have four parameters,

66
00:03:22.560 --> 00:03:26.340
whenever we call this method, we have to remember the order.

67
00:03:26.340 --> 00:03:28.740
So, we could simplify this

68
00:03:28.740 --> 00:03:33.270
by actually wrapping those parameters between curly braces,

69
00:03:33.270 --> 00:03:36.810
so that we actually expect to get one single parameter,

70
00:03:36.810 --> 00:03:40.593
which should be an object with these properties.

71
00:03:41.940 --> 00:03:43.560
Now we just have to be careful,

72
00:03:43.560 --> 00:03:46.320
because this is now actually the type definition

73
00:03:46.320 --> 00:03:48.810
that defines the shape of this object.

74
00:03:48.810 --> 00:03:52.620
We of course, also must give this object a name like data

75
00:03:52.620 --> 00:03:54.840
and then add a colon to make it clear

76
00:03:54.840 --> 00:03:58.680
that this object type here describes the shape

77
00:03:58.680 --> 00:04:00.243
of this data parameter.

78
00:04:01.080 --> 00:04:04.950
So, the data parameter should be an object with this shape.

79
00:04:04.950 --> 00:04:08.650
So, with these properties of these types

80
00:04:10.410 --> 00:04:14.760
and now of course we need these properties here.

81
00:04:14.760 --> 00:04:16.230
So we could, for example,

82
00:04:16.230 --> 00:04:17.640
destructure them here

83
00:04:17.640 --> 00:04:21.420
by using this JavaScript destructuring syntax

84
00:04:21.420 --> 00:04:25.080
where we point at the object that should be structured

85
00:04:25.080 --> 00:04:27.750
and we then have curly braces on the left side

86
00:04:27.750 --> 00:04:32.310
of the equal sign to pull out those different properties

87
00:04:32.310 --> 00:04:37.310
and to store them in separate constant like this.

88
00:04:42.900 --> 00:04:46.740
That would be one way of accepting this input value here

89
00:04:46.740 --> 00:04:49.710
in this calculate investment results method

90
00:04:49.710 --> 00:04:51.723
in this app component.

91
00:04:53.970 --> 00:04:57.090
Now, we're not done returning the annual data here,

92
00:04:57.090 --> 00:04:58.350
won't do anything,

93
00:04:58.350 --> 00:05:00.780
and the method is not getting called right now,

94
00:05:00.780 --> 00:05:03.033
but it's an important first step.

