# 77. Adding a User Input Component

> Duração: `7min`

Sem Recursos

WEBVTT

1
00:00:00.540 --> 00:00:03.240
<v Maximilian>So we added the header Component,</v>

2
00:00:03.240 --> 00:00:06.450
and of course that was a relatively easy step,

3
00:00:06.450 --> 00:00:08.790
a relatively easy task.

4
00:00:08.790 --> 00:00:11.340
But we're now going to dive a bit deeper

5
00:00:11.340 --> 00:00:14.610
and we're going to continue with that second step

6
00:00:14.610 --> 00:00:18.060
where we'll add another new Component.

7
00:00:18.060 --> 00:00:21.060
But now a Component that will do a bit more

8
00:00:21.060 --> 00:00:23.820
than just output some text.

9
00:00:23.820 --> 00:00:26.520
We'll add a user input Component,

10
00:00:26.520 --> 00:00:30.180
which job is to get the user input

11
00:00:30.180 --> 00:00:32.550
with help of two-way binding.

12
00:00:32.550 --> 00:00:35.100
And for the moment, that's then it.

13
00:00:35.100 --> 00:00:38.070
And, of course, we also want to make sure here

14
00:00:38.070 --> 00:00:40.470
that we can submit the form

15
00:00:40.470 --> 00:00:42.690
that we'll need in this Component

16
00:00:42.690 --> 00:00:44.940
so that we have this button that allows us

17
00:00:44.940 --> 00:00:47.520
to produce these results in the end.

18
00:00:47.520 --> 00:00:48.390
Though for the moment,

19
00:00:48.390 --> 00:00:51.120
we'll not derive those results just yet.

20
00:00:51.120 --> 00:00:54.540
Instead, right now, the idea is to collect that input

21
00:00:54.540 --> 00:00:57.360
and then maybe just output it in the console.

22
00:00:57.360 --> 00:01:01.350
So that's what I'll do here as a next step.

23
00:01:01.350 --> 00:01:05.040
So therefore, another new Component is needed,

24
00:01:05.040 --> 00:01:07.770
and I'll generate it with ng g c

25
00:01:07.770 --> 00:01:09.930
and I'll name it user-input

26
00:01:09.930 --> 00:01:13.800
and again, I'll skip the generation of these test files

27
00:01:13.800 --> 00:01:16.923
with the --skip-tests command.

28
00:01:18.720 --> 00:01:21.750
With that, if I hit enter, this is created,

29
00:01:21.750 --> 00:01:23.790
this user input folder is added here

30
00:01:23.790 --> 00:01:26.070
next to the header folder.

31
00:01:26.070 --> 00:01:28.530
And as a first step, I'll start

32
00:01:28.530 --> 00:01:32.280
by bringing in those user-input Component styles,

33
00:01:32.280 --> 00:01:35.700
which you found attached earlier in this section.

34
00:01:35.700 --> 00:01:39.030
I'll replace the user-input.component.css file with the one

35
00:01:39.030 --> 00:01:40.653
that was attached earlier.

36
00:01:42.390 --> 00:01:46.740
And we can now work on the markup of this Component.

37
00:01:46.740 --> 00:01:50.940
And here in this user-input.component.html file,

38
00:01:50.940 --> 00:01:53.310
I in the end want to have a form,

39
00:01:53.310 --> 00:01:56.640
a form that outputs all these different inputs

40
00:01:56.640 --> 00:01:59.070
that allow us to collect the different pieces

41
00:01:59.070 --> 00:02:01.593
of data we need for this application.

42
00:02:03.240 --> 00:02:06.870
Now for styling purposes, I'll add a div in a form

43
00:02:06.870 --> 00:02:10.953
with a class of input-group.

44
00:02:13.080 --> 00:02:15.600
And in that div I want to have a paragraph

45
00:02:15.600 --> 00:02:19.440
which then contains a label and an input element.

46
00:02:19.440 --> 00:02:21.720
That will be my first input here,

47
00:02:21.720 --> 00:02:24.360
this combination, which is about getting

48
00:02:24.360 --> 00:02:28.593
that initial investment amount from the user.

49
00:02:29.670 --> 00:02:31.590
So that's my label text.

50
00:02:31.590 --> 00:02:34.620
And I'll then add the for attribute to that label

51
00:02:34.620 --> 00:02:37.020
for accessibility reasons

52
00:02:37.020 --> 00:02:38.670
and point at the element

53
00:02:38.670 --> 00:02:42.120
with the id initial-investment.

54
00:02:42.120 --> 00:02:45.540
Though of course, no element has that ID right now.

55
00:02:45.540 --> 00:02:48.450
So I'll add the id attribute to the input element

56
00:02:48.450 --> 00:02:51.270
and assign that as an id,

57
00:02:51.270 --> 00:02:54.450
so that this label and input are connected

58
00:02:54.450 --> 00:02:55.923
through that assignment.

59
00:02:57.810 --> 00:02:59.550
Next, I'll add the type attribute

60
00:02:59.550 --> 00:03:01.320
and set that to number so

61
00:03:01.320 --> 00:03:06.320
that this input focuses on getting numbers as input values,

62
00:03:07.020 --> 00:03:09.510
though from a type perspective,

63
00:03:09.510 --> 00:03:11.490
we'll still get string inputs.

64
00:03:11.490 --> 00:03:15.780
But the user will get better support with entering numbers,

65
00:03:15.780 --> 00:03:17.790
especially when visiting this page

66
00:03:17.790 --> 00:03:21.030
on mobile devices, for example.

67
00:03:21.030 --> 00:03:23.973
So that's a setting I want to set here.

68
00:03:25.350 --> 00:03:29.790
Now, I'll copy that to add a second input below that input,

69
00:03:29.790 --> 00:03:34.790
or, thanks to this class here, visually next to that input.

70
00:03:34.890 --> 00:03:38.610
And here that will get a label

71
00:03:38.610 --> 00:03:40.683
of annual investment,

72
00:03:41.550 --> 00:03:44.160
because this input is about getting that value

73
00:03:44.160 --> 00:03:47.463
that the user plans to invest every year.

74
00:03:48.330 --> 00:03:51.270
And hence, I'll also change the ID here

75
00:03:51.270 --> 00:03:53.310
to annual investment.

76
00:03:53.310 --> 00:03:55.233
The type still is number.

77
00:03:58.590 --> 00:04:01.050
Well, and now I'm going to copy

78
00:04:01.050 --> 00:04:03.900
and duplicate this entire input group

79
00:04:03.900 --> 00:04:06.150
to add two more inputs,

80
00:04:06.150 --> 00:04:08.070
which also again will be positioned

81
00:04:08.070 --> 00:04:10.530
next to each other visually.

82
00:04:10.530 --> 00:04:15.150
And here in the first input of these newly added inputs,

83
00:04:15.150 --> 00:04:18.330
I want to get my expected return rate.

84
00:04:18.330 --> 00:04:20.283
And that should also be of type number.

85
00:04:21.720 --> 00:04:23.580
And I'll give this an id

86
00:04:23.580 --> 00:04:27.933
of expected return, like this.

87
00:04:31.410 --> 00:04:34.320
And then here for the second input,

88
00:04:34.320 --> 00:04:36.750
I want to get the duration,

89
00:04:36.750 --> 00:04:41.433
and hence I'll choose duration here as an id.

90
00:04:45.000 --> 00:04:47.910
Now, last but not least,

91
00:04:47.910 --> 00:04:49.530
at the bottom of this form,

92
00:04:49.530 --> 00:04:53.070
I want to add a paragraph, which includes a button,

93
00:04:53.070 --> 00:04:55.173
which says Calculate.

94
00:04:57.210 --> 00:04:59.790
Well, with that, we should have the markup we need.

95
00:04:59.790 --> 00:05:04.050
Now we can go to the user input Component TypeScript file,

96
00:05:04.050 --> 00:05:06.390
and make sure that we link the template

97
00:05:06.390 --> 00:05:07.620
and style file there,

98
00:05:07.620 --> 00:05:10.290
which out of the box should be the case

99
00:05:10.290 --> 00:05:13.143
if you generated this with help of the CLI.

100
00:05:14.160 --> 00:05:16.860
I'm also using a standalone Component here,

101
00:05:16.860 --> 00:05:20.220
but again, I'll show you module based Components later

102
00:05:20.220 --> 00:05:21.183
in this section.

103
00:05:22.620 --> 00:05:25.830
And I now wanna output this user input Component.

104
00:05:25.830 --> 00:05:29.400
Therefore I'll go to the app.component.html file,

105
00:05:29.400 --> 00:05:31.530
and there, below my app header,

106
00:05:31.530 --> 00:05:36.090
I'll output my app-user-input Component,

107
00:05:36.090 --> 00:05:39.630
or whatever you chose as a selector

108
00:05:39.630 --> 00:05:43.020
in this user input Component TypeScript file.

109
00:05:43.020 --> 00:05:46.740
Here, that's the selector the CLI generated for me,

110
00:05:46.740 --> 00:05:49.533
so that's the selector we have to use here.

111
00:05:51.090 --> 00:05:54.000
Of course, again, this is not a known element just yet,

112
00:05:54.000 --> 00:05:56.190
so I'll take that quick fix

113
00:05:56.190 --> 00:05:59.550
and make sure that this import is added

114
00:05:59.550 --> 00:06:02.070
to the app Component TypeScript file,

115
00:06:02.070 --> 00:06:06.423
so that the UserInputComponent is registered there.

116
00:06:08.340 --> 00:06:11.310
With that, if you save everything and reload,

117
00:06:11.310 --> 00:06:16.310
you should see this user input area here below the header.

118
00:06:17.550 --> 00:06:21.120
And you should be able to enter some values here.

119
00:06:21.120 --> 00:06:23.370
So that should work.

120
00:06:23.370 --> 00:06:25.440
Of course, pressing the calculate button

121
00:06:25.440 --> 00:06:28.080
right now won't do anything useful though.

122
00:06:28.080 --> 00:06:30.690
Instead, it will trigger the browser default

123
00:06:30.690 --> 00:06:35.070
and submit that form to the server that serves this website,

124
00:06:35.070 --> 00:06:36.930
which is not what we want.

125
00:06:36.930 --> 00:06:40.473
So as a next step, I want to handle this form submission.

