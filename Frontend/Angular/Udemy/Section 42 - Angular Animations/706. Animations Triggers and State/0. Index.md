# 706. Animations Triggers and State

> Duração: `7min`

Sem Recursos

WEBVTT

00:01.440 --> 00:04.230
-: Angular 2 animations, which we use in a component

00:04.230 --> 00:06.000
since we want to use them in a template

00:06.000 --> 00:08.820
are set up in the app component decorator.

00:08.820 --> 00:13.162
Here we have the animations array

00:13.162 --> 00:16.170
and in that array we define the animations

00:16.170 --> 00:18.390
this template should be aware of.

00:18.390 --> 00:21.030
Animations are generally types of code

00:21.030 --> 00:22.277
as we write it here

00:22.277 --> 00:24.330
in our TypeScript file, but it's very easy to

00:24.330 --> 00:28.950
understand how we manipulate certain styles of elements

00:28.950 --> 00:31.320
since there we will use the same names

00:31.320 --> 00:33.690
as we use with normal CSS styles.

00:33.690 --> 00:35.340
But you'll see what I mean.

00:35.340 --> 00:37.500
So how does a Angular 2 animation look like?

00:37.500 --> 00:39.420
How is it defined?

00:39.420 --> 00:41.940
Each animation has a trigger,

00:41.940 --> 00:43.770
so we need to add trigger,

00:43.770 --> 00:47.340
and trigger needs to be imported from @angular/core.

00:47.340 --> 00:49.050
And I will split this over multiple lines

00:49.050 --> 00:50.520
because I will import a couple

00:50.520 --> 00:52.740
of other methods as well.

00:52.740 --> 00:54.833
With a trigger, which is a function,

00:54.833 --> 00:57.385
we tell Anglo two that we want

00:57.385 --> 00:59.790
to define a certain name,

00:59.790 --> 01:02.670
which we can place in our DOM in our template,

01:02.670 --> 01:04.920
which should then, if it is placed there,

01:04.920 --> 01:07.260
trigger a certain animation.

01:07.260 --> 01:10.620
So, let's give it any name, I'll choose divstate

01:10.620 --> 01:12.750
since I want to manipulate the state

01:12.750 --> 01:14.550
of this DIV element.

01:14.550 --> 01:16.950
This name is totally up to you.

01:16.950 --> 01:18.690
So, that is the trigger.

01:18.690 --> 01:20.550
That alone won't do anything though.

01:20.550 --> 01:22.200
I wanna attach some animations

01:22.200 --> 01:24.570
or something what this trigger shall do.

01:24.570 --> 01:26.250
So, the second argument

01:26.250 --> 01:28.770
to the trigger function defines the animation

01:28.770 --> 01:30.990
this trigger should toggle.

01:30.990 --> 01:34.560
Now, animation is of type animation metadata,

01:34.560 --> 01:35.730
as you can see here.

01:35.730 --> 01:38.190
And this actually simply is an array.

01:38.190 --> 01:42.000
So, we pass an array as a second argument.

01:42.000 --> 01:44.096
Now, with that trigger set up,

01:44.096 --> 01:46.770
and even though I have no animation added yet,

01:46.770 --> 01:47.850
I can only go back

01:47.850 --> 01:51.330
to the template and add this trigger to this DIV.

01:51.330 --> 01:53.453
I do this by using square brackets,

01:53.453 --> 01:55.710
like when using property binding,

01:55.710 --> 01:59.190
but then @ and now the name of the trigger,

01:59.190 --> 02:01.260
which would be DIVstate.

02:01.260 --> 02:05.730
So, this trigger configured here in the types code,

02:05.730 --> 02:09.180
is now used here and this attaches it to that DIV.

02:09.180 --> 02:11.400
Now, we need to bind that to something,

02:11.400 --> 02:12.690
because the animation I'm going

02:12.690 --> 02:14.931
to define in a second should run all the time.

02:14.931 --> 02:19.931
So here we need to kind of, yeah, bind the condition

02:20.160 --> 02:23.040
which then controls which part of that animation

02:23.040 --> 02:25.200
we're going to set up should run.

02:25.200 --> 02:29.640
I'm going to bind this to a simple proper name state

02:29.640 --> 02:32.247
which doesn't exist yet, which I'll create in my component

02:32.247 --> 02:34.998
a normal property in that component state,

02:34.998 --> 02:38.910
which I will set to normal initially.

02:38.910 --> 02:39.780
That is up to you.

02:39.780 --> 02:42.697
That could also be a number, whatever you like.

02:42.697 --> 02:45.450
That is totally unrelated to your animation or

02:45.450 --> 02:47.460
to the Angular 2 animations in general,

02:47.460 --> 02:49.920
but we will use this state property

02:49.920 --> 02:51.540
and the different values it can have

02:51.540 --> 02:53.670
in our trigger up here now.

02:53.670 --> 02:55.350
How does it work?

02:55.350 --> 02:59.550
Well, let's say we wanna define two states,

02:59.550 --> 03:02.760
normal, which it is set to by default.

03:02.760 --> 03:06.390
And then we wanna give it another state.

03:06.390 --> 03:07.950
Let's say highlight it.

03:07.950 --> 03:10.890
Let's say we wanna have animation between two states.

03:10.890 --> 03:14.010
And that is important how Angular 2 animations work.

03:14.010 --> 03:17.070
You transition from state one to state two.

03:17.070 --> 03:18.870
You work with states.

03:18.870 --> 03:20.700
You don't have to name the property

03:20.700 --> 03:22.500
which controls your state,

03:22.500 --> 03:23.970
state as I do.

03:23.970 --> 03:26.190
But it makes sense here since we're talking

03:26.190 --> 03:29.070
about different states of that animation.

03:29.070 --> 03:31.470
So we define such a new state

03:31.470 --> 03:35.490
in our animation array simply by passing state

03:35.490 --> 03:38.550
and importing that from @angular/core too.

03:38.550 --> 03:40.830
That's also animation related method.

03:40.830 --> 03:43.500
Now, as I said, we will at least have two states

03:43.500 --> 03:46.080
here to have something to transition from.

03:46.080 --> 03:49.320
And two side note, I will show you a different setup

03:49.320 --> 03:51.060
in one of the next videos.

03:51.060 --> 03:53.190
And then we set up each state.

03:53.190 --> 03:55.200
Now we give it a name normal,

03:55.200 --> 03:56.818
and this state here

03:56.818 --> 03:58.380
of course should match the state down there.

03:58.380 --> 04:00.810
Because I want to use a state I actually use

04:00.810 --> 04:03.660
in my template or in the types of code.

04:03.660 --> 04:06.986
So I use normal here and here, let's say highlighted.

04:06.986 --> 04:08.520
Both names are up to you.

04:08.520 --> 04:11.023
Just make sure that you actually use them like I do here

04:11.023 --> 04:15.003
and therefore then also in a template where I bind to state.

04:16.350 --> 04:19.110
So how should the normal state look like?

04:19.110 --> 04:21.570
That is the second argument of the state method.

04:21.570 --> 04:24.510
Here we pass a style object

04:24.510 --> 04:28.380
where a style method also imported from @angular/core.

04:28.380 --> 04:29.880
So that's yet another method.

04:29.880 --> 04:33.270
But in this method we now define the style of the state.

04:33.270 --> 04:35.100
So we pass a JavaScript object.

04:35.100 --> 04:37.830
And here it's almost like writing CSS code

04:37.830 --> 04:39.390
but don't use any dashes.

04:39.390 --> 04:41.523
So, no background color like this.

04:42.360 --> 04:45.210
So, how do we want to set up state here?

04:45.210 --> 04:47.610
Well, actually I want to set the background color

04:47.610 --> 04:50.760
and I can do this by enclosing it at single quotes,

04:50.760 --> 04:55.590
or alternatively by using the camel case syntax like this.

04:55.590 --> 04:58.604
So I'll choose the first syntax with the single quotes here

04:58.604 --> 05:02.134
and then I'll set background color to red, let's say.

05:02.134 --> 05:05.070
This is my initial state,

05:05.070 --> 05:08.010
that the background color is red.

05:08.010 --> 05:11.730
I also want to give it or want,

05:11.730 --> 05:16.363
to transform it to set translate x to zero

05:18.630 --> 05:20.670
to have it at its default position

05:20.670 --> 05:22.650
and not move it anywhere to the left or right.

05:22.650 --> 05:26.220
So, this is normal CSS styling here.

05:26.220 --> 05:29.460
Be aware that we don't see the DIV as of now though,

05:29.460 --> 05:34.260
because while it is normal DIV here,

05:34.260 --> 05:36.900
and it only has our state and even though

05:36.900 --> 05:39.720
if we were in the normal state, we only set background color

05:39.720 --> 05:42.720
and the position but not the width and height.

05:42.720 --> 05:44.820
So, in the template, let's quickly go

05:44.820 --> 05:48.300
to that DIV and add a normal style totally unrelated

05:48.300 --> 05:50.230
to Angular 2 and set the width

05:51.120 --> 05:53.550
to a 100 pixels and the height to 100 pixels,

05:53.550 --> 05:55.650
so that we can see it.

05:55.650 --> 05:59.160
Back to the TypeScript code, we set our normal state.

05:59.160 --> 06:02.820
Now, we wanna do the same for the highlighted state.

06:02.820 --> 06:05.520
Here I also pass a JavaScript object

06:05.520 --> 06:07.140
and if we highlight it,

06:07.140 --> 06:09.570
let's say we wanna set the background color.

06:09.570 --> 06:14.130
Now, I'm deliberately using the average syntax to blue.

06:14.130 --> 06:18.000
We also want to transform it, and move it,

06:18.000 --> 06:22.680
and we want to move it 100 pixels to the right, let's say.

06:22.680 --> 06:24.720
This is the highlighted state.

06:24.720 --> 06:27.840
Now, if I save this with NG serve running

06:27.840 --> 06:30.600
to see the application, if this reloads

06:30.600 --> 06:35.280
we see the red rectangular square here already.

06:35.280 --> 06:39.060
We see a square because we set width and hide here.

06:39.060 --> 06:43.140
But the red color clearly stems from our normal state,

06:43.140 --> 06:45.390
which we set up here in the state property,

06:45.390 --> 06:49.110
which we bind to our DIV state, which again

06:49.110 --> 06:51.870
is the trigger we're setting up here as animation.

06:51.870 --> 06:54.420
So, we don't have an animation yet.

06:54.420 --> 06:57.060
But an animation is always just a movement

06:57.060 --> 06:59.580
or a journey from one stage to the other.

06:59.580 --> 07:02.160
And at least we're at the beginning state now.

07:02.160 --> 07:04.910
In the next video we'll have a look at how we could get

07:05.785 --> 07:08.220
to highlighted and how we can animate the transition

07:08.220 --> 07:09.573
between the two states.
