# 84. Outputting Data in a Table

> Duração: `5min`

Sem Recursos

WEBVTT

1
00:00:00.570 --> 00:00:03.930
<v Maximilian>So how can we now use the results here</v>

2
00:00:03.930 --> 00:00:06.123
in the investment results component?

3
00:00:06.960 --> 00:00:08.970
Well, in two main ways.

4
00:00:08.970 --> 00:00:10.380
For one, I want to check

5
00:00:10.380 --> 00:00:13.050
whether we maybe don't have any results

6
00:00:13.050 --> 00:00:16.260
so that in that case we show this paragraph.

7
00:00:16.260 --> 00:00:18.450
Otherwise, if we do have results,

8
00:00:18.450 --> 00:00:21.540
I want to output some rows in that table.

9
00:00:21.540 --> 00:00:23.760
Now let's start with the if check

10
00:00:23.760 --> 00:00:25.950
and if you're using modern Angular,

11
00:00:25.950 --> 00:00:29.130
you can output this content conditionally

12
00:00:29.130 --> 00:00:31.240
by adding @if here

13
00:00:32.130 --> 00:00:34.620
and by then putting your condition

14
00:00:34.620 --> 00:00:36.510
between those parentheses.

15
00:00:36.510 --> 00:00:41.490
And here my condition is that results is not truthy,

16
00:00:41.490 --> 00:00:43.503
so not results.

17
00:00:45.810 --> 00:00:48.693
If that's the case, this paragraph should be displayed.

18
00:00:49.890 --> 00:00:53.670
Now this starting project, which I provided to you,

19
00:00:53.670 --> 00:00:57.090
uses a Angular version that's recent enough

20
00:00:57.090 --> 00:01:00.930
to support this modern @if syntax.

21
00:01:00.930 --> 00:01:04.260
In older Angular projects, you would need

22
00:01:04.260 --> 00:01:08.040
to use the ng if directive like this,

23
00:01:08.040 --> 00:01:09.843
but here it's not required.

24
00:01:10.830 --> 00:01:15.830
Now this if syntax here also supports an at else branch,

25
00:01:16.410 --> 00:01:19.170
which will become active if this condition is not met.

26
00:01:19.170 --> 00:01:22.260
So if we do have results and therefore here,

27
00:01:22.260 --> 00:01:25.410
I'll grab my table like this

28
00:01:25.410 --> 00:01:28.413
and I'll put that here in that else branch.

29
00:01:30.570 --> 00:01:32.310
With that, if you save that,

30
00:01:32.310 --> 00:01:35.520
you should see this fallback text.

31
00:01:35.520 --> 00:01:37.740
And to improve the styling of that,

32
00:01:37.740 --> 00:01:41.920
I'll actually add the class center to it

33
00:01:44.430 --> 00:01:45.903
so that it is centered.

34
00:01:46.860 --> 00:01:48.123
So that looks better.

35
00:01:49.380 --> 00:01:52.620
Now of course, if we have results, I wanna output them here.

36
00:01:52.620 --> 00:01:55.140
And by the way, if I would click calculate,

37
00:01:55.140 --> 00:01:56.580
this table would be rendered.

38
00:01:56.580 --> 00:01:57.840
So the if check works,

39
00:01:57.840 --> 00:02:01.050
but of course we have no rows yet, so that's what we need

40
00:02:01.050 --> 00:02:04.050
to change and therefore we should dynamically output

41
00:02:04.050 --> 00:02:06.660
some rows here in that table body.

42
00:02:06.660 --> 00:02:09.870
And we can do this with @for.

43
00:02:09.870 --> 00:02:14.870
Another modern control flow statement supported by Angular.

44
00:02:15.300 --> 00:02:19.380
Now @for needs your looping code

45
00:02:19.380 --> 00:02:23.700
or the code that defines through which data it should loop

46
00:02:23.700 --> 00:02:26.730
and iterate between those parentheses

47
00:02:26.730 --> 00:02:31.350
and therefore here we can write result of results

48
00:02:31.350 --> 00:02:34.410
so that we loop through the results property,

49
00:02:34.410 --> 00:02:36.660
which will hold an array value.

50
00:02:36.660 --> 00:02:39.180
So we can loop through it

51
00:02:39.180 --> 00:02:43.410
and we then extract every entry into such a result variable,

52
00:02:43.410 --> 00:02:45.660
which we can access between the curly braces

53
00:02:45.660 --> 00:02:47.973
to output that data.

54
00:02:49.710 --> 00:02:53.280
Now we also need to add something here after a semicolon,

55
00:02:53.280 --> 00:02:56.790
and that is track and then define

56
00:02:56.790 --> 00:03:01.790
which criteria uniquely identifies every entry

57
00:03:02.040 --> 00:03:02.880
in that array.

58
00:03:02.880 --> 00:03:05.520
And in that case, that would be the year property,

59
00:03:05.520 --> 00:03:08.970
for example, because every element in this results array

60
00:03:08.970 --> 00:03:11.610
will have a unique year assigned to it,

61
00:03:11.610 --> 00:03:15.363
and that is required by Angular for performance reasons.

62
00:03:16.920 --> 00:03:17.753
With that though,

63
00:03:17.753 --> 00:03:20.920
we can then render one table row per element

64
00:03:21.840 --> 00:03:25.320
and then have multiple columns in there where we,

65
00:03:25.320 --> 00:03:30.320
for example, output the result year in the first column

66
00:03:30.450 --> 00:03:33.450
using this string interpolation syntax

67
00:03:33.450 --> 00:03:35.703
with the double curly braces.

68
00:03:37.830 --> 00:03:40.260
And I'm outputting the year in the first column

69
00:03:40.260 --> 00:03:42.903
because that is my first column heading as well.

70
00:03:47.130 --> 00:03:49.410
Now the second column

71
00:03:49.410 --> 00:03:53.280
should then output the investment value,

72
00:03:53.280 --> 00:03:56.133
which we can get from result.valueEndOfYear.

73
00:04:00.540 --> 00:04:03.483
So that's what our investment is currently worth.

74
00:04:04.590 --> 00:04:06.600
And then thereafter,

75
00:04:06.600 --> 00:04:11.330
I output the interest gained in that year thereafter.

76
00:04:14.610 --> 00:04:17.070
We have the total interest

77
00:04:17.070 --> 00:04:19.593
and thereafter the total amount invested.

78
00:04:25.080 --> 00:04:26.040
With that,

79
00:04:26.040 --> 00:04:29.760
if you save this, you should actually be able

80
00:04:29.760 --> 00:04:32.610
to enter something here, enter some values,

81
00:04:32.610 --> 00:04:33.780
and click calculate.

82
00:04:33.780 --> 00:04:35.520
And you should see a table.

83
00:04:35.520 --> 00:04:39.090
Now the values will not look that great yet.

84
00:04:39.090 --> 00:04:43.950
They're not formatted as currency, but will fix this soon.

85
00:04:43.950 --> 00:04:45.750
You should see some rows here though,

86
00:04:45.750 --> 00:04:49.560
and that therefore proves that calculating those values

87
00:04:49.560 --> 00:04:51.630
and outputting them works.

88
00:04:51.630 --> 00:04:55.503
As a next step, let's fix the way they're displayed.

