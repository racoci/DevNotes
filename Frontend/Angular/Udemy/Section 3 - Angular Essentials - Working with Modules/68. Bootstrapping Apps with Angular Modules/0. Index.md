# 68. Bootstrapping Apps with Angular Modules

> Duração: `5min`

Sem Recursos

WEBVTT

1
00:00:00.360 --> 00:00:02.610
<v Instructor>And here for a start,</v>

2
00:00:02.610 --> 00:00:05.040
I will declare the app component

3
00:00:05.040 --> 00:00:07.860
because that is definitely one of the Components

4
00:00:07.860 --> 00:00:09.600
we have in our application

5
00:00:09.600 --> 00:00:11.643
that should be considered by Angular.

6
00:00:12.630 --> 00:00:14.070
Therefore, I will import

7
00:00:14.070 --> 00:00:18.060
the {AppComponent} from './app.component';

8
00:00:18.060 --> 00:00:20.310
so from the app.component.ts file,

9
00:00:20.310 --> 00:00:22.743
and add it here to declarations.

10
00:00:23.580 --> 00:00:26.310
Now as I do that, I'm then getting an error

11
00:00:26.310 --> 00:00:29.430
that the component app component is standalone

12
00:00:29.430 --> 00:00:33.360
and cannot be declared in a Ng module,

13
00:00:33.360 --> 00:00:34.890
because indeed modules

14
00:00:34.890 --> 00:00:38.280
and Standalone Components are rivaling concepts.

15
00:00:38.280 --> 00:00:41.310
So if we add a component to the declarations array,

16
00:00:41.310 --> 00:00:44.250
it can't be a Standalone Component.

17
00:00:44.250 --> 00:00:46.020
Therefore, what we have to do

18
00:00:46.020 --> 00:00:49.050
is go to the app.component.ts file

19
00:00:49.050 --> 00:00:53.460
and remove this standalone true property here,

20
00:00:53.460 --> 00:00:58.460
or set it to standalone: false, which is the default though.

21
00:00:58.500 --> 00:01:00.813
Therefore removing it also works.

22
00:01:02.670 --> 00:01:04.710
With that, you then see that I'm also getting

23
00:01:04.710 --> 00:01:07.110
an error here in that component now,

24
00:01:07.110 --> 00:01:10.170
that the imports array is only valid

25
00:01:10.170 --> 00:01:11.760
if a component is standalone,

26
00:01:11.760 --> 00:01:14.340
which this component isn't anymore.

27
00:01:14.340 --> 00:01:17.703
So we should remove that from the app component as well.

28
00:01:19.620 --> 00:01:22.170
And then of course, we can also remove those imports here

29
00:01:22.170 --> 00:01:25.680
because we're not using these component class identifiers

30
00:01:25.680 --> 00:01:27.273
in this file anymore.

31
00:01:28.980 --> 00:01:32.970
So with that, this app component decorator got leaner.

32
00:01:32.970 --> 00:01:36.360
However, now our application also would crash,

33
00:01:36.360 --> 00:01:38.910
and it would actually crash for multiple reasons.

34
00:01:38.910 --> 00:01:40.620
So let's fix this.

35
00:01:40.620 --> 00:01:43.020
So why is the application crashing now

36
00:01:43.020 --> 00:01:46.410
that I added the app component to a module?

37
00:01:46.410 --> 00:01:49.530
Well, because that's not all we have to do here.

38
00:01:49.530 --> 00:01:51.960
Keep in mind that earlier in this course

39
00:01:51.960 --> 00:01:54.600
I mentioned that it would be the main.ts file

40
00:01:54.600 --> 00:01:56.640
that gets executed first.

41
00:01:56.640 --> 00:01:59.430
And in that file we're telling Angular

42
00:01:59.430 --> 00:02:03.510
with which component we wanna start our Angular app.

43
00:02:03.510 --> 00:02:05.793
So what our root component should be.

44
00:02:07.050 --> 00:02:09.150
Well, this approach only works

45
00:02:09.150 --> 00:02:12.480
if that root component is a Standalone Component.

46
00:02:12.480 --> 00:02:15.090
So if we're not using modules here,

47
00:02:15.090 --> 00:02:18.360
and of course that's not the case anymore,

48
00:02:18.360 --> 00:02:21.843
app component isn't a Standalone Component anymore.

49
00:02:22.740 --> 00:02:24.090
And therefore, indeed,

50
00:02:24.090 --> 00:02:27.360
if you are working with a root Angular module

51
00:02:27.360 --> 00:02:29.940
instead of Standalone Components,

52
00:02:29.940 --> 00:02:33.960
you don't start your Angular application like this.

53
00:02:33.960 --> 00:02:36.570
Instead, we can get rid of all these imports,

54
00:02:36.570 --> 00:02:38.860
and completely empty this file

55
00:02:39.810 --> 00:02:42.337
and instead import something from

56
00:02:42.337 --> 00:02:45.387
@angular/platform-browser-dynamic';

57
00:02:46.590 --> 00:02:48.600
And from there we have to import

58
00:02:48.600 --> 00:02:52.173
the platform browser dynamic function,

59
00:02:53.580 --> 00:02:56.130
and then this function must be executed.

60
00:02:56.130 --> 00:02:59.070
And on the result of calling that function,

61
00:02:59.070 --> 00:03:01.397
you can then call bootstrapModule.

62
00:03:03.190 --> 00:03:07.260
And you now need to pass a reference of that class here.

63
00:03:07.260 --> 00:03:09.150
So the class name in the end

64
00:03:09.150 --> 00:03:12.210
to this bootstrap module function now.

65
00:03:12.210 --> 00:03:17.100
So we should import the { AppModule } from ',

66
00:03:17.100 --> 00:03:20.640
and then from the app folder and the app module file

67
00:03:20.640 --> 00:03:24.153
and pass that to the bootstrap module function.

68
00:03:25.980 --> 00:03:29.430
And that's how you then start an Angular application

69
00:03:29.430 --> 00:03:31.680
that uses modules.

70
00:03:31.680 --> 00:03:33.900
However, we're not entirely there yet,

71
00:03:33.900 --> 00:03:38.130
because we also must edit the root module now.

72
00:03:38.130 --> 00:03:40.860
Because at the moment Angular just knows

73
00:03:40.860 --> 00:03:42.480
that it's this app module

74
00:03:42.480 --> 00:03:46.020
with which the Angular application should be started,

75
00:03:46.020 --> 00:03:48.480
but it does not know which of the Components

76
00:03:48.480 --> 00:03:51.780
that are declared here, should be the root component.

77
00:03:51.780 --> 00:03:55.710
Of course, at the moment, we only have one component here,

78
00:03:55.710 --> 00:03:57.450
but that will soon change

79
00:03:57.450 --> 00:04:00.420
because we will soon add more Components here

80
00:04:00.420 --> 00:04:04.050
to tell Angular which other Components might be used

81
00:04:04.050 --> 00:04:06.360
by the app component.

82
00:04:06.360 --> 00:04:08.010
And therefore, theoretically

83
00:04:08.010 --> 00:04:09.990
we would have multiple Components here

84
00:04:09.990 --> 00:04:11.790
and Angular wouldn't know

85
00:04:11.790 --> 00:04:14.910
with which component to start the app.

86
00:04:14.910 --> 00:04:18.540
That's why to the root Angular module,

87
00:04:18.540 --> 00:04:23.163
you also must add a special bootstrap configuration item.

88
00:04:24.060 --> 00:04:26.190
And this now also takes an array

89
00:04:26.190 --> 00:04:29.580
and it takes an array of all the root Components

90
00:04:29.580 --> 00:04:31.860
you wanna set up for your application.

91
00:04:31.860 --> 00:04:34.500
And whilst this could be multiple Components,

92
00:04:34.500 --> 00:04:36.030
it's typically just one,

93
00:04:36.030 --> 00:04:39.570
because you typically just build Angular applications

94
00:04:39.570 --> 00:04:43.800
that consist of a single tree of Components.

95
00:04:43.800 --> 00:04:46.920
So in my case, I specify the app component here

96
00:04:46.920 --> 00:04:50.220
so that Angular knows that this is the root component

97
00:04:50.220 --> 00:04:52.353
with which I wanna start the application.

98
00:04:53.910 --> 00:04:58.910
Well, with that, if we try to load our application again,

99
00:04:58.950 --> 00:05:01.170
or if we take a look at the terminal

100
00:05:01.170 --> 00:05:04.860
where we have that Ng serve process up and running,

101
00:05:04.860 --> 00:05:08.160
we see that we still get some errors here.

102
00:05:08.160 --> 00:05:11.400
For example, that Angular doesn't know

103
00:05:11.400 --> 00:05:14.160
the app tasks component now,

104
00:05:14.160 --> 00:05:17.160
which we're using in the template of the app component.

105
00:05:17.160 --> 00:05:20.013
So that's something else we'll have to fix.

