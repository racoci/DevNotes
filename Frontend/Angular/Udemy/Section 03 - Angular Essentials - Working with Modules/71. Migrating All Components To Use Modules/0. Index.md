# 71. Migrating All Components To Use Modules

> Duração: `7min`

Sem Recursos

WEBVTT

1
00:00:00.300 --> 00:00:03.480
<v Maximilian>So the goal now is to actually convert</v>

2
00:00:03.480 --> 00:00:06.450
the HeaderComponent, UserComponent, TasksComponent,

3
00:00:06.450 --> 00:00:11.370
and so on from Standalone to non-Standalone Components.

4
00:00:11.370 --> 00:00:14.640
And as a challenge and exercise,

5
00:00:14.640 --> 00:00:17.910
you can definitely try doing this on your own.

6
00:00:17.910 --> 00:00:20.130
Start with the HeaderComponent,

7
00:00:20.130 --> 00:00:22.290
and if you're then feeling fancy,

8
00:00:22.290 --> 00:00:26.637
also try continuing with the User and TasksComponent.

9
00:00:26.637 --> 00:00:31.530
Those will be a bit more tricky because those Components,

10
00:00:31.530 --> 00:00:33.450
especially the TasksComponent,

11
00:00:33.450 --> 00:00:36.000
use other Components internally,

12
00:00:36.000 --> 00:00:38.310
which then also need to be migrated.

13
00:00:38.310 --> 00:00:41.940
But you can definitely try doing this on your own as well

14
00:00:41.940 --> 00:00:43.830
after a couple of seconds,

15
00:00:43.830 --> 00:00:45.780
which I give you to pause the video

16
00:00:45.780 --> 00:00:48.000
so that you can try it on your own.

17
00:00:48.000 --> 00:00:50.130
We'll migrate these Components

18
00:00:50.130 --> 00:00:52.410
and any other Components that may need

19
00:00:52.410 --> 00:00:54.333
to be migrated together.

20
00:00:58.470 --> 00:01:01.290
So let's convert these Components together now,

21
00:01:01.290 --> 00:01:04.770
and I will start with the HeaderComponent.

22
00:01:04.770 --> 00:01:06.690
Here, it's pretty straightforward

23
00:01:06.690 --> 00:01:10.260
because this component doesn't use any other Components.

24
00:01:10.260 --> 00:01:14.160
So all we have to do here is set standalone to false

25
00:01:14.160 --> 00:01:15.483
or remove it.

26
00:01:16.890 --> 00:01:18.630
And then back in the app.module,

27
00:01:18.630 --> 00:01:21.670
move that HeaderComponent from the imports array

28
00:01:22.560 --> 00:01:24.363
to the declarations array.

29
00:01:25.710 --> 00:01:26.910
And that's all.

30
00:01:26.910 --> 00:01:28.140
If we now save that,

31
00:01:28.140 --> 00:01:31.230
the application reloads and still works as before,

32
00:01:31.230 --> 00:01:33.513
and the header also still is there.

33
00:01:35.400 --> 00:01:37.410
Of course, we can there for now continue

34
00:01:37.410 --> 00:01:38.560
with the UserComponent.

35
00:01:39.840 --> 00:01:44.730
Here, we also remove standalone or set it to false.

36
00:01:44.730 --> 00:01:48.210
And here, we now are using some other component,

37
00:01:48.210 --> 00:01:49.110
the CardComponent.

38
00:01:50.700 --> 00:01:53.430
So we should remove that imports array here now

39
00:01:53.430 --> 00:01:56.790
since we can't use that in Standalone Components,

40
00:01:56.790 --> 00:01:58.560
and we can then therefore also get rid

41
00:01:58.560 --> 00:02:00.423
of this unused import.

42
00:02:01.950 --> 00:02:04.470
And instead back in the app.module,

43
00:02:04.470 --> 00:02:07.440
we now should move the UserComponent

44
00:02:07.440 --> 00:02:09.900
from imports to declarations,

45
00:02:09.900 --> 00:02:13.830
but we now also need to add the CardComponent here

46
00:02:13.830 --> 00:02:16.623
since we're using that in the UserComponent.

47
00:02:17.700 --> 00:02:19.680
Now the CardComponent, of course,

48
00:02:19.680 --> 00:02:21.840
is also a standalone component,

49
00:02:21.840 --> 00:02:26.580
so we should also convert that to a module-based component.

50
00:02:26.580 --> 00:02:28.443
And also remove the imports array.

51
00:02:30.270 --> 00:02:34.320
With that, it's just the TasksComponent that remains,

52
00:02:34.320 --> 00:02:36.990
but this component uses two other Components,

53
00:02:36.990 --> 00:02:39.330
which we'll also need to convert.

54
00:02:39.330 --> 00:02:42.780
Now I'll start with the TasksComponent by setting it

55
00:02:42.780 --> 00:02:46.680
to standalone: false and by getting rid of imports,

56
00:02:46.680 --> 00:02:49.860
and by then getting rid of these unused imports

57
00:02:49.860 --> 00:02:51.783
of the Task and NewTaskComponent.

58
00:02:54.450 --> 00:02:55.650
And back in app.module,

59
00:02:55.650 --> 00:03:00.450
we add the TasksComponent here to declarations

60
00:03:00.450 --> 00:03:03.393
and autoformat this to make it a bit more readable,

61
00:03:04.380 --> 00:03:09.380
and then also add the TaskComponent here for a single task

62
00:03:09.900 --> 00:03:12.700
and also the NewTaskComponent.

63
00:03:14.460 --> 00:03:16.080
And you always must make sure

64
00:03:16.080 --> 00:03:19.230
that all those imports up here are added as well.

65
00:03:19.230 --> 00:03:20.940
Otherwise, Angular won't be able

66
00:03:20.940 --> 00:03:23.463
to find those Components in their files.

67
00:03:24.690 --> 00:03:27.420
Now TaskComponent and NewTaskComponent

68
00:03:27.420 --> 00:03:29.220
are Standalone Components.

69
00:03:29.220 --> 00:03:32.940
So we should convert the TaskComponent,

70
00:03:32.940 --> 00:03:36.963
which is using the CardComponent though and the DatePipe.

71
00:03:38.490 --> 00:03:40.950
Now we have to remove that,

72
00:03:40.950 --> 00:03:44.283
and then also remove those unused imports.

73
00:03:46.080 --> 00:03:49.290
And we are already declaring the CardComponent,

74
00:03:49.290 --> 00:03:51.630
so we don't need to do anything here.

75
00:03:51.630 --> 00:03:53.283
But what about the DatePipe?

76
00:03:54.510 --> 00:03:57.300
Well, you could think that you need to add it here

77
00:03:57.300 --> 00:03:59.583
to imports like this.

78
00:04:00.600 --> 00:04:02.730
And indeed you could do that,

79
00:04:02.730 --> 00:04:04.710
but you actually don't have to.

80
00:04:04.710 --> 00:04:07.620
You don't have to add the DatePipe here

81
00:04:07.620 --> 00:04:10.620
in this imports array because this is actually one

82
00:04:10.620 --> 00:04:13.200
of the things that's automatically included

83
00:04:13.200 --> 00:04:14.823
by that browser module.

84
00:04:15.750 --> 00:04:19.110
So all those pipes are automatically unlocked

85
00:04:19.110 --> 00:04:21.420
by that browser module, and therefore,

86
00:04:21.420 --> 00:04:23.913
you don't need to add the DatePipe here.

87
00:04:25.950 --> 00:04:29.220
And that leaves us with only the NewTaskComponent

88
00:04:29.220 --> 00:04:33.090
that must be migrated by removing standalone

89
00:04:33.090 --> 00:04:34.650
and this imports array.

90
00:04:34.650 --> 00:04:38.370
And here we are, of course, using the FormsModule,

91
00:04:38.370 --> 00:04:39.720
but you did already learn

92
00:04:39.720 --> 00:04:43.530
that you can also merge modules into each other.

93
00:04:43.530 --> 00:04:45.510
So here, we have to get rid of imports

94
00:04:45.510 --> 00:04:47.103
and get rid of this import.

95
00:04:48.420 --> 00:04:51.930
And then back in the app.module.ts file,

96
00:04:51.930 --> 00:04:56.520
we have to add this FormsModule to this imports array

97
00:04:56.520 --> 00:05:00.660
of the app.module so that all the functionalities

98
00:05:00.660 --> 00:05:04.770
and features provided by the FormsModule are made available

99
00:05:04.770 --> 00:05:07.683
to all these Components that are declared here.

100
00:05:11.070 --> 00:05:12.480
And I'll just move

101
00:05:12.480 --> 00:05:15.750
that automatically added import up to the top

102
00:05:15.750 --> 00:05:19.560
so that we got all those Angular imports grouped together,

103
00:05:19.560 --> 00:05:21.840
which is not required technically,

104
00:05:21.840 --> 00:05:24.333
but makes this all a bit more readable.

105
00:05:26.070 --> 00:05:27.600
Well, and with that,

106
00:05:27.600 --> 00:05:30.510
finally, everything has been migrated,

107
00:05:30.510 --> 00:05:33.270
and we therefore are able to, again,

108
00:05:33.270 --> 00:05:37.200
work on this application and add new tasks and complete them

109
00:05:37.200 --> 00:05:41.310
and do all that without getting any errors.

110
00:05:41.310 --> 00:05:44.850
And that's therefore how we can migrate application

111
00:05:44.850 --> 00:05:46.140
to use modules.

112
00:05:46.140 --> 00:05:50.160
And most importantly, that's how modules work

113
00:05:50.160 --> 00:05:52.950
and what the idea behind them is

114
00:05:52.950 --> 00:05:56.220
because now we got that one single module file

115
00:05:56.220 --> 00:06:00.300
that declares all the Components that need to work together,

116
00:06:00.300 --> 00:06:03.660
and therefore, every component on its own is a bit leaner

117
00:06:03.660 --> 00:06:06.963
and all that information is stored in its central place.

118
00:06:08.010 --> 00:06:10.680
That, however, isn't necessarily an advantage

119
00:06:10.680 --> 00:06:14.010
because it is now an extra file we have to manage,

120
00:06:14.010 --> 00:06:17.340
and adding the Components that are used by a component

121
00:06:17.340 --> 00:06:20.640
to its imports array wasn't too difficult

122
00:06:20.640 --> 00:06:21.960
if we're being honest,

123
00:06:21.960 --> 00:06:24.960
especially since those imports could be added

124
00:06:24.960 --> 00:06:28.680
pretty much automatically as you saw before.

125
00:06:28.680 --> 00:06:32.310
That's why typically nowadays it's not recommended

126
00:06:32.310 --> 00:06:34.770
to use this module-based approach anymore,

127
00:06:34.770 --> 00:06:36.120
but you, of course,

128
00:06:36.120 --> 00:06:40.110
still can and you still will see it in many projects.

129
00:06:40.110 --> 00:06:42.240
And that's why I also wanted

130
00:06:42.240 --> 00:06:44.490
to get you started with it here.

131
00:06:44.490 --> 00:06:48.183
And we're not even done with this topic yet.

