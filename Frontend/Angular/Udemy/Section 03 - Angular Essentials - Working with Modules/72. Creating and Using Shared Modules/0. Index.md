# 72. Creating & Using Shared Modules

> Duração: `4min`

Sem Recursos

WEBVTT

1
00:00:00.750 --> 00:00:03.390
<v Instructor>So we built our first module</v>

2
00:00:03.390 --> 00:00:05.250
where we declare all the components

3
00:00:05.250 --> 00:00:07.350
that need to work together.

4
00:00:07.350 --> 00:00:12.210
Now, as you are building more complex Angular applications

5
00:00:12.210 --> 00:00:17.210
it is pretty common that if you are using Angular modules

6
00:00:18.060 --> 00:00:21.150
that you wanna break up your application

7
00:00:21.150 --> 00:00:26.100
into multiple modules, which are then merged together again.

8
00:00:26.100 --> 00:00:30.090
For example, we could put all those task related components

9
00:00:30.090 --> 00:00:32.880
into a separate module,

10
00:00:32.880 --> 00:00:36.330
but I'll actually start with the card component

11
00:00:36.330 --> 00:00:40.800
because that card component is in the end, shared across

12
00:00:40.800 --> 00:00:44.880
different features of our application, you could say.

13
00:00:44.880 --> 00:00:48.513
It's being used by the tasks and by the user list,

14
00:00:49.350 --> 00:00:51.360
and it would be quite common

15
00:00:51.360 --> 00:00:53.880
if you are working with modules

16
00:00:53.880 --> 00:00:58.880
to put such shared components into its own module.

17
00:00:59.790 --> 00:01:01.650
And therefore, what you could do here

18
00:01:01.650 --> 00:01:06.650
is create a shared module in that shared folder,

19
00:01:06.810 --> 00:01:10.383
so next to the card folder I have that shared module.

20
00:01:11.490 --> 00:01:13.950
And here we would then export another class

21
00:01:13.950 --> 00:01:16.353
called shared module,

22
00:01:17.550 --> 00:01:21.030
which is decorated with the Ng module decorator,

23
00:01:21.030 --> 00:01:24.030
just as the root app module was

24
00:01:24.030 --> 00:01:27.420
because this is also just another module.

25
00:01:27.420 --> 00:01:29.460
The only difference here now is

26
00:01:29.460 --> 00:01:32.790
that we won't have a bootstrap configuration here

27
00:01:32.790 --> 00:01:34.290
because we only have that

28
00:01:34.290 --> 00:01:37.590
in the root module of the application.

29
00:01:37.590 --> 00:01:38.670
So in the module

30
00:01:38.670 --> 00:01:41.283
that's being passed here to bootstrap module.

31
00:01:42.660 --> 00:01:47.070
All other modules don't have such a bootstrap array,

32
00:01:47.070 --> 00:01:49.473
but they will have a declarations array.

33
00:01:50.490 --> 00:01:52.620
And therefore, here in this shared module,

34
00:01:52.620 --> 00:01:55.290
we would add a declarations array.

35
00:01:55.290 --> 00:01:58.770
And then here to this list add the card component,

36
00:01:58.770 --> 00:02:01.833
and only that component, in our case,

37
00:02:03.030 --> 00:02:05.490
because that component then doesn't use

38
00:02:05.490 --> 00:02:08.460
any other components inside of its template.

39
00:02:08.460 --> 00:02:11.850
So we don't have to do anything else here.

40
00:02:11.850 --> 00:02:16.410
And the idea now would be to add all shared components

41
00:02:16.410 --> 00:02:20.100
that we eventually might have in our application,

42
00:02:20.100 --> 00:02:23.100
if we would add more we would all add them here,

43
00:02:23.100 --> 00:02:27.090
to this module, so that if we had more shared components

44
00:02:27.090 --> 00:02:30.543
than just a card component we would all add them here.

45
00:02:31.710 --> 00:02:35.190
And then we would add another key here

46
00:02:35.190 --> 00:02:37.260
to this configuration.

47
00:02:37.260 --> 00:02:41.550
The exports key, where we define all the modules

48
00:02:41.550 --> 00:02:43.710
that are not just needed internally

49
00:02:43.710 --> 00:02:46.410
for those modules that are declared here,

50
00:02:46.410 --> 00:02:49.440
but that should then also be made available

51
00:02:49.440 --> 00:02:51.180
to any other module

52
00:02:51.180 --> 00:02:54.303
that potentially imports the shared module.

53
00:02:55.350 --> 00:02:59.610
Because my plan now indeed is to go to the app module

54
00:02:59.610 --> 00:03:03.510
and remove the declaration of the card component here,

55
00:03:03.510 --> 00:03:05.613
and also remove this import here.

56
00:03:07.560 --> 00:03:12.560
And instead, I want to add my shared module here

57
00:03:12.570 --> 00:03:14.133
to the imports array.

58
00:03:16.200 --> 00:03:19.560
So we also must import the shared module from its file,

59
00:03:19.560 --> 00:03:22.860
and then add it here to the imports array.

60
00:03:22.860 --> 00:03:25.050
And that would now merge the components

61
00:03:25.050 --> 00:03:29.010
made available by that module into this declarations array

62
00:03:29.010 --> 00:03:31.743
behind the scenes, you could say, kind of.

63
00:03:32.940 --> 00:03:35.880
However, it will only merge any components

64
00:03:35.880 --> 00:03:38.970
that are specified in the exports array here.

65
00:03:38.970 --> 00:03:41.610
And therefore, if they want to make the card component

66
00:03:41.610 --> 00:03:44.370
available to all components that are declared

67
00:03:44.370 --> 00:03:48.060
in the app module, where I'm importing the shared module.

68
00:03:48.060 --> 00:03:50.700
Then I have to add this card component

69
00:03:50.700 --> 00:03:53.460
also to this exports array.

70
00:03:53.460 --> 00:03:56.940
So that I'm declaring it and I'm then telling Angular

71
00:03:56.940 --> 00:03:59.640
that it should be available to any other modules

72
00:03:59.640 --> 00:04:01.323
that use the shared module.

73
00:04:03.210 --> 00:04:04.920
And with that, the application again,

74
00:04:04.920 --> 00:04:07.890
would work as before without errors,

75
00:04:07.890 --> 00:04:10.983
but now we added another custom module.

