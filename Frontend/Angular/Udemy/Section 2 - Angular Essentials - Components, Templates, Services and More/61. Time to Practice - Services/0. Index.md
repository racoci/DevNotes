# 61. Time to Practice: Services

> Duração: `3min`

Sem Recursos

WEBVTT

1
00:00:00.660 --> 00:00:04.050
<v Maximilian>And now I got another exercise for you.</v>

2
00:00:04.050 --> 00:00:08.160
I want you to edit the code of this application

3
00:00:08.160 --> 00:00:10.320
such that clicking this complete button

4
00:00:10.320 --> 00:00:13.170
will again remove a task

5
00:00:13.170 --> 00:00:16.020
because at the moment that's not happening.

6
00:00:16.020 --> 00:00:18.960
And of course, you should implement that logic

7
00:00:18.960 --> 00:00:22.500
with help of the service that we built

8
00:00:22.500 --> 00:00:27.023
and without using the service here in the TasksComponent.

9
00:00:27.870 --> 00:00:30.660
I mean, you should continue using it for getting the tasks,

10
00:00:30.660 --> 00:00:34.530
but not for marking the task as completed.

11
00:00:34.530 --> 00:00:37.110
You should do that somewhere else.

12
00:00:37.110 --> 00:00:41.070
Again, here's a short pause for you to pause the video.

13
00:00:41.070 --> 00:00:43.623
Thereafter, we'll implement this together.

14
00:00:46.590 --> 00:00:50.220
So let's make sure tasks can be completed again.

15
00:00:50.220 --> 00:00:52.410
And for that, I'll actually start

16
00:00:52.410 --> 00:00:55.830
by removing this onCompleteTask method here

17
00:00:55.830 --> 00:00:57.513
in the TasksComponent.

18
00:00:58.410 --> 00:00:59.700
Because as I explained,

19
00:00:59.700 --> 00:01:02.580
I don't wanna use the service from in here,

20
00:01:02.580 --> 00:01:04.680
mainly for practice purposes,

21
00:01:04.680 --> 00:01:07.563
not because it would be super wrong to do that.

22
00:01:08.670 --> 00:01:12.660
But instead, I now wanna practice working with that service

23
00:01:12.660 --> 00:01:17.260
by going to the task component which manages a single task

24
00:01:18.270 --> 00:01:21.600
and it's now there where I wanna use that service

25
00:01:21.600 --> 00:01:22.890
to get rid of it.

26
00:01:22.890 --> 00:01:25.620
So it's in here where I also wanna inject

27
00:01:25.620 --> 00:01:28.200
the tasksService again,

28
00:01:28.200 --> 00:01:30.300
either with this inject function

29
00:01:30.300 --> 00:01:33.990
or by using the constructor, whatever you prefer.

30
00:01:33.990 --> 00:01:36.003
I'll go for the inject function,

31
00:01:37.200 --> 00:01:41.973
which must be imported from @angular/core like this.

32
00:01:44.040 --> 00:01:45.090
And then as you learned,

33
00:01:45.090 --> 00:01:49.050
it's the name of the class which should be injected,

34
00:01:49.050 --> 00:01:52.440
or for which you want to have an instance

35
00:01:52.440 --> 00:01:56.103
that should be injected, that's added to inject.

36
00:01:58.830 --> 00:02:01.260
With that in onCompleteTask,

37
00:02:01.260 --> 00:02:04.320
I no longer wanna emit some event,

38
00:02:04.320 --> 00:02:09.120
but instead it's now the tasksService that I wanna use

39
00:02:09.120 --> 00:02:11.373
where I wanna call removeTask.

40
00:02:12.300 --> 00:02:15.480
And that now expects to get the idea of the task

41
00:02:15.480 --> 00:02:17.700
as an input, and conveniently,

42
00:02:17.700 --> 00:02:20.610
we have the entire task object available here,

43
00:02:20.610 --> 00:02:24.270
so we can simply pass this.task.id

44
00:02:24.270 --> 00:02:26.133
as a value to the tasksService.

45
00:02:28.080 --> 00:02:31.530
And we can now get rid of this complete event

46
00:02:31.530 --> 00:02:34.200
and therefore actually of the entire imports

47
00:02:34.200 --> 00:02:36.570
of EventEmitter and Output

48
00:02:36.570 --> 00:02:41.570
since this component now no longer needs to emit any events.

49
00:02:42.300 --> 00:02:46.890
And it's now in the TasksComponent template file,

50
00:02:46.890 --> 00:02:50.880
where we should stop listening for the complete event

51
00:02:50.880 --> 00:02:53.040
because it won't be emitted anymore

52
00:02:53.040 --> 00:02:57.330
because this task will now do its job on its own

53
00:02:57.330 --> 00:02:59.463
with help of this service.

54
00:03:01.020 --> 00:03:02.610
Well, and that should be it.

55
00:03:02.610 --> 00:03:07.200
If you save that, you should be able to select users

56
00:03:07.200 --> 00:03:11.100
and also mark tasks as completed.

57
00:03:11.100 --> 00:03:14.733
And as you see, those are then removed again.

