# 56. Content Projection with ng-content

> Duração: `7min`

Sem Recursos

WEBVTT

1
00:00:00.540 --> 00:00:03.000
<v Maximilian>So at this point,</v>

2
00:00:03.000 --> 00:00:05.880
the application here is almost done,

3
00:00:05.880 --> 00:00:09.660
but there are some improvements I wanna make to the code

4
00:00:09.660 --> 00:00:12.300
to follow all the common best practices

5
00:00:12.300 --> 00:00:16.710
and to also explore some other crucial Angular features

6
00:00:16.710 --> 00:00:18.180
you should know about.

7
00:00:18.180 --> 00:00:21.930
And I'll actually start with such a feature.

8
00:00:21.930 --> 00:00:24.870
If we take a look at a user, we can see

9
00:00:24.870 --> 00:00:27.180
that the task I'm outputting here

10
00:00:27.180 --> 00:00:29.820
actually has no rounded corners

11
00:00:29.820 --> 00:00:32.730
and also no drop shadow behind it,

12
00:00:32.730 --> 00:00:35.550
which is not necessarily a huge problem,

13
00:00:35.550 --> 00:00:38.490
but which is a look I'd like to have.

14
00:00:38.490 --> 00:00:40.860
Now, of course, we could simply add it

15
00:00:40.860 --> 00:00:45.123
to the CSS styling here of that task,

16
00:00:45.990 --> 00:00:48.090
but actually here in this application,

17
00:00:48.090 --> 00:00:51.510
I already got that exact style that I'd like

18
00:00:51.510 --> 00:00:54.360
to replicate here in another component,

19
00:00:54.360 --> 00:00:56.520
in the user.component.

20
00:00:56.520 --> 00:01:01.110
There it's on this div, which wraps this button

21
00:01:01.110 --> 00:01:04.950
where I have this border radius, this drop shadow,

22
00:01:04.950 --> 00:01:07.620
and I make sure that the content inside of it

23
00:01:07.620 --> 00:01:09.543
doesn't break out of this box.

24
00:01:10.860 --> 00:01:13.290
Now, of course, we could simply set this up

25
00:01:13.290 --> 00:01:17.250
as a general globally available CSS class

26
00:01:17.250 --> 00:01:18.660
and start assigning that

27
00:01:18.660 --> 00:01:22.530
to our elements in the different component templates.

28
00:01:22.530 --> 00:01:26.070
But there also is an alternative using an Angular feature,

29
00:01:26.070 --> 00:01:28.680
which you will need from time to time.

30
00:01:28.680 --> 00:01:33.630
And therefore here, instead of just solving this with CSS,

31
00:01:33.630 --> 00:01:38.490
I'll create a new component, again with the Angular CLI,

32
00:01:38.490 --> 00:01:41.970
and I'll store this component in a shared folder,

33
00:01:41.970 --> 00:01:45.060
which doesn't exist yet in my app folder.

34
00:01:45.060 --> 00:01:47.550
And I'll name the component card.

35
00:01:47.550 --> 00:01:49.350
Now, I chose shared here

36
00:01:49.350 --> 00:01:52.770
because this is now not a component that belongs

37
00:01:52.770 --> 00:01:57.120
to a specific feature area of this application.

38
00:01:57.120 --> 00:02:00.240
It doesn't belong to the users or the tasks.

39
00:02:00.240 --> 00:02:02.610
Instead, it's a UI component

40
00:02:02.610 --> 00:02:06.210
that could be used anywhere in the application.

41
00:02:06.210 --> 00:02:08.880
So we could also name the folder ui,

42
00:02:08.880 --> 00:02:10.473
but I will go for shared.

43
00:02:11.430 --> 00:02:15.960
I don't need tests, so I will add --skip-tests.

44
00:02:15.960 --> 00:02:20.190
And with that, a new component file and folder is created,

45
00:02:20.190 --> 00:02:22.023
that card component here.

46
00:02:23.160 --> 00:02:28.160
Now, in this card component template, I wanna have a div,

47
00:02:28.290 --> 00:02:31.773
and then we'll soon add something inside of that div.

48
00:02:32.820 --> 00:02:34.710
And I wanna style that div

49
00:02:34.710 --> 00:02:38.220
with those styles I showed you on the user.component.

50
00:02:38.220 --> 00:02:39.810
So these styles here,

51
00:02:39.810 --> 00:02:43.593
I'll cut them from the user.component.css file,

52
00:02:44.670 --> 00:02:48.873
and instead add them here in the card.component.css file.

53
00:02:50.760 --> 00:02:54.933
Now with that, this div here will receive these styles.

54
00:02:56.280 --> 00:03:00.330
And now my idea is to use this card component,

55
00:03:00.330 --> 00:03:04.650
this custom card component here as a wrapper

56
00:03:04.650 --> 00:03:09.240
around my user button here, so instead of that div.

57
00:03:09.240 --> 00:03:12.060
And I could then also use it as a wrapper

58
00:03:12.060 --> 00:03:15.960
in the task.component around that article

59
00:03:15.960 --> 00:03:18.210
so that I get the same structure

60
00:03:18.210 --> 00:03:20.670
and styling in all the places

61
00:03:20.670 --> 00:03:23.613
where I use this component as a wrapper.

62
00:03:24.870 --> 00:03:26.460
So let's give this a try.

63
00:03:26.460 --> 00:03:28.170
Let's go to the user component

64
00:03:28.170 --> 00:03:32.110
and replace this div with app-card

65
00:03:33.060 --> 00:03:36.150
and the closing tag goes down there.

66
00:03:36.150 --> 00:03:38.820
So now we don't have a self-closing component,

67
00:03:38.820 --> 00:03:42.513
but instead a component with content between its tags.

68
00:03:44.130 --> 00:03:46.950
Now as always, we must add it to the imports

69
00:03:46.950 --> 00:03:48.840
in order to be available.

70
00:03:48.840 --> 00:03:50.430
So I'll quickly do that

71
00:03:50.430 --> 00:03:53.943
so that the user.component knows about that CardComponent.

72
00:03:55.530 --> 00:03:59.700
And now if we save everything, huh,

73
00:03:59.700 --> 00:04:01.380
the users are gone

74
00:04:01.380 --> 00:04:04.260
and I instead see those dots,

75
00:04:04.260 --> 00:04:07.050
which I set up as a placeholder

76
00:04:07.050 --> 00:04:10.770
in that newly added card.component template,

77
00:04:10.770 --> 00:04:12.183
these dots here.

78
00:04:13.639 --> 00:04:17.310
And this is a super important behavior to understand

79
00:04:17.310 --> 00:04:19.200
and be aware of.

80
00:04:19.200 --> 00:04:23.040
When you use an Angular component somewhere

81
00:04:23.040 --> 00:04:26.130
in your application, like here as a wrapper

82
00:04:26.130 --> 00:04:30.780
around some other markup, it will by default not keep

83
00:04:30.780 --> 00:04:33.540
that markup around which you wrap it.

84
00:04:33.540 --> 00:04:37.110
Instead, it will replace this wrapped markup

85
00:04:37.110 --> 00:04:40.050
with its own template markup.

86
00:04:40.050 --> 00:04:41.580
So with the markup defined

87
00:04:41.580 --> 00:04:44.130
in the card.component template here.

88
00:04:44.130 --> 00:04:47.310
Now, it's not uncommon though that you might want

89
00:04:47.310 --> 00:04:51.540
to combine the markup of this card component in this case

90
00:04:51.540 --> 00:04:54.090
and the markup of the wrapped component.

91
00:04:54.090 --> 00:04:55.170
And this is done

92
00:04:55.170 --> 00:04:58.950
by adding another special element in the template

93
00:04:58.950 --> 00:05:01.080
of the wrapping component.

94
00:05:01.080 --> 00:05:03.480
So of the card component here,

95
00:05:03.480 --> 00:05:06.993
and that would be the ng-content element.

96
00:05:08.070 --> 00:05:11.520
This is an element that's not built into the browser,

97
00:05:11.520 --> 00:05:15.090
but instead, as you can also tell by this prefix,

98
00:05:15.090 --> 00:05:18.060
ng, is coming from Angular

99
00:05:18.060 --> 00:05:21.000
and it essentially acts as a placeholder

100
00:05:21.000 --> 00:05:22.980
for the wrapped markup.

101
00:05:22.980 --> 00:05:25.950
So for the markup that's wrapped by this component

102
00:05:25.950 --> 00:05:28.050
that has this template.

103
00:05:28.050 --> 00:05:32.250
So ng-content will be replaced with the markup

104
00:05:32.250 --> 00:05:34.350
that's being wrapped by the card component,

105
00:05:34.350 --> 00:05:36.240
so by this markup.

106
00:05:36.240 --> 00:05:38.250
And that's how you can then merge

107
00:05:38.250 --> 00:05:40.560
these different markups together

108
00:05:40.560 --> 00:05:43.410
because, of course, you can use ng-content

109
00:05:43.410 --> 00:05:45.900
wherever you wanna use it here.

110
00:05:45.900 --> 00:05:48.690
And you could have a way more complex structure here

111
00:05:48.690 --> 00:05:51.270
with more HTML elements.

112
00:05:51.270 --> 00:05:52.950
It just happens to be the case here

113
00:05:52.950 --> 00:05:54.633
that we have a pretty simple one.

114
00:05:55.920 --> 00:05:58.860
But with that added, if you now save this,

115
00:05:58.860 --> 00:06:02.970
the users are back and they got the same style as before,

116
00:06:02.970 --> 00:06:04.200
which is now coming

117
00:06:04.200 --> 00:06:07.860
from that wrapping card.component though.

118
00:06:07.860 --> 00:06:09.600
And ng-content, therefore,

119
00:06:09.600 --> 00:06:12.750
is another crucial Angular feature,

120
00:06:12.750 --> 00:06:15.060
which can help you build more powerful

121
00:06:15.060 --> 00:06:17.190
and flexible components.

122
00:06:17.190 --> 00:06:20.490
And we can therefore now also use this card.component here

123
00:06:20.490 --> 00:06:23.460
as a wrapper in the task.component

124
00:06:23.460 --> 00:06:28.413
and wrap this article with app-card like this.

125
00:06:29.310 --> 00:06:32.280
And of course, then import this card.component

126
00:06:32.280 --> 00:06:33.930
into the task.component

127
00:06:33.930 --> 00:06:36.243
so that it is available there as well.

128
00:06:37.620 --> 00:06:41.880
And with that, you'll see that now these tasks also have

129
00:06:41.880 --> 00:06:43.890
that look with the rounded corners

130
00:06:43.890 --> 00:06:46.083
and this slight drop shadow.

