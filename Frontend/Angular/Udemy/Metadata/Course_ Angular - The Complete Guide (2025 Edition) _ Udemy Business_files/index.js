import{a as Ze}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-SPD56V72.js";import{a as Me,b as Bt,c as rr,d as or,e as dr,f as ur,g as pr,h as gr,i as fr,k as hr,l as Ko,m as br,o as Rt,p as yr,q as wr}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-6MVFQ46L.js";import{f as Ve}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-OHVMU6KN.js";import"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-LWHKWXRL.js";import{C as Sr,a as ge,b as Zn,c as Xn,d as Pt,e as Jn,f as Qn,g as er,j as tr,k as nr,l as Ge,m as mr,z as vr}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-OED3LABI.js";import{a as $o,d as lr,e as ve}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-TKWKIWFJ.js";import{a as nn,b as rn,c as on,d as ir,e as sr,g as ar,h as cr,l as we}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-OQVDI22K.js";import{a as fe}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-SECIVRRH.js";import"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-GRAOIWFA.js";import{a as kn,b as In,d as _n,f as he,g as Tn,h as be}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-CCSWO77C.js";import{$a as Kn,A as wt,Ab as Yn,B as mn,Bb as je,C as vt,Ca as Bn,D as me,Da as Z,E as St,F as Fe,G as fn,H as xt,Ha as It,I as hn,Ia as _t,J as bn,Ja as ye,K as yn,Ka as We,L as wn,M as Ie,Ma as X,Mb as Ye,N as vn,Na as Rn,Nb as H,O as Sn,Oa as Dn,P as xn,Pa as On,Qa as He,Ra as qe,S as En,T as Cn,Ta as Ln,U as _e,X as An,Xa as Un,Y as $,Ya as zn,Za as $n,a as Uo,ab as Fn,b as zo,bb as Wn,c as O,cb as Te,d as L,da as Et,db as Tt,e as m,f as F,g as ae,h as P,i as Y,ia as Ct,ib as Hn,j as tn,ja as Mn,jb as ce,k as v,kb as Mt,l as sn,la as Nn,m as q,ma as Pn,n as an,nb as qn,o as z,p as Ae,q as A,r as cn,ra as kt,s as dn,sb as oe,t as ln,ta as At,u as un,ua as ne,ub as jn,v as pn,va as re,w as gn,wb as Gn,x as T,xb as Nt,y as yt,yb as Vn,z as te}from"./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-chunk-QRKWZYC2.js";var Co=Uo((Be,lt)=>{m();(function(t,e){"use strict";var n="0.7.33",r="",o="?",i="function",d="undefined",l="object",g="string",f="major",s="model",u="name",c="type",a="vendor",p="version",h="architecture",w="console",b="mobile",y="tablet",M="smarttv",x="wearable",K="embedded",I=350,R="Amazon",B="Apple",V="ASUS",xe="BlackBerry",ee="Browser",Re="Chrome",Ro="Edge",De="Firefox",Oe="Google",jt="Huawei",ut="LG",pt="Microsoft",Gt="Motorola",Le="Opera",gt="Samsung",Vt="Sharp",Ue="Sony",mt="Xiaomi",ft="Zebra",Yt="Facebook",Do=function(E,_){var C={};for(var D in E)_[D]&&_[D].length%2===0?C[D]=_[D].concat(E[D]):C[D]=E[D];return C},ze=function(E){for(var _={},C=0;C<E.length;C++)_[E[C].toUpperCase()]=E[C];return _},Zt=function(E,_){return typeof E===g?Ee(_).indexOf(Ee(E))!==-1:!1},Ee=function(E){return E.toLowerCase()},Oo=function(E){return typeof E===g?E.replace(/[^\d\.]/g,r).split(".")[0]:e},ht=function(E,_){if(typeof E===g)return E=E.replace(/^\s\s*/,r),typeof _===d?E:E.substring(0,I)},Ce=function(E,_){for(var C=0,D,k,Ke,N,ke,j;C<_.length&&!ke;){var Qt=_[C],en=_[C+1];for(D=k=0;D<Qt.length&&!ke;)if(ke=Qt[D++].exec(E),ke)for(Ke=0;Ke<en.length;Ke++)j=ke[++k],N=en[Ke],typeof N===l&&N.length>0?N.length===2?typeof N[1]==i?this[N[0]]=N[1].call(this,j):this[N[0]]=N[1]:N.length===3?typeof N[1]===i&&!(N[1].exec&&N[1].test)?this[N[0]]=j?N[1].call(this,j,N[2]):e:this[N[0]]=j?j.replace(N[1],N[2]):e:N.length===4&&(this[N[0]]=j?N[3].call(this,j.replace(N[1],N[2])):e):this[N]=j||e;C+=2}},bt=function(E,_){for(var C in _)if(typeof _[C]===l&&_[C].length>0){for(var D=0;D<_[C].length;D++)if(Zt(_[C][D],E))return C===o?e:C}else if(Zt(_[C],E))return C===o?e:C;return E},Lo={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Xt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Jt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,Le+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[u,Le]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UC"+ee]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+ee],p],[/\bfocus\/([\w\.]+)/i],[p,[u,De+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,Le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,Le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI "+ee]],[/fxios\/([-\w\.]+)/i],[p,[u,De]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+ee]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+ee],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,Yt],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,Re+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,Re+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android "+ee]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,bt,Lo]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,De+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,p],[/(cobalt)\/([\w\.]+)/i],[u,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,Ee]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,r,Ee]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,Ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[a,gt],[c,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[a,gt],[c,b]],[/((ipod|iphone)\d+,\d+)/i],[s,[a,B],[c,b]],[/(ipad\d+,\d+)/i],[s,[a,B],[c,y]],[/\((ip(?:hone|od)[\w ]*);/i],[s,[a,B],[c,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[a,B],[c,y]],[/(macintosh);/i],[s,[a,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[a,jt],[c,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[a,jt],[c,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[a,mt],[c,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[a,mt],[c,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[a,"OPPO"],[c,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[a,"Vivo"],[c,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[a,"Realme"],[c,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[a,Gt],[c,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[a,Gt],[c,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[a,ut],[c,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[a,ut],[c,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[a,"Lenovo"],[c,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[a,"Nokia"],[c,b]],[/(pixel c)\b/i],[s,[a,Oe],[c,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[a,Oe],[c,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[a,Ue],[c,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[a,Ue],[c,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[a,"OnePlus"],[c,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[a,R],[c,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[a,R],[c,b]],[/(playbook);[-\w\),; ]+(rim)/i],[s,a,[c,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[a,xe],[c,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[a,V],[c,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[a,V],[c,b]],[/(nexus 9)/i],[s,[a,"HTC"],[c,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[a,[s,/_/g," "],[c,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[a,"Acer"],[c,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[a,"Meizu"],[c,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[a,Vt],[c,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[a,s,[c,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[a,s,[c,y]],[/(surface duo)/i],[s,[a,pt],[c,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[a,"Fairphone"],[c,b]],[/(u304aa)/i],[s,[a,"AT&T"],[c,b]],[/\bsie-(\w*)/i],[s,[a,"Siemens"],[c,b]],[/\b(rct\w+) b/i],[s,[a,"RCA"],[c,y]],[/\b(venue[\d ]{2,7}) b/i],[s,[a,"Dell"],[c,y]],[/\b(q(?:mv|ta)\w+) b/i],[s,[a,"Verizon"],[c,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[a,"Barnes & Noble"],[c,y]],[/\b(tm\d{3}\w+) b/i],[s,[a,"NuVision"],[c,y]],[/\b(k88) b/i],[s,[a,"ZTE"],[c,y]],[/\b(nx\d{3}j) b/i],[s,[a,"ZTE"],[c,b]],[/\b(gen\d{3}) b.+49h/i],[s,[a,"Swiss"],[c,b]],[/\b(zur\d{3}) b/i],[s,[a,"Swiss"],[c,y]],[/\b((zeki)?tb.*\b) b/i],[s,[a,"Zeki"],[c,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[a,"Dragon Touch"],s,[c,y]],[/\b(ns-?\w{0,9}) b/i],[s,[a,"Insignia"],[c,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[a,"NextBook"],[c,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[a,"Voice"],s,[c,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[a,"LvTel"],s,[c,b]],[/\b(ph-1) /i],[s,[a,"Essential"],[c,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[a,"Envizen"],[c,y]],[/\b(trio[-\w\. ]+) b/i],[s,[a,"MachSpeed"],[c,y]],[/\btu_(1491) b/i],[s,[a,"Rotor"],[c,y]],[/(shield[\w ]+) b/i],[s,[a,"Nvidia"],[c,y]],[/(sprint) (\w+)/i],[a,s,[c,b]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[a,pt],[c,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[a,ft],[c,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[a,ft],[c,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[a,s,[c,w]],[/droid.+; (shield) bui/i],[s,[a,"Nvidia"],[c,w]],[/(playstation [345portablevi]+)/i],[s,[a,Ue],[c,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[a,pt],[c,w]],[/smart-tv.+(samsung)/i],[a,[c,M]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[a,gt],[c,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[a,ut],[c,M]],[/(apple) ?tv/i],[a,[s,B+" TV"],[c,M]],[/crkey/i],[[s,Re+"cast"],[a,Oe],[c,M]],[/droid.+aft(\w)( bui|\))/i],[s,[a,R],[c,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[a,Vt],[c,M]],[/(bravia[\w ]+)( bui|\))/i],[s,[a,Ue],[c,M]],[/(mitv-\w{5}) bui/i],[s,[a,mt],[c,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[a,ht],[s,ht],[c,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,M]],[/((pebble))app/i],[a,s,[c,x]],[/droid.+; (glass) \d/i],[s,[a,Oe],[c,x]],[/droid.+; (wt63?0{2,3})\)/i],[s,[a,ft],[c,x]],[/(quest( 2)?)/i],[s,[a,Yt],[c,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[a,[c,K]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[c,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[c,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,b]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[a,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,Ro+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[p,bt,Xt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[p,bt,Xt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,xe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,De+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[u,Re+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,p]]},W=function(E,_){if(typeof E===l&&(_=E,E=e),!(this instanceof W))return new W(E,_).getResult();var C=E||(typeof t!==d&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:r),D=_?Do(Jt,_):Jt;return this.getBrowser=function(){var k={};return k[u]=e,k[p]=e,Ce.call(k,C,D.browser),k.major=Oo(k.version),k},this.getCPU=function(){var k={};return k[h]=e,Ce.call(k,C,D.cpu),k},this.getDevice=function(){var k={};return k[a]=e,k[s]=e,k[c]=e,Ce.call(k,C,D.device),k},this.getEngine=function(){var k={};return k[u]=e,k[p]=e,Ce.call(k,C,D.engine),k},this.getOS=function(){var k={};return k[u]=e,k[p]=e,Ce.call(k,C,D.os),k},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return C},this.setUA=function(k){return C=typeof k===g&&k.length>I?ht(k,I):k,this},this.setUA(C),this};W.VERSION=n,W.BROWSER=ze([u,p,f]),W.CPU=ze([h]),W.DEVICE=ze([s,a,c,w,b,M,y,x,K]),W.ENGINE=W.OS=ze([u,p]),typeof Be!==d?(typeof lt!==d&&lt.exports&&(Be=lt.exports=W),Be.UAParser=W):i==="object"&&null.amd?null(function(){return W}):typeof t!==d&&(t.UAParser=W);var pe=typeof t!==d&&(t.jQuery||t.Zepto);if(pe&&!pe.ua){var $e=new W;pe.ua=$e.getResult(),pe.ua.get=function(){return $e.getUA()},pe.ua.set=function(E){$e.setUA(E);var _=$e.getResult();for(var C in _)pe.ua[C]=_[C]}}})(typeof window=="object"?window:Be)});m();m();(function(){try{var t=typeof window<"u"||typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="3d09e0c4-99f2-4017-ae32-af2ba03d9c65",t._sentryDebugIdIdentifier="sentry-dbid-3d09e0c4-99f2-4017-ae32-af2ba03d9c65")}catch(n){}})();m();var No=O(F()),Po=O($o());m();var tt=O(F());m();var S=O(F());m();if(typeof document<"u"){let t=document.createElement("style"),e=window.engagement,n=e&&e._configuration&&e._configuration.nonce;if(n)t.setAttribute("nonce",n);else{let r=document.querySelector("[nonce]");if(r){let o=r.nonce||r.getAttribute("nonce");o&&t.setAttribute("nonce",o)}}t.appendChild(document.createTextNode(`#engagement-wrapper *,
#engagement-wrapper *:before,
#engagement-wrapper *:after,
.engagement-nudge-modal *,
.engagement-nudge-modal *:before,
.engagement-nudge-modal *:after,
.engagement-nudge-modal-mock *,
.engagement-nudge-modal-mock *:before,
.engagement-nudge-modal-mock *:after {
  box-sizing: border-box;
}

.engagement-modal > .rc-dialog > .rc-dialog-content {
  background-color: transparent;
}

.engagement-tooltip {
  z-index: 2147483647 !important; /*make the tooltip the highest possible z index*/
}

/*** Hack: Hide this because it's less flexible (classnames can't be changes)
    Instead we only show its children, by translating its children ***/
.engagement-modal > .rc-dialog > .rc-dialog-content > .rc-dialog-header {
  max-height: 0px !important;
  padding: 0px !important;
}

.engagement-modal > .rc-dialog {
  left: 0px;
  transition: left 0.3s;
}

.engagement-modal > .rc-dialog > .rc-dialog-content > .rc-dialog-body {
  position: relative !important;
}

/* TestMode inline engagement */
.engagement-modal-inline.rc-dialog-wrap {
  position: relative;
  height: 100%;
}

#engagement-toast-container {
  inset: 16px;
  @media (max-width: 400px) {
    inset: 8px;
  }
}

#engagement-toast-responsive-inner-div {
  @media (max-width: 400px) {
    width: 100%;
  }
}


#engagement-container > div {
  height: 100%;
}

#engagement-home > .rc-dialog-root {
  height: 100%;
}

#engagement-wrapper .rc-header-guidance {
  background: rgba(174, 177, 221, 1) !important;
  filter: brightness(135%);
  border-radius: 2px 2px 0px 0px !important;
  border-bottom: 0px !important;
  padding: 8px 30px 2px 30px !important;
  margin: 0px 10px 0px 10px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 3px 10px !important;
  font-weight: 400;
  text-align: center;
}

@keyframes fontbulger {
  0% {
    font-size: 10px;
  }
  30% {
    font-size: 15px;
  }
  100% {
    font-size: 12px;
  }
}

@keyframes shimmer {
  0% {
    background-position: top left;
  }
  100% {
    background-position: top right;
  }
}

.engagement-category-collapse {
  transform: scale(1, -1);
  transition: 0.3s ease-in;
  cursor: pointer;
}

.engagement-category-expand {
  transition: 0.3s ease-in;
  cursor: pointer;
}

/* Nudges - modal */

.engagement-nudge-modal {
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2147483644 !important;
}

.engagement-nudge-modal-mock {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 0;
  transition: margin-right cubic-bezier(0.78, 0.14, 0.15, 0.86) 0.3s;
  z-index: 2147483644 !important;
}

/* Nudges - media */

.engagement-help-doc-title::before {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(180deg, transparent 66.67%, gray 93.08%);
  content: '';
}

/* Recorder */
#engagement-recorder-mask {
  background: transparent;
}
`)),document.head.appendChild(t)}m();if(typeof document<"u"){let t=document.createElement("style"),e=window.engagement,n=e&&e._configuration&&e._configuration.nonce;if(n)t.setAttribute("nonce",n);else{let r=document.querySelector("[nonce]");if(r){let o=r.nonce||r.getAttribute("nonce");o&&t.setAttribute("nonce",o)}}t.appendChild(document.createTextNode(`/*** Guidance banner styling and animation ***/
@keyframes example {
  from {
    transform: translateY(0px);
  }
  to {
    transform: translateY(-30px);
  }
}

.rc-header-guidance {
  animation: example 0.5s;
  animation-fill-mode: forwards;
}

/*** engagement entry animation ***/
/*** We can't do exit animation because rc-dialog makes display: none ***/
@keyframes onEntry {
  0% {
    opacity: 0.3;
  }
  100% {
    opacity: 1;
  }
}

.engagement-opened {
  animation: onEntry 0.1s;
  animation-fill-mode: forwards;
}

@keyframes onSelect {
  0% {
    transform: translate3d(0px, 0px, 0px);
  }
  50% {
    transform: translate3d(0px, 0px, -0.5px);
  }
  100% {
    transform: translate3d(0px, 0px, 0px);
  }
}

.engagement-selected {
  animation: onSelect 0.4s;
}

@keyframes ScaleEntry {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.engagement-scale-entry-animation {
  animation: ScaleEntry 0.3s;
  animation-fill-mode: forwards;
}

@keyframes onEntry {
  0% {
    opacity: 0.3;
  }
  100% {
    opacity: 1;
  }
}

.engagement-shortcut-tooltip {
  opacity: 0;
  animation: tagEntry 0.2s;
  animation-delay: 0.5s;
  animation-fill-mode: forwards;
}

@keyframes tagExit {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}

.engagement-shortcut-tooltip-remove {
  animation: tagExit 0.2s;
  animation-fill-mode: forwards;
}

.engagement-shortcut-tooltip,
.engagement-shortcut-tooltip-remove {
  z-index: 99999999;
  position: absolute;
  padding: 8px 12px;
  background-color: rgba(0, 0, 0, 0.8);
  font-family: proxima-nova, sans-serif;
  color: rgba(255, 255, 255, 0.6);
  border-radius: 4px;
  font-size: 13px;
}

.engagement-shortcut-tooltip-tag {
  margin-left: 10px;
  padding: 2px 5px;
  border-radius: 2px;
  background-color: grey;
}

#engagement-launcher {
  animation: 0.25s ease-out scaleIn;
}

@keyframes scaleIn {
  0% {
    transform: scale(0.06);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes growFromBottom {
  0% {
    transform: scale(1, 0.3);
  }

  100% {
    transform: scale(1, 1);
  }
}
`)),document.head.appendChild(t)}m();var Dt=class{constructor(){L(this,"organization")}getOrganization(){return this.organization}setOrganization(e){this.organization=e}},xr=new Dt;m();var Fo=function(e,n,r){for(var o=0,i=0;o=i,i=Fe(),o===38&&i===12&&(n[r]=1),!xt(i);)St();return fn(e,vt)},Wo=function(e,n){var r=-1,o=44;do switch(xt(o)){case 0:o===38&&Fe()===12&&(n[r]=1),e[r]+=Fo(vt-1,n,r);break;case 2:e[r]+=yn(o);break;case 4:if(o===44){e[++r]=Fe()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=un(o)}while(o=St());return e},Ho=function(e,n){return bn(Wo(hn(e),n))},Er=new WeakMap,qo=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Er.get(r))&&!o){Er.set(e,!0);for(var i=[],d=Ho(n,i),l=r.props,g=0,f=0;g<d.length;g++)for(var s=0;s<l.length;s++,f++)e.props[f]=i[g]?d[g].replace(/&\f/g,l[s]):l[s]+" "+d[g]}}},jo=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Cr(t,e){switch(pn(t,e)){case 5103:return A+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return A+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return A+t+Ae+t+z+t+t;case 6828:case 4268:return A+t+z+t+t;case 6165:return A+t+z+"flex-"+t+t;case 5187:return A+t+T(t,/(\w+).+(:[^]+)/,A+"box-$1$2"+z+"flex-$1$2")+t;case 5443:return A+t+z+"flex-item-"+T(t,/flex-|-self/,"")+t;case 4675:return A+t+z+"flex-line-pack"+T(t,/align-content|flex-|-self/,"")+t;case 5548:return A+t+z+T(t,"shrink","negative")+t;case 5292:return A+t+z+T(t,"basis","preferred-size")+t;case 6060:return A+"box-"+T(t,"-grow","")+A+t+z+T(t,"grow","positive")+t;case 4554:return A+T(t,/([^-])(transform)/g,"$1"+A+"$2")+t;case 6187:return T(T(T(t,/(zoom-|grab)/,A+"$1"),/(image-set)/,A+"$1"),t,"")+t;case 5495:case 3959:return T(t,/(image-set\([^]*)/,A+"$1$`$1");case 4968:return T(T(t,/(.+:)(flex-)?(.*)/,A+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+A+t+t;case 4095:case 3583:case 4068:case 2532:return T(t,/(.+)-inline(.+)/,A+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wt(t)-1-e>6)switch(te(t,e+1)){case 109:if(te(t,e+4)!==45)break;case 102:return T(t,/(.+:)(.+)-([^]+)/,"$1"+A+"$2-$3$1"+Ae+(te(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yt(t,"stretch")?Cr(T(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(te(t,e+1)!==115)break;case 6444:switch(te(t,wt(t)-3-(~yt(t,"!important")&&10))){case 107:return T(t,":",":"+A)+t;case 101:return T(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+A+(te(t,14)===45?"inline-":"")+"box$3$1"+A+"$2$3$1"+z+"$2box$3")+t}break;case 5936:switch(te(t,e+11)){case 114:return A+t+z+T(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return A+t+z+T(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return A+t+z+T(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return A+t+z+t+t}return t}var Go=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case dn:e.return=Cr(e.value,e.length);break;case ln:return Ie([me(e,{value:T(e.value,"@","@"+A)})],o);case cn:if(e.length)return mn(e.props,function(i){switch(gn(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ie([me(e,{props:[T(i,/:(read-\w+)/,":"+Ae+"$1")]})],o);case"::placeholder":return Ie([me(e,{props:[T(i,/:(plac\w+)/,":"+A+"input-$1")]}),me(e,{props:[T(i,/:(plac\w+)/,":"+Ae+"$1")]}),me(e,{props:[T(i,/:(plac\w+)/,z+"input-$1")]})],o)}return""})}},Vo=[Go],kr=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(h){var w=h.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var o=e.stylisPlugins||Vo,i={},d,l=[];d=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(h){for(var w=h.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)i[w[b]]=!0;l.push(h)});var g,f=[qo,jo];{var s,u=[vn,xn(function(h){s.insert(h)})],c=Sn(f.concat(o,u)),a=function(w){return Ie(wn(w),c)};g=function(w,b,y,M){s=y,a(w?w+"{"+b.styles+"}":b.styles),M&&(p.inserted[b.name]=!0)}}var p={key:n,sheet:new an({key:n,container:d,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:g};return p.sheet.hydrate(l),p};m();var Se=O(F()),Yo=(t=document.body)=>{var o,i;let e=(0,Se.useRef)(null),n=(0,Se.useRef)(null),r=(0,Se.useRef)(null);return(0,Se.useEffect)(()=>()=>{var d,l;(d=n.current)==null||d.disconnect(),(l=e.current)==null||l.remove()},[]),(e.current===null||t!==r.current)&&((o=n.current)==null||o.disconnect(),(i=e.current)==null||i.remove(),r.current=t,e.current=document.createElement("div"),e.current.setAttribute("data-engagement-toplevel-styles",""),e.current.setAttribute("hidden",""),t.prepend(e.current),n.current=new MutationObserver(()=>{e.current&&e.current.querySelectorAll("style[data-emotion]:not([data-s])").forEach(d=>{d.setAttribute("data-s","")})}),n.current.observe(e.current,{childList:!0,subtree:!0})),e.current},Ar=Yo;m();var Ne=O(F());var Xo=({nudgeActor:t})=>{var f;let e=$(),n=Ve(t,({context:s})=>s.nudge),r=Ve(t,({context:s})=>s.stepIndex),{animStyles:o}=ve(),i=X(n,r);if(!i||!(qe(i)&&i.formFactor.isShowingMask))return null;let{targetElement:d}=dr(e,{step:i}),l=(f=d==null?void 0:d.getBoundingClientRect())!=null?f:new DOMRect,g=d?getComputedStyle(d).borderRadius:"0px";return l.width===0||l.height===0?null:Ne.default.createElement("div",{style:{position:"absolute",top:"0",left:"0",...fe.getZIndexStyles(i,"mask")}},Ne.default.createElement("div",{"data-testid":"engagement-nudge-mask",style:{width:`${document.documentElement.scrollWidth}px`,height:`${document.documentElement.scrollHeight}px`,clipPath:`polygon(0% 0%, 0% 100%,
                ${l.left+window.scrollX}px 100%,
                ${l.left+window.scrollX}px ${l.top+window.scrollY}px,
                ${l.left+window.scrollX+l.width}px ${l.top+window.scrollY}px,
                ${l.left+window.scrollX+l.width}px ${l.top+window.scrollY+l.height}px,
                0% ${l.top+window.scrollY+l.height}px,
                0% 100%, 100% 100%, 100% 0%)`,position:"absolute"}}),Ne.default.createElement("div",{"data-testid":"engagement-nudge-mask-inner",style:{pointerEvents:"none",position:"absolute",inset:`${l.top+window.scrollY}px ${l.left+window.scrollX}px`,width:`${l.width}px`,height:`${l.height}px`,padding:"4px",borderRadius:`${g}`,boxShadow:`0 0 0 ${Math.max(document.documentElement.scrollHeight,document.documentElement.scrollWidth)}px rgba(0, 0, 0, 0.1)`,overflow:"hidden",opacity:o.opacity,transitionProperty:"opacity",transitionDuration:o.transitionDuration,transitionTimingFunction:o.transitionTimingFunction}}))},Ir=({nudgesManager:t})=>{let e=$(),n=Ve(t,o=>o.context.activeNudge);if(!n)return null;let r=re(e,n==null?void 0:n.variantId);return r?Ne.default.createElement(Xo,{nudgeActor:r}):null};m();var _r=t=>{if(t.themeOverride&&t.themeOverride.theme&&t.themeOverride.mode)return t.themeOverride;let e=t.themeMode==="auto"?t.services.getDefaultUIMode():t.themeMode;return{theme:_n(t.themes),mode:e}};m();var G=O(F());m();var Xe=O(F()),Jo=()=>{let t=()=>({width:window.innerWidth,height:window.innerHeight}),[e,n]=Xe.useState(t);return Xe.useEffect(()=>{let r=()=>{n(t())};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e},Tr=Jo;m();var de=O(F());m();var Ot=O(F());m();var Mr=_e({display:"flex",flexDirection:"column",alignItems:"flex-start",background:"var(--background-primary)",pointerEvents:"all",a:{color:"var(--content-link)",textDecoration:"none","&:hover":{color:"var(--content-link-hover)",textDecoration:"underline"}}}),Qo=_e([Mr,{width:"var(--modal-width) !important",borderRadius:"var(--layout-radius-card)",border:"1px solid var(--border-primary)",boxShadow:"var(--layout-shadow) var(--layout-shadow-color)",minHeight:"44px",'& > [tabindex="0"]':{width:"100%"}}]),ei=_e([Mr,{width:"100% !important",height:"100% !important",margin:"0 !important",padding:"0 !important",justifyContent:"space-between !important",border:"none !important",boxShadow:"none !important",'& > [tabindex="0"]':{width:"100%",height:"100%"}}]),ti=_e({width:"unset !important"}),ni=H(mr)`
  z-index: ${fe.Z_NUDGE};
`,ri=({survey:t,organization:e,isCarousel:n,...r})=>Cn(ni,{css:[n?ei:Qo,t&&ti,r.style].filter(Boolean),...r}),Nr=ri;var Pr=({nudge:t,step:e,renderMode:n,handleLinkClick:r,stepIndex:o,actor:i})=>{var w;let d=$(),l=he(),{animStyles:g,onExit:f,isAnimatedWidget:s}=ve(),{isMobileDevice:u,isStudioMobilePreview:c,studioMobilePreviewWrapper:a,mobileStyles:p}=Ge(),h=((w=e.formFactor)==null?void 0:w.canClickOutsideToClose)&&!d.isEditorPreview;return Ot.default.createElement(Nr,{organization:d.organization,survey:!!(e!=null&&e.content.find(b=>b.type==="survey_rating")),isCarousel:t.isCarousel,"data-testid":`engagement-modal-${t.variantId}-${String(e==null?void 0:e.id)}${n===1?"-mock":""}`,"aria-modal":"true","aria-live":"polite",onClose:b=>{We(t)&&(b.type==="keydown"||b.type==="click"&&h)&&f()},classNames:{wrapper:`amplitude-engagement-modal-container engagement-nudge-modal${n===1?"-mock":""} ${l.generatedCSSClassname}`},className:"amplitude-engagement-modal-body",styles:{wrapper:c?p.nudges.modal.wrap:{pointerEvents:"all",...t.isCarousel&&{margin:0,padding:0,width:"100%",height:"100%"}},mask:{...c?p.nudges.modal.mask:{backgroundColor:"rgba(0, 0, 0, 0.1)",zIndex:fe.Z_EDITOR-2},...s&&{opacity:g.opacity,transitionProperty:"opacity",transitionDuration:g.transitionDuration,transitionTimingFunction:g.transitionTimingFunction}}},maskProps:{"data-amplitude-engagement-modal-overlay":!0},getContainer:c&&a?()=>a:()=>document.getElementById("engagement-wrapper")||document.body,modalRender:()=>Ot.default.createElement(fr,{nudge:t,step:e,renderMode:n,handleLinkClick:r,stepIndex:o,actor:i}),style:{width:e.formFactor.layout==="horizontal"&&!u?"auto !important":void 0,maxWidth:e.formFactor.layout==="horizontal"&&!u?"100%":void 0,...t.isCarousel&&{width:"100% !important",height:"100% !important"},...g},visible:!0,keyboard:!d.isEditorPreview})};var oi=({nudge:t,stepIndex:e,renderMode:n})=>{let{onExit:r}=ve(),o=$(),i=X(t,e),d=Ye(re),l=Ye(oe),g=(u,c)=>{r(()=>l(u,c))},f=n!==1?d(t.variantId):void 0,s=pr(u=>Te.nudge.engaged(t,e,{...f==null?void 0:f.getSnapshot().context,source:{type:"link",url:u},interactionState:Z(o,t.variantId)}),()=>g(t,n));return de.default.createElement(gr,{actor:f,step:i},de.default.createElement(ur,null,de.default.createElement(Pr,{nudge:t,step:i,renderMode:n,handleLinkClick:s,actor:f,stepIndex:e})))},ii=t=>{let e=Ye(oe);return de.default.createElement(be,{nudge:t.nudge},de.default.createElement(lr,{key:`modal-${t.nudge.variantId}-${t.stepIndex}`,widget:"modal",enterDelay:1,isMounted:!0,defaultExitAction:()=>{t.renderMode!==1&&e(t.nudge,t.renderMode)}},de.default.createElement(oi,{...t})))},Br=ii;m();if(typeof document<"u"){let t=document.createElement("style"),e=window.engagement,n=e&&e._configuration&&e._configuration.nonce;if(n)t.setAttribute("nonce",n);else{let r=document.querySelector("[nonce]");if(r){let o=r.nonce||r.getAttribute("nonce");o&&t.setAttribute("nonce",o)}}t.appendChild(document.createTextNode(`.rc-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.rc-dialog-wrap {
  position: fixed;
  overflow: auto;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.rc-dialog-title {
  margin: 0;
  font-size: 14px;
  line-height: 21px;
  font-weight: bold;
}
.rc-dialog-content {
  position: relative;
  background-color: #ffffff;
  border: none;
  border-radius: 6px 6px;
  background-clip: padding-box;
}
.rc-dialog-close {
  cursor: pointer;
  border: 0;
  background: transparent;
  font-size: 21px;
  position: absolute;
  right: 20px;
  top: 12px;
  font-weight: 700;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  filter: alpha(opacity=20);
  opacity: 0.2;
  text-decoration: none;
}
.rc-dialog-close:disabled {
  pointer-events: none;
}
.rc-dialog-close-x:after {
  content: '\xD7';
}
.rc-dialog-close:hover {
  opacity: 1;
  filter: alpha(opacity=100);
  text-decoration: none;
}
.rc-dialog-header {
  padding: 13px 20px 14px 20px;
  border-radius: 5px 5px 0 0;
  background: #fff;
  color: #666;
  border-bottom: 1px solid #e9e9e9;
}
.rc-dialog-body {
  padding: 20px;
}
.rc-dialog-footer {
  border-top: 1px solid #e9e9e9;
  padding: 10px 20px;
  text-align: right;
  border-radius: 0 0 5px 5px;
}
.rc-dialog-zoom-enter,
.rc-dialog-zoom-appear {
  opacity: 0;
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.08, 0.82, 0.17, 1);
  animation-play-state: paused;
}
.rc-dialog-zoom-leave {
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.6, 0.04, 0.98, 0.34);
  animation-play-state: paused;
}
.rc-dialog-zoom-enter.rc-dialog-zoom-enter-active,
.rc-dialog-zoom-appear.rc-dialog-zoom-appear-active {
  animation-name: rcDialogZoomIn;
  animation-play-state: running;
}
.rc-dialog-zoom-leave.rc-dialog-zoom-leave-active {
  animation-name: rcDialogZoomOut;
  animation-play-state: running;
}
@keyframes rcDialogZoomIn {
  0% {
    opacity: 0;
    transform: scale(0, 0);
  }
  100% {
    opacity: 1;
    transform: scale(1, 1);
  }
}
@keyframes rcDialogZoomOut {
  0% {
    transform: scale(1, 1);
  }
  100% {
    opacity: 0;
    transform: scale(0, 0);
  }
}
@media (min-width: 768px) {
  .rc-dialog {
    width: 600px;
    margin: 30px auto;
  }
}
.rc-dialog-mask {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  background-color: #373737;
  background-color: rgba(55, 55, 55, 0.6);
  height: 100%;
  filter: alpha(opacity=50);
  z-index: 1050;
}
.rc-dialog-mask-hidden {
  display: none;
}
.rc-dialog-fade-enter,
.rc-dialog-fade-appear {
  opacity: 0;
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.55, 0, 0.55, 0.2);
  animation-play-state: paused;
}
.rc-dialog-fade-leave {
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.55, 0, 0.55, 0.2);
  animation-play-state: paused;
}
.rc-dialog-fade-enter.rc-dialog-fade-enter-active,
.rc-dialog-fade-appear.rc-dialog-fade-appear-active {
  animation-name: rcDialogFadeIn;
  animation-play-state: running;
}
.rc-dialog-fade-leave.rc-dialog-fade-leave-active {
  animation-name: rcDialogFadeOut;
  animation-play-state: running;
}
@keyframes rcDialogFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
@keyframes rcDialogFadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
`)),document.head.appendChild(t)}var si=ge(()=>import("./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-ToolBar-IA2HG554.js"),"DebugToolBar"),ai=ge(()=>import("./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-Recorder-J2PTLZ5X.js"),"RecorderToolBar"),ci=650,di=()=>{let{currentModalNudge:t,nudgeDebugToolBar:e,nudgeRecorderToolBar:n}=$(),r=Tr().width,o=e.visible&&r>ci,i=n.visible;return G.default.createElement("div",null,G.default.createElement("div",{id:"engagement-nudges-rc-tooltip-container"}),t&&G.default.createElement(Br,{nudge:t.nudge,stepIndex:t.stepIndex,renderMode:t.renderMode}),o&&G.default.createElement(G.default.Suspense,{fallback:null},G.default.createElement(si,null)),i&&G.default.createElement(G.default.Suspense,{fallback:null},G.default.createElement(ai,null)))},Rr=di;m();var J=O(F()),Qe=O(F());var ie={state:{},subscribers:[],subscribe:t=>(ie.subscribers.push(t),()=>{ie.subscribers=ie.subscribers.filter(e=>e!==t)})},li=(t,e)=>{switch(e.type){case"SHOW":return{...t,[e.id]:e.payload};case"HIDE":{let n={...t};return delete n[e.id],n}case"HIDE_ALL_MATCHING_PATTERN":if(e.idPattern){let n={...t};for(let r in n)r.match(e.idPattern)&&delete n[r];return n}return{};default:return t}},Lt=t=>{let e=li(ie.state,t);ie.state=e,ie.subscribers.forEach(n=>n(e))},Dr=(t,e)=>{Lt({type:"SHOW",id:t,payload:e})},Or=t=>{Lt({type:"HIDE_ALL_MATCHING_PATTERN",idPattern:t})},Ut=t=>{let e=document.querySelector(`[data-spacer-for="${t}"]`);e&&e.remove(),Lt({type:"HIDE",id:t})},Lr=({children:t})=>{let{isEditorPreview:e}=$(),[n,r]=(0,Qe.useState)(ie.state);return(0,Qe.useEffect)(()=>ie.subscribe(r),[]),J.default.createElement(J.default.Fragment,null,t,J.default.createElement("div",{id:"engagement-nudges-banner-sticky-container",style:{width:"100%",top:"0px",left:0,position:"fixed",pointerEvents:"none",height:"100%"}},Object.entries(n).filter(([,o])=>o.sticky).map(([o,i])=>J.default.createElement("div",{key:o,id:o},i.element))),J.default.createElement("div",{id:"engagement-nudges-banner-inline-container-top",style:{width:"100%",position:"absolute",top:"0",left:0,pointerEvents:"none"}},Object.entries(n).filter(([,o])=>!o.sticky&&o.position==="top").map(([o,i])=>J.default.createElement("div",{key:o,id:o},i.element))),J.default.createElement("div",{id:"engagement-nudges-banner-inline-container-bottom",style:{width:"100%",position:e?void 0:"relative",pointerEvents:"none"}},Object.entries(n).filter(([,o])=>!o.sticky&&o.position==="bottom").map(([o,i])=>J.default.createElement("div",{key:o,id:o},i.element))))};m();var $r=O(Ko()),le=O(F());m();var U=O(F());var ui=H.div`
  height: ${Pt}px;
  position: relative;
  z-index: 50;

  @media screen and (max-height: 820px) {
    transform: scale(0.9);
  }

  @media screen and (max-height: 720px) {
    transform: scale(0.8);
  }

  @media screen and (max-height: 620px) {
    transform: scale(0.7);
  }

  @media screen and (max-height: 560px) {
    transform: scale(0.6);
  }

  @media screen and (max-height: 500px) {
    transform: scale(0.5);
  }

  @media screen and (max-height: 420px) {
    transform: scale(0.4);
  }
`,pi=H.div`
  width: ${Jn}px;
  height: ${Pt}px;
  position: relative;
  border-radius: 56px;
  box-shadow: 0px 0px 0px 7.5px #7d7e7d;
  border: 8px solid #000;
  background: linear-gradient(165deg, white, #ebf0ff 45%, #ebf0ff 55%, white);
  outline: 6px solid #2c2c2b;
  padding-top: 60px;
  padding-bottom: 34px;
  overflow: hidden;

  @media screen and (max-width: 670px) {
    height: 790px;
    width: 400px;
  }

  @media screen and (max-width: 580px) {
    height: 720px;
    width: 360px;
  }

  @media screen and (max-width: 480px) {
    height: 650px;
    width: 320px;
  }

  @media screen and (max-width: 400px) {
    height: 580px;
    width: 280px;
  }

  #engagement-nudge-container {
    overflow: auto;
  }
`,gi=H.div`
  height: 100%;
  width: 100%;
  position: relative;
`,mi=H.div`
  position: absolute;
  width: 100%;
  height: 60px;
  top: 0px;
  display: flex;
  justify-content: center;
  padding-top: 12px;
`,fi=H.div`
  height: 37px;
  width: 126px;
  border-radius: 24px;
  background-color: #000000;
  transition: height 0.5s cubic-bezier(0.075, 0.82, 0.165, 1), width 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);

  &:hover {
    height: 45px;
    width: 145px;
  }
`,hi=H.div`
  position: absolute;
  width: 100%;
  height: 34px;
  bottom: 0px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-bottom: 8px;
`,bi=H.div`
  height: 5px;
  width: 154px;
  border-radius: 24px;
  background-color: #000000;
`,yi=H.div`
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0px;
  bottom: 0px;
`,Ur=H.div`
  position: absolute;
  top: 120px;
  display: flex;
  flex-direction: column;

  &.left {
    left: -12px;
  }

  &.right {
    right: -12px;
    top: 220px;
  }
`,et=H.span`
  background-color: #1d1e1f;
  display: inline-block;
  width: 5px;
  min-height: 62px;
  border-radius: 2px;

  &.power {
    height: 102px;
  }

  &.volume-up {
    margin-top: 29px;
  }
  &.volume-down {
    margin-top: 16px;
  }

  &.lock {
    min-height: 32px;
  }
`,wi=()=>U.default.createElement(yi,null,U.default.createElement(Ur,{className:"left"},U.default.createElement(et,{className:"lock"}),U.default.createElement(et,{className:"volume-up"}),U.default.createElement(et,{className:"volume-down"})),U.default.createElement(Ur,{className:"right"},U.default.createElement(et,{className:"power"}))),vi=()=>U.default.createElement(mi,null,U.default.createElement(fi,null)),zr=({style:t,children:e})=>{let{isMobileDevice:n,isMobileNativePreview:r}=Ge();return U.default.createElement(ui,{style:t,"data-testid":"mobile-preview-device"},U.default.createElement(wi,null),U.default.createElement(pi,{isMobileWeb:n&&!r},U.default.createElement(vi,null),U.default.createElement(gi,{id:"engagement-mobile-preview-wrapper"},U.default.createElement("div",{id:"engagement-mobile-nudge-mock-pin"}),e),U.default.createElement(hi,null,U.default.createElement(bi,null))))};var Si=({children:t})=>{let e=le.default.useRef(null),{widgetTableauSelection:n,editorPreviewDevice:r,isAssistantPreview:o}=$(),{mode:i}=he(),d=le.default.useCallback(f=>{if(!f){e.current&&(e.current.dispose(),e.current=null);return}if(e.current=(0,$r.default)(f,{maxZoom:1,minZoom:1,initialZoom:1,zoomDoubleClickSpeed:1,smoothScroll:!1,filterKey:function(){return!0}}),e.current.on("pan",function(){document.body.style.cursor="grab",f.style.pointerEvents="none"}),e.current.on("panend",function(){document.body.style.cursor="auto",f.style.removeProperty("pointer-events")}),!!f.children[0])return f.addEventListener("mousedown",l),f.addEventListener("wheel",g),()=>{f.removeEventListener("mousedown",l),f.removeEventListener("wheel",g)}},[n]),l=f=>{var c,a;let s=f.target;(s==null?void 0:s.id)==="panzoom-container"?(c=e.current)==null||c.resume():(a=e.current)==null||a.pause()},g=f=>{var c,a;let s=f.target;(s==null?void 0:s.id)==="panzoom-container"?(c=e.current)==null||c.resume():(a=e.current)==null||a.pause()};return le.default.createElement("div",{style:{position:"absolute",inset:0,overflow:"clip",backgroundColor:o?"var(--monochrome-minus-4)":i==="lightMode"?"#F9F9F9":"#3F424A",backgroundImage:o?void 0:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABZSURBVHgB7dG7DYBADANQJxexAiXSTXw9uyExBih34SOxQhr83Li2ASIiIiIiIvo7QbLW1jms1zijq9puSDaGLxhhuBPaqyKZTFK+/q6AZOJlg8shqv5ccAGZWRnaKiSy9QAAAABJRU5ErkJggg==)"}},le.default.createElement("div",{id:"panzoom-container",style:{width:"100%",height:"100%"},ref:d},t,le.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}},le.default.createElement(zr,{style:{visibility:r.startsWith("mobile")?"visible":"hidden"}}))))},Kr=Si;m();var Fr=O(F());var ue=class extends Fr.default.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){var r;(r=q())==null||r.withScope(o=>{var i;o.setContext("featureError",{featureName:this.props.featureName,componentStack:n.componentStack,errorName:e.name,errorMessage:e.message}),o.setTag("feature",this.props.featureName),(i=q())==null||i.captureException(e)})}render(){return this.state.hasError?null:this.props.children}};var Ei=ge(()=>import("./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-WidgetTableau-JKTCQQHW.js"),"WidgetTableau"),Ci=ge(()=>import("./9b537efa8ec5a59cd81e69c85634789f35f6f8cd-ResourceCenterRoot-TI2JZICQ.js"),"ResourceCenterRoot"),ki=()=>{let t=$(),{generatedCSSClassname:e}=he(),n=()=>S.default.createElement(ue,{featureName:"Nudges"},S.default.createElement(Rr,null),t.nudgesManager&&S.default.createElement(Ir,{nudgesManager:t.nudgesManager}),S.default.createElement(or,{containerStyle:{marginTop:t.isEditorPreview?"51px":void 0}}),S.default.createElement("div",{id:"engagement-tooltip-container-portal"}),S.default.createElement(Lr,null)),r=()=>S.default.createElement(ue,{featureName:"Checklists"},S.default.createElement(hr,null)),o=i=>{var d,l;return t.resourceCenter?S.default.createElement(ue,{featureName:"ResourceCenter"},S.default.createElement(S.Suspense,{fallback:null},S.default.createElement(Ci,{isEnabled:!!t.resourceCenter.key&&!!((l=(d=t.decide)==null?void 0:d[t.resourceCenter.key])!=null&&l.value),isPreviewPane:i,isVisible:t.resourceCenter.visible,launcher:t.resourceCenter.desktopLauncher}))):null};return S.default.createElement("div",{className:e,id:"engagement-theme-root",dir:"ltr"},t.showWidgetTableau?S.default.createElement(ue,{featureName:"WidgetTableau"},S.default.createElement(S.Suspense,{fallback:null},S.default.createElement(Ei,null))):t.isEditorPreview?S.default.createElement(Kr,null,r(),n(),o(!0)):S.default.createElement(S.default.Fragment,null,r(),n(),o(!1)))},Ai=({children:t})=>{var g,f,s,u,c,a;let e=$(),{organization:n}=e,r=(0,S.useRef)(!!e.user),o=document.getElementById("engagement-wrapper"),i=Ar(o!=null?o:document.head),d=(0,S.useMemo)(()=>{var h,w;let p=ae();return kr({key:"engagement-toplevel",container:i,speedy:!((h=e.flags)!=null&&h["support-ruby-on-rails"]),nonce:(w=p[P])==null?void 0:w.nonce,stylisPlugins:[kn]})},[i,(g=e.flags)==null?void 0:g["support-ruby-on-rails"]]);(0,S.useEffect)(()=>{xr.setOrganization(n)},[n]),S.default.useEffect(()=>{e.user&&(e.services.postMessageToDashboard("ENGAGEMENT_BOOTED"),r.current||(r.current=!0))},[(f=e.user)==null?void 0:f.device_id,(s=e.user)==null?void 0:s.user_id,n]),S.default.useEffect(()=>{let p=setTimeout(()=>{r.current||v.warn("\u{1F44B} Guides and Surveys are almost ready. You just need to call `boot()` to make them available in your app.")},15e3);return()=>clearTimeout(p)},[]);let l=(a=(u=e.user)==null?void 0:u.user_id)!=null?a:(c=e.user)==null?void 0:c.device_id;return S.default.createElement(S.default.Fragment,null,S.default.createElement(En,{value:d},l?S.default.createElement(ki,{key:l}):null,t))},Ii=t=>{let e=$(),n=_r(e),r={container:document.getElementById("engagement-container"),root:document};return S.default.createElement(In.Provider,{value:r},S.default.createElement(Tn,{theme:n.theme,mode:n.mode},S.default.createElement(Ai,{...t})))},Wr=Ii;var Hr=t=>tt.default.createElement(on,null,tt.default.createElement(sn,{store:t.store},tt.default.createElement(Wr,null,t.children)));m();m();var nt=(t,e)=>{let n={};return Object.keys(e).forEach(r=>{n[r]=e[r].bind(null,t)}),n};var zt={};zo(zt,{previewAutopilotKeywords:()=>Vr,previewContentItem:()=>Yr,previewRecSet:()=>jr,previewResourceCenter:()=>Gr,setCurrentChatSession:()=>Xr,setInitialPage:()=>Zr,showResourceCenter:()=>qr});m();m();var qr=(t,e)=>{t.services.showResourceCenter(t,e)},jr=(t,e)=>{t.services.previewRecSet(t,e)},Gr=(t,e,n)=>{t.services.previewResourceCenter(t,e,n)},Vr=(t,e)=>{t.services.previewAutopilotKeywords(t,e)},Yr=(t,e)=>{t.services.setCurrentContentId(t,e)},Zr=(t,e)=>{t.resourceCenter.initialPage=e},Xr=(t,e,n,r=!1)=>{t.resourceCenter.currentChatSession={sessionId:e,messages:n,isReviewMode:r}};m();var _i=t=>{var e,n,r,o;return typeof window>"u"||typeof document>"u"?t:{...t,event_properties:{...t.event_properties,"[Guides-Surveys] Page":{domain:(e=window.location)==null?void 0:e.hostname,hash:(n=window.location)==null?void 0:n.hash,path:(r=window.location)==null?void 0:r.pathname,query:(o=window.location)==null?void 0:o.search,title:document.title}}}},Ti=t=>({...t,event_properties:{...t.event_properties,"[Guides-Surveys] Version":"1"}}),Mi=t=>(t=Ti(t),t=_i(t),t),rt=class{constructor(e){L(this,"hasBooted",!1);L(this,"integrations");this.integrations=e}trackEvent(e,n={}){this.track(e,n)}track(e,n={}){var o,i;let r={event_type:e,event_properties:n};if(!this.hasBooted){v.warn("Events cannot be tracked before `boot` is called");return}try{let d=Mi(r);v.debug("Tracking event",JSON.stringify(d,null,2));try{this.integrations().forEach(l=>{var g;(g=l.track)==null||g.call(l,{event_type:d.event_type,event_properties:d.event_properties})})}catch(l){(o=q())==null||o.captureException(l)}}catch(d){v.error("Unexpected error logging event; ignoring",{error:d}),(i=q())==null||i.captureException(d)}}setBootStatus(e){this.hasBooted=e}};m();var Ni=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Pi(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Pi=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Bi=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}(),se=function(){return se=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},se.apply(this,arguments)};function ot(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],d;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(l){d={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return i}var it=function(t,e){var n,r,o=["string","number","boolean","undefined"],i=typeof t,d=typeof e;if(i!==d)return!1;try{for(var l=ot(o),g=l.next();!g.done;g=l.next()){var f=g.value;if(f===i)return t===e}}catch(w){n={error:w}}finally{try{g&&!g.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var s=Array.isArray(t),u=Array.isArray(e);if(s!==u)return!1;if(s&&u){for(var c=0;c<t.length;c++)if(!it(t[c],e[c]))return!1}else{var a=Object.keys(t).sort(),p=Object.keys(e).sort();if(!it(a,p))return!1;var h=!0;return Object.keys(t).forEach(function(w){it(t[w],e[w])||(h=!1)}),h}return!0},Ri="$set",Di="$unset",Oi="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r});var Li=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,n=se({},this.identity.userProperties),r=se(se({},this.identity),{userProperties:n});return{setUserId:function(o){return r.userId=o,this},setDeviceId:function(o){return r.deviceId=o,this},setUserProperties:function(o){return r.userProperties=o,this},setOptOut:function(o){return r.optOut=o,this},updateUserProperties:function(o){var i,d,l,g,f,s,u=r.userProperties||{};try{for(var c=ot(Object.entries(o)),a=c.next();!a.done;a=c.next()){var p=Jr(a.value,2),h=p[0],w=p[1];switch(h){case Ri:try{for(var b=(l=void 0,ot(Object.entries(w))),y=b.next();!y.done;y=b.next()){var M=Jr(y.value,2),x=M[0],K=M[1];u[x]=K}}catch(B){l={error:B}}finally{try{y&&!y.done&&(g=b.return)&&g.call(b)}finally{if(l)throw l.error}}break;case Di:try{for(var I=(f=void 0,ot(Object.keys(w))),R=I.next();!R.done;R=I.next()){var x=R.value;delete u[x]}}catch(B){f={error:B}}finally{try{R&&!R.done&&(s=I.return)&&s.call(I)}finally{if(f)throw f.error}}break;case Oi:u={};break}}}catch(B){i={error:B}}finally{try{a&&!a.done&&(d=c.return)&&d.call(c)}finally{if(i)throw i.error}}return r.userProperties=u,this},commit:function(){return e.setIdentity(r),this}}},t.prototype.getIdentity=function(){return se({},this.identity)},t.prototype.setIdentity=function(e){var n=se({},this.identity);this.identity=se({},e),it(n,this.identity)||this.listeners.forEach(function(r){r(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,st=function(){function t(){this.identityStore=new Li,this.eventBridge=new Bi,this.applicationContextProvider=new Ni}return t.getInstance=function(e){return Pe.analyticsConnectorInstances||(Pe.analyticsConnectorInstances={}),Pe.analyticsConnectorInstances[e]||(Pe.analyticsConnectorInstances[e]=new t),Pe.analyticsConnectorInstances[e]},t}();m();var at=["boot"],Qr=["boot"],$t="$default_instance";function eo(t){var o,i,d,l,g,f,s,u,c;let e=window.engagement,n={_q:(o=e==null?void 0:e._q)!=null?o:[],_configuration:{apiKey:(d=(i=e==null?void 0:e._configuration)==null?void 0:i.apiKey)!=null?d:"",serverUrl:(l=e==null?void 0:e._configuration)==null?void 0:l.serverUrl,chatUrl:(g=e==null?void 0:e._configuration)==null?void 0:g.chatUrl,mediaUrl:(f=e==null?void 0:e._configuration)==null?void 0:f.mediaUrl,serverZone:(u=(s=e==null?void 0:e._configuration)==null?void 0:s.serverZone)!=null?u:"US",options:{...(c=e==null?void 0:e._configuration)==null?void 0:c.options}},_sentry:void 0,init(a,p){var M,x,K;if(n._configuration.apiKey){console.log("Engagement SDK has already been initialized. Ignoring additional init call.");return}n._configuration={...n._configuration,...p,apiKey:a,options:{splitting:!0,...n._configuration.options,...p==null?void 0:p.options}},(x=(M=n._configuration)==null?void 0:M.options)!=null&&x.logger&&n._configuration.options.logger.enable((K=n._configuration.options.logLevel)!=null?K:2);let h;if(p!=null&&p.cdnUrl)n._configuration.options.splitting?h=`${p.cdnUrl}/engagement-browser/prod/split/index.js`:h=p.cdnUrl+"/engagement-browser/prod/index.min.js.gz";else{let I=n._configuration.serverZone==="EU"?"https://cdn.eu.amplitude.com":"https://cdn.amplitude.com";n._configuration.options.splitting?h=`${I}/engagement-browser/prod/split/index.js`:h=`${I}/engagement-browser/prod/index.min.js.gz`}let w=null,b=()=>{if(w&&(clearTimeout(w),w=null),n._q&&n._q.length>0)for(console.warn(`Engagement SDK failed to load within ${y}ms. Resolving pending calls gracefully.`);n._q.length>0;){let I=n._q.shift();if(!I)continue;let R=I[0];if(at.includes(R)&&I[1]instanceof Function&&I[2]instanceof Function){let B=I[1];console.warn(`Engagement SDK method '${R}' resolved as no-op due to script loading failure`),B(void 0)}}};t(h,n._configuration.options.splitting?"module":void 0,p==null?void 0:p.nonce,b);let y=1e4;w=setTimeout(()=>{b()},y)},plugin(a){let p=n.init;return{name:"@amplitude/engagement-browser",type:"enrichment",async setup(h,w){var x,K;let b=(x=h.instanceName)!=null?x:$t,y=st.getInstance(b).identityStore;p(h.apiKey,{serverZone:h.serverZone,serverUrl:(K=h.serverUrl)!=null&&K.includes("amplitude.com")?void 0:h.serverUrl,...a,options:{logLevel:h.logLevel,logger:h.loggerProvider,...a==null?void 0:a.options}});let M=[{track:I=>{w.track(I)}}];await window.engagement.boot({user:()=>{let I=y.getIdentity();return{user_id:w.getUserId(),device_id:w.getDeviceId(),user_properties:I.userProperties,getSessionId:w.getSessionId}},integrations:M}),y.addIdentityListener(I=>{var R,B,V,xe;(((B=(R=window.engagement)==null?void 0:R._.user)==null?void 0:B.user_id)!==I.userId||((xe=(V=window.engagement)==null?void 0:V._.user)==null?void 0:xe.device_id)!==I.deviceId)&&window.engagement.boot({user:()=>{let ee=y.getIdentity();return{user_id:w.getUserId(),device_id:w.getDeviceId(),user_properties:ee.userProperties,getSessionId:w.getSessionId}},integrations:M}),window.engagement._setUserProperties(I.userProperties)})},async execute(h){return window.engagement.forwardEvent(h),h}}}},r=n;return new Proxy(n,{get:function(a,p){if(p in r)return r[p];if(p!=="then")return p==="gs"||p==="rc"?new Proxy({},{get:function(h,w){return function(){let b=Array.from(arguments),y=`${p}.${w}`;b.unshift(y),n._q.push(b)}}}):at.includes(p)?function(){let h=Array.prototype.slice.call(arguments);return new Promise((w,b)=>{h.unshift(p,w,b),n._q.push(h)})}:function(){let h=Array.prototype.slice.call(arguments);h.unshift(p),n._q.push(h)}}})}var Ui=["reloadOrganization","reloadNudges","reloadThemes"],zi={},ct=class{constructor(e,n){L(this,"_");L(this,"nudgeActions");L(this,"resourceCenterActions");L(this,"globalActions");L(this,"_analytics",new rt(()=>this._.integrations));L(this,"_configuration",{serverZone:"US",serverUrl:void 0,mediaUrl:void 0,apiKey:"",options:{...zi}});L(this,"_initStarted",!1);L(this,"_isProxy",!1);L(this,"_fingerprint");L(this,"_sentry");L(this,"transformForHeadless",e=>e.map(n=>{var o,i,d,l,g,f,s,u,c,a,p;let r=JSON.parse(JSON.stringify(n));return(o=r.lifecycleConfig)!=null&&o.conditions&&delete r.lifecycleConfig.conditions,(i=r.pageTargeting)!=null&&i.conditions&&delete r.pageTargeting.conditions,(d=r.temporarilyHideTargeting)!=null&&d.conditions&&delete r.temporarilyHideTargeting.conditions,(g=(l=r.lifeCycleState)==null?void 0:l.checks)!=null&&g.sessionProperties&&delete r.lifeCycleState.checks.sessionProperties,(a=(c=(u=(s=(f=r.lifeCycleState)==null?void 0:f.checks)==null?void 0:s.limits)==null?void 0:u.detail)==null?void 0:c.limits)!=null&&a.conditions&&delete r.lifeCycleState.checks.limits.detail.limits.conditions,((p=r.lifeCycleState)==null?void 0:p.willRenderIfTriggered)!==void 0&&(r.lifeCycleState.passesAllChecks=r.lifeCycleState.willRenderIfTriggered,delete r.lifeCycleState.willRenderIfTriggered),r}));L(this,"gs",{reset:(e,n)=>{let r=_t(this._,e);if(!r){v.warn(`gs.reset: Guide or survey with flagKey: ${e} not found`);return}this.nudgeActions.resetNudge(r==null?void 0:r.variantId,{step:n})},getAllGuidesAndSurveys:(e,n=[])=>{var i;let r=ne(this._);if(!r)return[];let o=[];for(let d of r.values()){let l=d.getSnapshot().context.nudge,g=Z(this._,l.variantId),f=d.getSnapshot().matches({Step:"Render Loop"}),s=!!(g!=null&&g.activelifeCycleUuid),u=Vn(this._,l,n),c={activelifeCycleUuid:(g==null?void 0:g.activelifeCycleUuid)||"",currentStep:(g==null?void 0:g.currentStep)||0,isCompleted:(g==null?void 0:g.isCompleted)||!1,isDismissed:(g==null?void 0:g.isDismissed)||!1,isChecklistExpanded:(i=g==null?void 0:g.isChecklistExpanded)!=null?i:!0,steps:(g==null?void 0:g.steps)||{},shouldShow:f||s,checks:(u==null?void 0:u.checks)||{},willRenderIfTriggered:(u==null?void 0:u.willRenderIfTriggered)||!1};e!=null&&e.onlyEligible&&!c.willRenderIfTriggered||e!=null&&e.variantIds&&!e.variantIds.includes(l.variantId)||o.push({...l,lifeCycleState:c})}return this.transformForHeadless(o)},getPreviewGuideOrSurvey:async e=>{var i,d;let n=(i=ae())==null?void 0:i[P],r=await Hn(n==null?void 0:n.apiKey);r!=null&&r.nudges&&await((d=ae())==null?void 0:d._reloadNudges(r));let o=this.gs.getAllGuidesAndSurveys({variantIds:[e]},["userTargeting"])[0];return o.lifeCycleState.checks.userTargeting={result:"PASS",explanation:"User targeting always passes in preview mode",detail:{userTargeting:o.flagKey}},o.lifeCycleState.willRenderIfTriggered=Object.values(o.lifeCycleState.checks).every(({result:l})=>l==="PASS"),o},list:()=>{let e=[],n=ne(this._);if(!n)return e;for(let r of n.values()){let o=r.getSnapshot().context.nudge,i=Z(this._,o.variantId),d=r.getSnapshot().matches({Step:"Render Loop"});!(i!=null&&i.activelifeCycleUuid)&&!d||e.push({id:o.variantId,step:i==null?void 0:i.currentStep,title:o.title,status:d?"visible":"active",key:o.flagKey})}return e},show:(e,n=0)=>{let r=_t(this._,e);r?(this.nudgeActions.closeAllNudgeMocks(),this.nudgeActions.forceTriggerSingleNudge(r,{source:{type:"sdk"},overrides:{stepIndex:n}})):v.error(`triggerNudge: Nudge with key: ${e} not found`)},closeAll:()=>{var e;(e=ne(this._))==null||e.forEach(n=>{n==null||n.send({type:"DISMISS"})})}});L(this,"rc",{open:()=>{this.resourceCenterActions.showResourceCenter(!0)},close:()=>{this.resourceCenterActions.showResourceCenter(!1)},toggle:()=>{this.resourceCenterActions.showResourceCenter(!this._.resourceCenter.visible)}});var r,o;this._=e,this.nudgeActions=nt(e,je),this.resourceCenterActions=nt(e,zt),this.globalActions=nt(e,Fn),this.setRouter=this.setRouter.bind(this),this.boot=this.boot.bind(this),this._startNudgeDebug=this._startNudgeDebug.bind(this),this.forwardEvent=this.forwardEvent.bind(this),this.addIntegration=this.addIntegration.bind(this),this.setThemeMode=this.setThemeMode.bind(this),this.addCallback=this.addCallback.bind(this),this.setSessionProperty=this.setSessionProperty.bind(this),this._initStarted=((r=window.engagement)==null?void 0:r._initStarted)===!0,this._configuration={...this._configuration,...n,options:{...this._configuration.options,...n.options}},this._configuration.options.logger&&this._configuration.options.logger.enable((o=this._configuration.options.logLevel)!=null?o:2)}init(e,n){var r;if(this._configuration.apiKey){v.warn("Engagement SDK has already been initialized. Ignoring additional init call.");return}this._configuration={...this._configuration,apiKey:e,...n,options:{...this._configuration.options,...n==null?void 0:n.options}},this._configuration.options.logger&&this._configuration.options.logger.enable((r=this._configuration.options.logLevel)!=null?r:2)}plugin(e){return{name:"@amplitude/engagement-browser",type:"enrichment",setup:async(o,i)=>{var g;let d=(g=o.instanceName)!=null?g:$t,l=st.getInstance(d).identityStore;await this.boot({user:()=>{let f=l.getIdentity();return{user_id:i.getUserId(),device_id:i.getDeviceId(),user_properties:f.userProperties,getSessionId:i.getSessionId}},integrations:[{track:f=>{i.track(f)}}]}),l.addIdentityListener(f=>{this._setUserProperties(f.userProperties)})},execute:async o=>(this.forwardEvent(o),o)}}setRouter(e){this.globalActions.addCallbacks({"engagement-router":e})}async updateLanguage(e){var o;this._configuration&&(this._configuration.locale=e);let r=(await ce(this._configuration.apiKey)).nudges;(o=ne(this._))==null||o.forEach(i=>{let d=r.find(l=>l.variantId===i.getSnapshot().context.nudge.variantId);d&&(i==null||i.send({type:"REFRESH_NUDGE",nudge:d}))})}async decide(){if(!this._.user){v.error("User must be set before calling decide");return}if(!this._configuration.apiKey){v.error("API key must be set before calling decide");return}return this._.decide=await Wn.decide(this._configuration.apiKey,this._.user,this._.isEditorPreview),this._.decide}shutdown(){this._.integrations=[],this._.decide=void 0,this._.user=void 0,this._.endUserStore.reset()}async boot(e){var n,r,o,i;if(typeof e.user=="function")try{this._.user=e.user()}catch(d){v.error("Failed to get user from provider function",d)}else typeof e=="string"?this._.user={user_id:e}:typeof e.user=="string"?this._.user={user_id:e.user}:this._.user=e.user;if(!this._.user||!this._.user.user_id&&!this._.user.device_id){v.error("User must specify at least a user_id or device_id"),this._.user=void 0;return}this._.user=this._.services.enrichUser(this._.user),this._.integrations=[],(n=e.integrations)==null||n.forEach(d=>{this.addIntegration(d)}),v.log("booting...",JSON.stringify(this._.user,null,2));try{await this.decide(),v.debug("Decide data fetched successfully")}catch(d){v.error("Failed to fetch decide data",d),(r=q())==null||r.captureException(d)}try{await this._.endUserStore.fetchData(),this._.endUserStore.initializedSuccessfully&&(this._analytics.setBootStatus(!0),(o=this._.nudgesManager)==null||o.send({type:"END_USER_STORE_LOADED"}),v.debug("End user state loaded successfully"))}catch(d){v.error("Failed to fetch end user state",d),(i=q())==null||i.captureException(d)}}forwardEvent(e){typeof e=="string"&&(e={event_type:e}),v.debug(`Registering event ${e.event_type}`),Kn(this._,e.event_type,e.event_properties)}addIntegration(e){this._.integrations.push(e)}setThemeMode(e){["lightMode","darkMode","auto"].includes(e)&&(this._.themeMode=e)}addCallback(e,n){this.globalActions.addCallbacks({[e]:n})}setSessionProperty(e,n){if(!Nn(e)){console.error("Invalid session property key",e);return}if(!Pn(n)){console.error("Invalid session property value",n);return}this.globalActions.setSessionProperties({[e]:n})}registerAction(e,n){let r=It(this._,e);if(!r){v.warn(`registerAction: Guide or survey with variantId: ${e} not found`);return}if(n.type==="show")this.nudgeActions.forceTriggerSingleNudge(r,{source:{type:"sdk"}});else if(n.type==="dismiss")oe(this._,r,0);else if(n.type==="snooze")jn(this._,r,r.snoozeDuration,0);else if(n.type==="ctaClick"){let o=re(this._,e),i=Z(this._,e),d=(i==null?void 0:i.currentStep)||0,l=r.steps[d];if(!l){v.error(`registerAction: Step ${d} not found for nudge ${e}`);return}let g=l.content.find(u=>{var c;return u.type==="button"&&((c=u.meta)==null?void 0:c.buttonType)===n.buttonType});if(!g){v.error(`registerAction: No button with type ${n.buttonType} found in step ${d}`);return}n.surveyResponse&&(o==null||o.send({type:"UPDATE_SURVEY_RESPONSE",surveyResponse:n.surveyResponse}));let f=g.meta,s=Rn(l,{buttonMeta:f,surveyResponse:n.surveyResponse});Yn(this._,s,f,0,o)}else v.error(`registerAction: Invalid action type "${n.type}". Must be "show", "dismiss", "snooze", or "ctaClick"`)}async _configUser(){var l;(l=q())==null||l.addBreadcrumb({level:"debug",category:"internal",message:"_configUser called"});let{organization:e,nudges:n,flags:r,themes:o,resourceCenters:i}=await ce(this._configuration.apiKey,this._.isEditorPreview);this._.flags=r,this._.themes=o;let[d]=i;d&&(this._.resourceCenter={...this._.resourceCenter,...d}),this.globalActions.setOrganization(e),this.nudgeActions.initNudges(n||[]),this.nudgeActions.setupTimedTriggers([...n])}_updateEditorPreviewDevice(e){this._.editorPreviewDevice=e}_getEditorPreviewDevice(){return this._.editorPreviewDevice}async _reload(e=Ui){let n=await ce(this._configuration.apiKey,this._.isEditorPreview);for(let r of e){let i=this[r];i instanceof Function&&i(n)}}async _reloadOrganization(e){let{organization:n}=e||await ce(this._configuration.apiKey,this._.isEditorPreview);this.globalActions.setOrganization(n)}async _reloadNudges(e){let{nudges:n}=e||await ce(this._configuration.apiKey,this._.isEditorPreview);this.nudgeActions.initNudges(n||[])}async _reloadThemes(e){let{themes:n}=e||await ce(this._configuration.apiKey,this._.isEditorPreview);this._.themes=n}_startNudgeDebug(e){let{nudge:n}=e;this.nudgeActions.closeAllNudgeMocks(),this.nudgeActions.startDebugSession(n,{refreshDecide:!0,toStepIndex:0})}async _stopNudgeDebug(){this.nudgeActions.stopDebugSession()}_showNudgeStepMock(e){var n;(n=ne(this._))==null||n.forEach(r=>{r==null||r.send({type:"CLOSE"})}),this.nudgeActions.showStepMock(e.nudge,e.stepIndex,{forceOpen:e.forceOpen})}_closeNudgeMocks(){this.nudgeActions.closeAllNudgeMocks()}_setUserProperties(e){if(!this._.user){v.error("User is undefined, likely hasn't been booted yet");return}this._.user.user_properties={...this._.user.user_properties,...e}}_shareConfig(){return{organization:this._.organization||void 0,nudges:ye(this._)}}_shareTrackedEvents(){return{trackedEvents:[...this._.trackedAppEvents]}}_startDebug(){Y.set("debug:nudges","true"),v.log("Enabled debugging for nudges. Restart the application.")}_stopDebug(){Y.remove("debug:nudges"),v.log("Disabled debugging for nudges. Restart the application.")}_showResourceCenter(e,n){this.resourceCenterActions.showResourceCenter(e),(n==null?void 0:n.recSet)!==void 0&&this.resourceCenterActions.previewRecSet(n.recSet),n!=null&&n.resourceCenter&&(n==null?void 0:n.quickLinks)!==void 0&&this.resourceCenterActions.previewResourceCenter(n.resourceCenter,n.quickLinks),(n==null?void 0:n.autopilotKeywords)!==void 0&&this.resourceCenterActions.previewAutopilotKeywords(n.autopilotKeywords),(n==null?void 0:n.contentItemId)!==void 0&&this.resourceCenterActions.previewContentItem(n.contentItemId)}_startChat(e,n){e&&e!=="behavior-settings"&&n&&n.length>0&&this.resourceCenterActions.setCurrentChatSession(e,n,!0),this.resourceCenterActions.setInitialPage({item:{page:"assistant",params:{}}}),this.resourceCenterActions.showResourceCenter(!0)}_shareCurrentChatSession(){return this._.resourceCenter.currentChatSession}async _getDebugSnapshot(e){if(e!=null&&e.variantId){if(typeof e.variantId=="number"){let r=It(this._,e.variantId);if(r){let o=typeof e.stepIndex=="number"?e.stepIndex:0,i=await Nt(this._,r,o),{name:d}=kt(r),l=`${d} debug snapshot: ${i.guideOrSurvey.title} - ${i.guideOrSurvey.variant}`;console.log(l,i)}}return}let n=ye(this._);for(let r of n){let o=await Nt(this._,r),{name:i}=kt(r),d=`${i} debug snapshot: ${o.guideOrSurvey.title} - ${o.guideOrSurvey.variant}`;console.log(d,o)}}_debugStatus(){console.log({user:this._.user,apiKey:this._configuration.apiKey,stateInitialized:this._.endUserStore.initializedSuccessfully,decideSuccessful:this._.decide!=null,num_guides_surveys:ye(this._).length,analyticsIntegrations:this._.integrations.length})}_setTheme(e,n){e||(this._.themeOverride=void 0),this._.themeOverride={theme:e,mode:n}}_showWidgetTableau(e,n){this._.widgetTableauSelection=n,this._.showWidgetTableau=e}_addCallback(e,n){this.globalActions.addCallbacks({[e]:n})}_clearNudgeInteractions(e){e?this._.endUserStore.data={nudgeInteractions:{...this._.endUserStore.data.nudgeInteractions,[e]:Et()}}:this._.endUserStore.data={nudgeInteractions:Object.fromEntries(Object.keys(this._.endUserStore.data.nudgeInteractions).map(n=>[n,Et()]))},this._.endUserStore.pushData()}};m();var to=async(t,e)=>{let n=(l,g)=>{let f=g.split("."),s=l;for(let u of f){if(!(u in s)){v.warn(`Engagement SDK method ${g} is not defined.`);return}s=s[u]}return s},r=async l=>{let g=[...l],f=g.shift(),s=n(t,f);if(s)if(at.includes(f))if(g[0]instanceof Function){let u=g.shift(),c=g.shift();try{await s(...g).then(u,c)}catch(a){v.error(a)}}else await s(...g);else await s(...g)},i=(async l=>{do{let g=e.findIndex(s=>(s==null?void 0:s[0])===l);if(g===-1)break;let f=e.splice(g,1)[0];await r(f)}while(!0)})("boot"),d=[];for(;e.length>0;){let l=e.shift();if(!l)continue;let g=l[0];if(g==="boot"){d.push(l);continue}Qr.includes(g)?await r(l):r(l)}return e.length=0,i.then(async()=>{for(let l=0;l<d.length;l++){let g=d[l];await r(g)}}),t};m();var $i=4,Ki=500,Fi=500,no=t=>{let e,n=0,r=0,o=()=>{let i=Date.now();i-r<=Fi&&(n+=1,clearTimeout(e),e=setTimeout(()=>n=0,Ki)),r=i,n>=$i&&(t.messageBus.publish("rage_click"),n=0,clearTimeout(e))};return document.body.addEventListener("click",o),()=>{document.body.removeEventListener("click",o)}};m();var ro=t=>{let i=0,d=-1,l=-1,g=-1,f,s=u=>{let{clientX:c,clientY:a,timeStamp:p}=u;if(d!==-1&&l!==-1&&g!==-1){let h=Math.abs(c-d),w=Math.abs(a-l);Math.sqrt(h**2+w**2)/(p-g)>5&&p-g<=100&&(i+=1,clearTimeout(f),f=setTimeout(()=>i=0,500)),i>=15&&(t.messageBus.publish("user_confusion"),i=0,clearTimeout(f))}d=c,l=a,g=p};return document.body.addEventListener("mousemove",s),()=>{document.body.removeEventListener("mousemove",s)}};m();var oo=O(Sr()),Wi=5e3,Hi=6e4,io=t=>{let e=!1,n=()=>{e&&t.messageBus.publish("user_inactive")};setTimeout(()=>e=!0,Hi);let r=(0,oo.default)(n,Wi);return document.body.addEventListener("mousemove",r),document.body.addEventListener("keydown",r),()=>{document.body.removeEventListener("mousemove",r),document.body.removeEventListener("keydown",r)}};m();var so=t=>{t.messageBus.subscribe("location_change",()=>{var n,r,o;(n=ne(t))==null||n.forEach(i=>{let d=i.getSnapshot(),l=d.context.nudge;d.matches({Step:"Render Loop"})&&Bn(t,l)&&(i==null||i.send({type:"CLOSE"}))});let e=Mn(((r=t.organization)==null?void 0:r.shareLinkParam)||Ct,t.location.search);if(e){let i=e.flagKey,d=ye(t);if((o=t.nudgesManager)==null||o.send({type:"HANDLE_SHARE_LINK",flagKey:i}),d.find(l=>l.flagKey===i)){let l=new URL(window.location.href);l.searchParams.delete(Ct);let g=l.toString();window.history.replaceState({},document.title,g)}}Mt(t,{trigger:{type:"active"},source:{type:"active"},overrides:{cooldown:!0,customThrottles:!0,page:!0}}),Mt(t,{trigger:{type:"immediately"},source:{type:"trigger",properties:{triggerType:"immediately"}}})})};m();var ao=t=>{let e=n=>{let r=n.data.action;if(r)r==="startDebugSession"?t.messageBus.publish("start_debug",{event:n}):r==="startRecorderSession"&&t.messageBus.publish("start_recorder",{event:n});else return};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}};m();m();var co=O(Sr());var qi={observerOptions:{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]},debounceMs:150},dt=class{constructor(e,n,r=[],o={}){this.mutationObserver=null;this.processMutationsImmediately=()=>{if(this.mutationObserver)try{this.onMutations()}catch(e){v.error("Error processing mutations:",{error:e})}};this.handleMutations=e=>{try{e.some(r=>this.shouldProcessMutation(r))&&this.processMutationsDebounced()}catch(n){v.error("Error handling mutations:",{error:n,mutationCount:e.length})}};this.target=e,this.onMutations=n,this.filters=r,this.options={...qi,...o},this.processMutationsDebounced=(0,co.default)(this.processMutationsImmediately,this.options.debounceMs,{maxWait:this.options.debounceMs*2})}shouldProcessMutation(e){if(this.filters.length===0)return!0;try{return this.filters.every(n=>n(e))}catch(n){return v.error("Error in mutation filter:",{error:n,mutation:e}),!1}}cleanup(){var e;this.processMutationsDebounced.cancel(),(e=this.mutationObserver)==null||e.disconnect(),this.mutationObserver=null}observe(){return this.mutationObserver&&this.cleanup(),this.mutationObserver=new MutationObserver(this.handleMutations),this.mutationObserver.observe(this.target,this.options.observerOptions),()=>{this.cleanup()}}};var ji=t=>!(we(t.target)||Array.from(t.addedNodes).some(we)||Array.from(t.removedNodes).some(we)),lo=t=>new dt(document.documentElement,()=>{t.messageBus.publish("dom_mutation")},[ji]).observe();m();m();var Q=O(F());var uo=(t,e,n,r={})=>{var g,f,s,u,c;if((s=(f=(g=ae())==null?void 0:g[P])==null?void 0:f.options)!=null&&s.headless)return;let o=(u=r==null?void 0:r.renderMode)!=null?u:0;e=$n(e,t);let i=We(e);if(He(e)){t.activeChecklist={nudge:e,renderMode:o,defaultOpenIdx:o===1?n:void 0};return}if(Dn(e)){let[a]=e.steps,p=`${e.variantId}-${String(a.id)}${o===1?"-mock":""}`;Me(p,{asChild:!0,element:Q.default.createElement(br,{forceOpen:r==null?void 0:r.forceOpen,nudge:e,renderMode:o,step:a,anchorOverride:r==null?void 0:r.anchorOverride,handleDestroy:()=>oe(t,e,o),onMarkerView:()=>{if(o===1)return;let h=re(t,e.variantId);Te.nudge.tooltipMarkerViewed(e,n,{...h==null?void 0:h.getSnapshot().context,interactionState:Z(t,e.variantId)})},onOpen:()=>{o!==1&&Te.nudge.viewed(e,n,{...r.context,interactionState:Z(t,e.variantId)})}})});return}if(On(e)){let[a]=e.steps,p=`${e.variantId}-${String(a.id)}${o===1?"-mock":""}`;Dr(p,{element:Q.default.createElement(wr,{nudge:e,stepIndex:n,renderMode:o}),sticky:a==null?void 0:a.formFactor.sticky,position:a==null?void 0:a.formFactor.position});return}let d=X(e,n),l=()=>{i&&oe(t,e,o)};switch(d==null?void 0:d.formFactor.type){case"popover":{let a=`${e.variantId}-${String(d.id)}${o===1?"-mock":""}`,p=d.formFactor.position==="center";Me(a,{element:Q.default.createElement(Rt,{nudge:e,renderMode:o,stepIndex:n,center:p}),position:d.formFactor.position,duration:Number.POSITIVE_INFINITY,hasWideContent:At(d),themeProvider:({children:h})=>Q.default.createElement(be,{nudge:e},h),onEscapeKeyDown:l});break}case"modal":{t.currentModalNudge=An({nudge:e,stepIndex:n,renderMode:o});break}case"pin":{qe(d)&&Me(`${e.variantId}-${String(d.id)}${o===1?"-mock":""}`,{element:Q.default.createElement(yr,{nudge:e,step:d,renderMode:o,stepIndex:n,anchorOverride:r==null?void 0:r.anchorOverride}),duration:Number.POSITIVE_INFINITY,themeProvider:({children:a})=>Q.default.createElement(be,{nudge:e},a),onEscapeKeyDown:l,onEnterKeyDown:()=>Gn(t,e)});break}default:{(c=rn())==null||c.captureMessage(`Unknown form factor type: ${d==null?void 0:d.formFactor}`,"error",{captureContext:{tags:{product:"nudges"}}});let a=d&&At(d);Me(`${e.variantId}-${String(d==null?void 0:d.id)}${o===1?"-mock":""}`,{element:Q.default.createElement(Rt,{nudge:e,renderMode:o,stepIndex:n}),position:"top-right",duration:Number.POSITIVE_INFINITY,hasWideContent:a,themeProvider:({children:p})=>Q.default.createElement(be,{nudge:e},p),onEscapeKeyDown:l})}}};m();var po=(t,e)=>{let n=ar(t);if(!n)return;let r=()=>{e()};return n.addEventListener("click",r),()=>n.removeEventListener("click",r)};m();var go=(t,e)=>{var n,r;for(let o=0;o<e.steps.length;o++){let i=X(e,o);((n=t.currentModalNudge)==null?void 0:n.renderMode)===1&&(t.currentModalNudge=null),((r=t.activeChecklist)==null?void 0:r.renderMode)===1&&(t.activeChecklist=null),Bt(`${e.variantId}-${String(i==null?void 0:i.id)}-mock`),Ut(`${e.variantId}-${String(i==null?void 0:i.id)}-mock`)}},mo=t=>{var e,n;rr(/-mock$/),Or(/-mock$/),((e=t.currentModalNudge)==null?void 0:e.renderMode)===1&&(t.currentModalNudge=null),((n=t.activeChecklist)==null?void 0:n.renderMode)===1&&(t.activeChecklist=null)},fo=(t,e,n)=>{var o;let r=X(e,n);if(He(e)){if(!t.activeChecklist)return;t.activeChecklist=null}else Ln(r)&&((o=t.currentModalNudge)==null?void 0:o.renderMode)!==1?t.currentModalNudge=null:(Bt(`${e.variantId}-${String(r==null?void 0:r.id)}`),Ut(`${e.variantId}-${String(r==null?void 0:r.id)}`))};m();var ho=(t,e)=>{vr(t,e)},bo=(t,e)=>{t.resourceCenter.currentContentItemId=e?e.toString():null},yo=(t,e)=>{t.resourceCenter.previewedRecommendationSet=e},wo=(t,e,n)=>{t.resourceCenter={...t.resourceCenter,...e,previewedAdditionalResources:n}},vo=(t,e)=>{t.resourceCenter.customAutopilotKeywords=e};m();var So=async(t,e)=>{var r,o;let n=()=>{};switch((r=e==null?void 0:e.meta)==null?void 0:r.type){case"intercom":n=()=>window.Intercom("showNewMessage");break;case"helpscout":n=()=>window.Beacon("open");break;case"freshdesk":n=()=>window.FreshworksWidget("open");break;case"freshchat":{n=async()=>window.fcWidget.open();break}case"gist":n=()=>window.gist.chat("open");break;case"crisp":n=()=>{window.$crisp.push(["do","chat:open"]),window.$crisp.push(["do","chat:show"])};break;case"talkdesk_v2":n=()=>{window.webchat.open()};break;case"zendesk":{n=()=>{try{window.zE("messenger","open")}catch(i){window.zE("webWidget","open"),window.zE("webWidget","show")}};break}case"liveChat":n=()=>window.LiveChatWidget.call("maximize");break;case"olark":n=()=>window.olark("api.box.expand");break;case"hubspot":n=()=>window.HubSpotConversations.widget.open();break;case"drift":n=()=>window.drift.api.openChat();break;case"pylon":n=()=>window.Pylon("show")}try{await n()}catch(i){(o=q())==null||o.captureException(i)}},xo=(t,e,n)=>{let r=zn(e.value,t,!0);if(n){window.open(r,"_blank");return}switch(e.operation){case"router":{let o=t.callbacks["engagement-router"];if(o)o(r);else throw new Un("Link is of router type, but router is not defined.");break}case"self":window.open(r,"_self");break;case"blank":window.open(r,"_blank");break;default:window.open(r,"_blank");break}},Eo=(t,e)=>{};var Gi=Co().UAParser,Vi=()=>typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||"",Yi=t=>{var e,n;return[(e=t.browser)==null?void 0:e.name,(n=t.browser)==null?void 0:n.major].filter(r=>r!=null).join(" ")},Zi=t=>{var e;return(e=t.os)==null?void 0:e.name},Xi=t=>{var n;let e=(n=t.browser)==null?void 0:n.name;return e!=null&&e.includes("Chrom")&&(e="Chrome"),e!=null&&e.includes("Firefox")&&(e="Firefox"),e!=null&&e.includes("Safari")&&(e="Safari"),e!=null&&e.includes("Edge")&&(e="Edge"),e!=null&&e.includes("Opera")&&(e="Opera"),e||"Unknown"},Ji=()=>{var t;if((t=window==null?void 0:window.document)!=null&&t.cookie)try{return Object.fromEntries(window.document.cookie.split("; ").map(e=>e.split("=")))}catch(e){return}},Qi=t=>{var e,n;try{let r=JSON.parse(Tt.get(t,"{}"));return r.landing_url||(r.landing_url=(n=(e=window==null?void 0:window.location)==null?void 0:e.href)==null?void 0:n.replace(/\/$/,""),Tt.set(t,JSON.stringify(r))),r.landing_url}catch(r){return}},es=t=>{try{let e=JSON.parse(Y.get(t,"{}"));return e.first_seen||(e.first_seen=(Date.now()/1e3).toString(),Y.set(t,JSON.stringify(e))),e.first_seen}catch(e){return}},ts=()=>{var e;if(!(window!=null&&window.location))return;let t={};try{let n=new URL(window.location.href);for(let[r,o]of n.searchParams)t[r]=[...(e=t[r])!=null?e:[],...o.split(",")]}catch(n){return}return Object.entries(t).reduce((n,[r,o])=>(n[r]=o.length===1?o[0]:o,n),{})},ns=t=>{var r,o,i,d,l,g,f;let e=typeof(window==null?void 0:window.navigator)<"u"?window.navigator.userAgent:void 0,n=new Gi(e).getResult();return{language:Vi(),platform:"Web",os:Yi(n),device_model:Zi(n),device_category:(o=(r=n.device)==null?void 0:r.type)!=null?o:"desktop",referring_url:(i=window==null?void 0:window.document)==null?void 0:i.referrer.replace(/\/$/,""),cookie:Ji(),browser:Xi(n),landing_url:Qi(`ENGAGEMENT_${(l=(d=window.engagement)==null?void 0:d[P].apiKey)==null?void 0:l.slice(0,10)}_DEFAULT_USER_PROVIDER`),first_seen:es(`ENGAGEMENT_${(f=(g=window.engagement)==null?void 0:g[P].apiKey)==null?void 0:f.slice(0,10)}_DEFAULT_USER_PROVIDER`),url_param:ts(),user_agent:e,...t}},ko={renderNudge:uo,addClickListener:po,clickElement:sr,closeNudgeMock:go,closeAllNudgeMocks:mo,closeStep:fo,onLocationChange:tr,postMessageToDashboard:Ze,openChatExecutable:So,linkExecutable:xo,appReviewExecutable:Eo,getDefaultUIMode:Qn,isElementVisible:cr,matchesSelector:ir,showResourceCenter:ho,setCurrentContentId:bo,previewRecSet:yo,previewResourceCenter:wo,previewAutopilotKeywords:vo,enrichUser:ns};m();var Kt=async(t,e)=>{let n=await fetch(t,{...e,body:e.body!=""?e.body:void 0});return{status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries()),data:await n.text(),ok:n.ok}};typeof window<"u"?window.simpleFetch=Kt:typeof globalThis<"u"?globalThis.simpleFetch=Kt:typeof window<"u"&&(window.simpleFetch=Kt);m();var rs=t=>{let e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)},os=t=>{let e=atob(t),n=new TextEncoder().encode(e);return JSON.parse(new TextDecoder().decode(n))};globalThis.base64Encode=rs;globalThis.base64Decode=os;m();var is=t=>!t.target||!we(t.target),Ao=t=>{let e=n=>{is(n)&&t.messageBus.publish("click",{event:{type:n.type,target:n.target,currentTarget:n.currentTarget,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()}})};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}};m();var ss=30,as=0,Io=t=>{let e=null,n=()=>{t.messageBus.publish("exit_intent")},r=i=>{i.clientY>ss||(e=setTimeout(n,as))},o=()=>{e&&(clearTimeout(e),e=null)};return document.documentElement.addEventListener("mouseleave",r),document.documentElement.addEventListener("mouseenter",o),()=>{document.body.removeEventListener("mouseleave",r),document.body.removeEventListener("mouseenter",o)}};m();var _o="gs-debug-id",To=t=>{t.messageBus.subscribe("location_change",()=>{let n=new URLSearchParams(t.location.search).get(_o);if(n){let r=new URL(window.location.href);r.searchParams.delete(_o);let o=r.toString();window.history.replaceState({},document.title,o),qn(t,{variantId:Number(n)},{toStepIndex:0})}})};var cs=()=>{let t=document.getElementById("engagement-wrapper"),e=document.getElementById("engagement-container");return t||(t=document.createElement("div"),t.setAttribute("id","engagement-wrapper"),t.setAttribute("data-engagement","1"),document.body.appendChild(t)),e||(e=document.createElement("div"),e.setAttribute("id","engagement-container"),e.setAttribute("data-engagement","1"),t.appendChild(e)),e},ds=t=>{switch(t){case"US":return"https://gs.amplitude.com";case"EU":return"https://gs.eu.amplitude.com";default:return"http://localhost:10001"}},ls=t=>{switch(t){case"US":return"https://houston-chat.amplitude.com";case"EU":return"https://houston-chat.eu.amplitude.com";default:return"http://localhost:11001"}},Ft={local:"http://localhost:10002/index.js",staging:"https://cdn.amplitude.com/engagement-browser/staging/index.min.js.gz",stag:"https://cdn.amplitude.com/engagement-browser/staging/index.min.js.gz",stag2:"https://cdn.amplitude.com/engagement-browser/staging/index.min.js.gz",rc:"https://cdn.amplitude.com/engagement-browser/rc/index.min.js.gz",prod:"https://cdn.amplitude.com/engagement-browser/prod/index.min.js.gz",prodEu:"https://cdn.amplitude.com/engagement-browser/prod-eu/index.min.js.gz"},Wt={local:"http://localhost:10002/split/index.js",staging:"https://cdn.amplitude.com/engagement-browser/staging/split/index.js",stag:"https://cdn.amplitude.com/engagement-browser/staging/split/index.js",stag2:"https://cdn.amplitude.com/engagement-browser/staging/split/index.js",rc:"https://cdn.amplitude.com/engagement-browser/rc/split/index.js",prod:"https://cdn.amplitude.com/engagement-browser/prod/split/index.js",prodEu:"https://cdn.amplitude.com/engagement-browser/prod-eu/split/index.js"},Ht={local:"http://localhost:10001",staging:"https://gs.stag2.amplitude.com",stag:"https://gs.stag2.amplitude.com",stag2:"https://gs.stag2.amplitude.com",prod:"https://gs.amplitude.com",prodUs:"https://gs.amplitude.com",prodEu:"https://gs.eu.amplitude.com"},qt={local:"http://localhost:11001",staging:"https://houston-chat.stag2.amplitude.com",stag:"https://houston-chat.stag2.amplitude.com",stag2:"https://houston-chat.stag2.amplitude.com",rc:"https://houston-chat.stag2.amplitude.com",prod:"https://houston-chat.amplitude.com",prodUs:"https://houston-chat.amplitude.com",prodEu:"https://houston-chat.eu.amplitude.com"};function us(t){let e={};return t.split(";").forEach(r=>{let[o,i]=r.split("=");o&&(e[o]=i)}),e}var Mo=async()=>{var a,p,h,w,b,y,M;let t=localStorage.getItem("amplitude.engagement.launchCode");if(t){let x=us(t),K=document.currentScript||document.getElementById("engagement-sdk-bundle");if(K){let I=window.engagement[P].options.splitting&&(x==null?void 0:x.sdk)!=="local",R=I?Wt==null?void 0:Wt[x==null?void 0:x.sdk]:Ft==null?void 0:Ft[x==null?void 0:x.sdk];if(R&&K.src!==R){(a=K.parentNode)==null||a.removeChild(K);let B=document.createElement("script");B.src=R,B.id="engagement-sdk-bundle";let V=document.querySelector("[nonce]");V&&B.setAttribute("nonce",V.nonce||V.getAttribute("nonce")),I&&B.setAttribute("type","module"),document.getElementsByTagName("head")[0].appendChild(B);return}}if(x!=null&&x.server){let I=Ht==null?void 0:Ht[x==null?void 0:x.server];I&&(window.engagement[P].serverUrl=I);let R=qt==null?void 0:qt[x==null?void 0:x.server];R&&(window.engagement[P].chatUrl=R)}}if(((p=window.engagement)==null?void 0:p._initStarted)===!0)return;window.engagement&&(window.engagement._initStarted=!0);let e=window.engagement,{apiKey:n,serverUrl:r,serverZone:o,chatUrl:i}=e._configuration,d=Y.get("takeover","");if(!n)throw new Error("Organization `apiKey` has not been set on the global _configuration object. Make sure you've called `init` before loading this script");let l=Y.get("localeOverride","");l&&(e[P].locale=l),e[P].serverUrl=r||ds(o),e[P].chatUrl=i||ls(o),e[P].apiKey=n;let g=!!((h=e[P].options)!=null&&h.logger);(w=e[P].options)!=null&&w.logger||(e[P].options.logger=new tn),(b=e[P].options)!=null&&b.logger&&e[P].options.logger.enable((M=(y=e[P].options)==null?void 0:y.logLevel)!=null?M:2),g?v.log("Using custom logger",e[P].options.logger):v.log("Using default logger"),d&&(e[P].apiKey=d),v.log("initializing client SDK..."),nr();let f=document.getElementById("engagement-is-dashboard-preview-pane")!==null,s=document.getElementById("assistant-preview-pane-iframe")!==null,u=Zn({isEditorPreview:f,isAssistantPreview:s,platform:er(),location:{href:window.location.href,pathname:window.location.pathname,search:window.location.search},services:ko,persistResourceCenter:e._configuration.options.persistResourceCenter});Xn(u),e._configuration.options.headless||(no(u),ro(u),io(u),Io(u),lo(u),Ao(u),so(u),To(u)),ao(u);let c=new ct(u,e._configuration);if(c._sentry=nn("https://86e449af9e7145de4804c2143988499b@o13027.ingest.us.sentry.io/4508580659462144"),await c._configUser(),c=await to(c,e._q),Object.assign(window.engagement,c),Object.setPrototypeOf(window.engagement,c),e._configuration.options.headless)v.debug("Engagement bundle loaded in headless mode - no UI rendered");else{let x=cs();Po.default.render(No.default.createElement(Hr,{store:u}),x),v.debug("Engagement bundle loaded and container rendered")}};Ze("ENGAGEMENT_LOADED");window.engagement?Mo().catch(console.error):window.engagement=eo(Mo);var Iu=void 0;export{Iu as default};
