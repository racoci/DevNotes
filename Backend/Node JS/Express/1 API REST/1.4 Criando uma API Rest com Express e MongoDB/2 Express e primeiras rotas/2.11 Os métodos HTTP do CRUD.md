# 2.11 Os métodos HTTP do CRUD
Durante esta aula, utilizamos os métodos HTTP para criar, buscar, alterar e excluir livros, o famoso CRUD.

Baseado no que estudamos, analise os códigos e as afirmações para assinalar a opção correta:

- Alternativa incorreta
    
    O código abaixo fará a inclusão de um novo livro apenas com a informação de título, utilizando para isso os dados de título recebidos na requisição via `req.body.titulo`.
    
    ```js
    app.put("/livros/:id", (req, res) => {
      const index = buscaLivro(req.params.id);
      livros[index].titulo = req.body.titulo;
      res.status(200).json(livros);
    });
    ```
    
    O código está utilizando o método PUT, o que significa que espera-se a atualização do registro e não a criação de um novo. Embora tecnicamente o método PUT também possa ser usado para a criação de registros, isso vai contra as boas práticas do uso de APIs REST como a que estamos desenvolvendo.
    
- Alternativa **correta**
    
    Observando o código abaixo:
    
    ```js
    app.get("/livros", (req, res) => {
      res.status(200).json(livros);
    });
    
    app.post("/livros", (req, res) => {
      livros.push(req.body);
      res.status(201).send("livro cadastrado com sucesso");
    });
    ```
    
    É possível concluir que é correto os métodos diferentes GET e POST possam acessar exatamente a mesma rota `/livros`, pois cada método resultará em uma resposta diferente.
    
    O uso da mesma rota para todas as operações referentes a uma mesma entidade (exemplo `livro` e suas subrotas) faz parte do padrão REST. O método utilizado (GET ou POST) faz parte da estrutura da requisição e é utilizado pela API para o processamento correto da requisição e envio da resposta de acordo.
    
- Alternativa incorreta
    
    Para criarmos um novo livro, devemos fazer uma requisição do tipo PUT para a rota `/livros` conforme o código abaixo:
    
    ```js
    app.put("/livros", (req, res) => {
      livros.push(req.body);
      res.status(201).send("livro cadastrado com sucesso");
    });
    ```
    
    Embora tecnicamente o método PUT também possa ser usado para a criação de registros, isso vai contra as boas práticas do uso de APIs REST como a que estamos desenvolvendo. Para criar um novo livro, a requisição deve ser feita utilizando o método POST e a rota correspondente `app.post(//código)`.