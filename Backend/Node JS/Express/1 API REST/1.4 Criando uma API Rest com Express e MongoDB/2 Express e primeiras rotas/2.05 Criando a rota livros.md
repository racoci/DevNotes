# 2.05 Criando a rota livros

O Express foi instalado com sucesso e já criamos a primeira rota, a rota `"/"`, ou a URL base, como chamamos. No entanto, nossa URL base continua trazendo apenas `strings`, o que não é o que desejamos. Queremos trazer dados, por exemplo, dos livros da nossa livraria. Então, vamos começar a criar alguns dados para trabalharmos.

Dentro de "app.js", logo abaixo de onde iniciamos o `express()`, vou criar uma constante chamada `livros`, que por enquanto será igual a um _array_. Portanto, vou criar colchetes `[]`. Dentro deste _array_, vou criar dois livros. Portanto, será um _array_ contendo dois objetos `livro`, cada um com um `id` e um `titulo`. Por exemplo, um com `id: 1` e `título: "O Senhor dos Anéis"`, e outro com `id: 2` e `título: "O Hobbit"`.

```bash
const livros = [
    {
        id: 1,
        título: "O Senhor dos Anéis"
    },
    {
        id: 2,
        título: "O Hobbit"
    }
];
```

Agora temos um _array_ que está simulando alguns dados, como se fosse nossa base de dados de livros.

Em relação às rotas, temos a rota que bate na URL base. Podemos adicionar mais uma rota para retornar nossa lista de livros. Então, abaixo do primeiro `app.get("/")`, vou criar outro `app.get()` e, agora, o primeiro parâmetro desta função `get()`, em vez de ser "/", será `"/livros"`.

O segundo parâmetro permanece o mesmo. Ele é uma _callback function_ que recebe dois parâmetros: _req_ e _res_, que já conhecemos.

Criarei uma _arrow function_ `{}` e o retorno será `res.status()`. Novamente, vou passar aqui como valor de status 200, que é o status de OK.

Agora, não estamos mais trabalhando com uma `string`, mas com um tipo de dado estruturado: um _array_ de objetos. Então, precisamos passar o método `json()`, em vez do `send()`, que é usado para dados mais simples. Dentro de `json()`, vou referenciar nossa variável _livros_, que é nosso _array_ de livros.

```javascript
app.get("/", (req, res) => {
  res.status(200).send("Curso de Noje.js");
});

app.get("/livros", (req, res) => {
  res.status(200).json(livros);
});
```

Vou verificar no terminal se o _nodemon_ gerou algum erro. Não há nenhum erro, então, nosso servidor está funcionando. Agora, podemos voltar ao navegador e fazer um novo teste, acessando "localhost:3000/livros".

A visualização pode variar um pouco dependendo do navegador que você está usando. No Firefox, por exemplo, já temos um visualizador para objetos do tipo _JSON_. Mas, se fizermos o mesmo teste no Google Chrome, a visualização fica um pouco diferente.

### O que é o JSON?

Vamos voltar um pouco para entender o que é esse `.json()`. O _JSON_ é uma **notação de objeto** que se baseia em um objeto JavaScript. Deixarei mais informações detalhadas sobre ele nas atividades (_JSON_ é usado para estruturar dados em um formato que tanto humanos quanto máquinas possam ler).

Mas por que temos que usar o `.json()`? Para que a resposta seja interpretada corretamente.

Então, nossa resposta é uma resposta 200, ou seja, de sucesso. Agora, com o método _JSON_, é sinalizado que o que está sendo enviado nesta resposta não é mais uma `string`, como anteriormente, mas um tipo _JSON_. Este método pega nosso _array_ simples em JavaScript, o converte para _JSON_ (que é o formato de dados padrão, atualmente, de APIs REST).

Utilizamos os métodos do Express para gerenciar duas rotas: a rota base (`"/"`) e a rota livros (`"/livros"`).

### O que é o `.get()`?

O `get()` é o método que estamos utilizando, significa que queremos **obter dados**.

Existem outros métodos para diferentes ações que precisamos executar em nossa API, como enviar ou atualizar dados. A seguir, vamos descobrir quais são as diferentes formas pelas quais podemos interagir com a nossa API usando outros métodos HTTP.