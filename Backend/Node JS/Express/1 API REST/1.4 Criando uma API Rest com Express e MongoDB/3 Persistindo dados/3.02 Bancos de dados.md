# 3.02 Bancos de dados

Agora que o CRUD está completo, é o momento de substituirmos o _array_ em memória e iniciarmos a persistência dos nossos dados.

## Persistência de Dados

Quando falamos sobre persistência de dados, estamos nos referindo principalmente à capacidade de gravar, salvar ou armazenar nossos dados em uma base. A persistência de dados envolve alguns outros processos, mas inicia-se com a capacidade de armazenamento.

E afinal, _**o que são dados?**_ No contexto que estamos trabalhando nesse curso, dados são todas as informações relativas ao nosso produto. Ou seja, são as informações sobre os livros, o preço de um livro, o nome, informações sobre autores, informações sobre editoras, etc.

Começamos lidando com os dados principais utilizando o que chamamos de _**formatos primitivos**_ no JavaScript, como os formatos string, número e booliano, por exemplo. Contudo, dependendo do tipo de banco de dados, essa abordagem pode variar e hoje em dia trabalhamos com muitos outros tipos de dados.

Se pensarmos no _WhatsApp_, por exemplo, é possível enviar mensagem de texto, fotografias, GIFs, vídeos, áudios, etc.

## Bancos de Dados SQL e NoSQL

Você pode ter ouvido falar sobre alguns _**tipos de banco de dados**_ nos seus estudos. Mas, como eles funcionam e qual devemos escolher?

Uma das principais divisões entre os tipos de bancos de dados ocorre entre:

- Os bancos SQL e
- Os bancos NoSQL.

Bancos SQL incluem o _MySQL_, _PostgreSQL_, _SQLite_, _MariaDB_, entre outros. Já o MongoDB, que utilizaremos neste curso, é um exemplo de banco de dados NoSQL. Existem outros bancos NoSQL, como _Cassandra_, _Redis_, _Neo4j_, entre outros.

Os bancos SQL são muito antigos, existem desde os anos 70. Este é um dos formatos mais comuns de armazenamento de dados. SQL é uma sigla para _Structured Query Language_ (Linguagem de Consulta Estruturada), e se trata de uma linguagem própria, que nós não veremos aqui.

Bancos SQL, na verdade, são gerenciadores SQL, mas quando falamos de um banco PostgreSQL ou MySQL, geralmente é entendido da mesma forma.

NoSQL pode significar tanto "não SQL" quanto "não apenas SQL". Na verdade, são todos os bancos que não são gerenciadores SQL. Eles têm usos muito diferentes e nem todos são bancos de objetos como o MongoDB.

O SQL se caracteriza pelo uso de tabelas relacionais, por isso também os chamamos de bancos relacionais. Os dados no SQL são estruturados no formato de tabelas, com colunas e linhas, semelhantes a uma planilha do Excel.

Um dos pontos principais do SQL é o _**relacionamento entre as tabelas**_. Se pensarmos nos dados de uma livraria, cada registro, por exemplo, um autor, tem seu ID, da mesma forma que foi feito no nosso _array_.

Mas, se quiséssemos relacionar esses autores aos títulos dos livros que eles escreveram, não repetiríamos o nome do autor, e sim faríamos referência pelo seu ID.

Em relação ao autor de ID `120`, por exemplo — no caso do nosso _array_, este número corresponde a `JRR Tolkien` —, todos os livros que fossem inseridos na tabela de livros teriam seu autor referenciado pelo número ID.

No caso de Tolkien que possui o ID 120 na coluna `id` da tabela de autores, ele seria referenciado pelo ID `120` na coluna `autor_id` presente na tabela de livros. Essa referência entre tabelas evita a repetição de informações e é uma das caraterísticas mais importantes do SQL.

Nas atividades desta aula, disponibilizaremos materiais sobre SQL para que possam ser consultados.

Portanto, se um autor possui o ID `121` na tabela de autores, ele estará associado aos livros de sua autoria na tabela de livros, referenciados pelo ID `121`.

Já no âmbito do _NoSQL_, os bancos de objetos como o _MongoDB_, por exemplo, são bancos de documentos. Nesse caso, a duplicação de dados não é problema, podemos repetir dados, o que será explorado ao longo do curso.

O ponto mais importante em bancos de objetos como o _MongoDB_ é facilitar o manejo de estruturas mais complexas e ser mais rápido. Ou seja, _**armazenamos todas as informações juntas**_. Ao invés de estarem em várias tabelas diferentes, todas as informações de um livro são armazenadas juntas para serem consultadas de uma maneira mais rápida.

Portanto, neste contexto, não temos tabelas separadas que precisam ser consultadas para construir um objeto livro toda vez que precisamos trazer um registro de livro do banco.

Tanto os bancos de objetos quanto o _SQL_ têm vantagens e desvantagens. Disponibilizaremos mais informações sobre isso nas atividades do curso. Neste momento, precisamos saber que vamos utilizar um banco de objeto e de documentos, neste caso, o _MongoDB_.

Agora que conhecemos um pouco mais sobre os tipos de banco e aspctos de cada um deles, vamos criar a primeira instância do _MongoDB_.